!function(){var e=function(e,t){this.highOrder=e,this.lowOrder=t},t=function(e){var t,s=[],a=8*e.length;for(t=0;t<a;t+=8)s[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return s},s=function(e){var t,s,a=[],i=e.length;for(t=0;t<i;t+=2){if(s=parseInt(e.substr(t,2),16),isNaN(s))return"INVALID HEX STRING";a[t>>3]|=s<<24-t%8*4}return a},a=function(e){var t,s,a="0123456789abcdef",i="",n=4*e.length;for(t=0;t<n;t+=1)s=e[t>>2]>>8*(3-t%4),i+=a.charAt(s>>4&15)+a.charAt(15&s);return i},i=function(e){var t,s,a,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",l=4*e.length;for(t=0;t<l;t+=3)for(a=(e[t>>2]>>8*(3-t%4)&255)<<16|(e[t+1>>2]>>8*(3-(t+1)%4)&255)<<8|e[t+2>>2]>>8*(3-(t+2)%4)&255,s=0;s<4;s+=1)8*t+6*s<=32*e.length?n+=i.charAt(a>>6*(3-s)&63):n+="";return n},n=function(t,s){return s<=32?new e(t.highOrder>>>s|t.lowOrder<<32-s,t.lowOrder>>>s|t.highOrder<<32-s):new e(t.lowOrder>>>s|t.highOrder<<32-s,t.highOrder>>>s|t.lowOrder<<32-s)},l=function(t,s){return s<=32?new e(t.highOrder>>>s,t.lowOrder>>>s|t.highOrder<<32-s):new e(0,t.highOrder<<32-s)},r=function(t,s,a){return new e(t.highOrder&s.highOrder^t.highOrder&a.highOrder^s.highOrder&a.highOrder,t.lowOrder&s.lowOrder^t.lowOrder&a.lowOrder^s.lowOrder&a.lowOrder)},o=function(t){var s=n(t,28),a=n(t,34),i=n(t,39);return new e(s.highOrder^a.highOrder^i.highOrder,s.lowOrder^a.lowOrder^i.lowOrder)},h=function(t){var s=n(t,14),a=n(t,18),i=n(t,41);return new e(s.highOrder^a.highOrder^i.highOrder,s.lowOrder^a.lowOrder^i.lowOrder)},d=function(t){var s=n(t,1),a=n(t,8),i=l(t,7);return new e(s.highOrder^a.highOrder^i.highOrder,s.lowOrder^a.lowOrder^i.lowOrder)},c=function(t){var s=n(t,19),a=n(t,61),i=l(t,6);return new e(s.highOrder^a.highOrder^i.highOrder,s.lowOrder^a.lowOrder^i.lowOrder)},p=function(t,s){var a,i,n;return a=(65535&t.lowOrder)+(65535&s.lowOrder),n=(65535&(i=(t.lowOrder>>>16)+(s.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&t.highOrder)+(65535&s.highOrder)+(i>>>16),i=(t.highOrder>>>16)+(s.highOrder>>>16)+(a>>>16),new e((65535&i)<<16|65535&a,n)},u=function(t,s,a,i){var n,l,r;return n=(65535&t.lowOrder)+(65535&s.lowOrder)+(65535&a.lowOrder)+(65535&i.lowOrder),r=(65535&(l=(t.lowOrder>>>16)+(s.lowOrder>>>16)+(a.lowOrder>>>16)+(i.lowOrder>>>16)+(n>>>16)))<<16|65535&n,n=(65535&t.highOrder)+(65535&s.highOrder)+(65535&a.highOrder)+(65535&i.highOrder)+(l>>>16),l=(t.highOrder>>>16)+(s.highOrder>>>16)+(a.highOrder>>>16)+(i.highOrder>>>16)+(n>>>16),new e((65535&l)<<16|65535&n,r)},v=function(t,s,a,i,n){var l,r,o;return l=(65535&t.lowOrder)+(65535&s.lowOrder)+(65535&a.lowOrder)+(65535&i.lowOrder)+(65535&n.lowOrder),o=(65535&(r=(t.lowOrder>>>16)+(s.lowOrder>>>16)+(a.lowOrder>>>16)+(i.lowOrder>>>16)+(n.lowOrder>>>16)+(l>>>16)))<<16|65535&l,l=(65535&t.highOrder)+(65535&s.highOrder)+(65535&a.highOrder)+(65535&i.highOrder)+(65535&n.highOrder)+(r>>>16),r=(t.highOrder>>>16)+(s.highOrder>>>16)+(a.highOrder>>>16)+(i.highOrder>>>16)+(n.highOrder>>>16)+(l>>>16),new e((65535&r)<<16|65535&l,o)},f=function(t,s,a){var i,n,l,f,g,m,_,w,k,b,y,O,$,S,C,D,F,I,j,E=[];for("SHA-384"!==a&&"SHA-512"!==a||(O=31+(s+128>>10<<5),C=[new e(1116352408,3609767458),new e(1899447441,602891725),new e(3049323471,3964484399),new e(3921009573,2173295548),new e(961987163,4081628472),new e(1508970993,3053834265),new e(2453635748,2937671579),new e(2870763221,3664609560),new e(3624381080,2734883394),new e(310598401,1164996542),new e(607225278,1323610764),new e(1426881987,3590304994),new e(1925078388,4068182383),new e(2162078206,991336113),new e(2614888103,633803317),new e(3248222580,3479774868),new e(3835390401,2666613458),new e(4022224774,944711139),new e(264347078,2341262773),new e(604807628,2007800933),new e(770255983,1495990901),new e(1249150122,1856431235),new e(1555081692,3175218132),new e(1996064986,2198950837),new e(2554220882,3999719339),new e(2821834349,766784016),new e(2952996808,2566594879),new e(3210313671,3203337956),new e(3336571891,1034457026),new e(3584528711,2466948901),new e(113926993,3758326383),new e(338241895,168717936),new e(666307205,1188179964),new e(773529912,1546045734),new e(1294757372,1522805485),new e(1396182291,2643833823),new e(1695183700,2343527390),new e(1986661051,1014477480),new e(2177026350,1206759142),new e(2456956037,344077627),new e(2730485921,1290863460),new e(2820302411,3158454273),new e(3259730800,3505952657),new e(3345764771,106217008),new e(3516065817,3606008344),new e(3600352804,1432725776),new e(4094571909,1467031594),new e(275423344,851169720),new e(430227734,3100823752),new e(506948616,1363258195),new e(659060556,3750685593),new e(883997877,3785050280),new e(958139571,3318307427),new e(1322822218,3812723403),new e(1537002063,2003034995),new e(1747873779,3602036899),new e(1955562222,1575990012),new e(2024104815,1125592928),new e(2227730452,2716904306),new e(2361852424,442776044),new e(2428436474,593698344),new e(2756734187,3733110249),new e(3204031479,2999351573),new e(3329325298,3815920427),new e(3391569614,3928383900),new e(3515267271,566280711),new e(3940187606,3454069534),new e(4118630271,4000239992),new e(116418474,1914138554),new e(174292421,2731055270),new e(289380356,3203993006),new e(460393269,320620315),new e(685471733,587496836),new e(852142971,1086792851),new e(1017036298,365543100),new e(1126000580,2618297676),new e(1288033470,3409855158),new e(1501505948,4234509866),new e(1607167915,987167468),new e(1816402316,1246189591)],y="SHA-384"===a?[new e(3418070365,3238371032),new e(1654270250,914150663),new e(2438529370,812702999),new e(355462360,4144912697),new e(1731405415,4290775857),new e(41048885895,1750603025),new e(3675008525,1694076839),new e(1203062813,3204075428)]:[new e(1779033703,4089235720),new e(3144134277,2227873595),new e(1013904242,4271175723),new e(2773480762,1595750129),new e(1359893119,2917565137),new e(2600822924,725511199),new e(528734635,4215389547),new e(1541459225,327033209)]),t[s>>5]|=128<<24-s%32,t[O]=s,D=t.length,$=0;$<D;$+=32){for(i=y[0],n=y[1],l=y[2],f=y[3],g=y[4],m=y[5],_=y[6],w=y[7],S=0;S<80;S+=1)E[S]=S<16?new e(t[2*S+$],t[2*S+$+1]):u(c(E[S-2]),E[S-7],d(E[S-15]),E[S-16]),k=v(w,h(g),(I=m,j=_,new e((F=g).highOrder&I.highOrder^~F.highOrder&j.highOrder,F.lowOrder&I.lowOrder^~F.lowOrder&j.lowOrder)),C[S],E[S]),b=p(o(i),r(i,n,l)),w=_,_=m,m=g,g=p(f,k),f=l,l=n,n=i,i=p(k,b);y[0]=p(i,y[0]),y[1]=p(n,y[1]),y[2]=p(l,y[2]),y[3]=p(f,y[3]),y[4]=p(g,y[4]),y[5]=p(m,y[5]),y[6]=p(_,y[6]),y[7]=p(w,y[7])}switch(a){case"SHA-384":return[y[0].highOrder,y[0].lowOrder,y[1].highOrder,y[1].lowOrder,y[2].highOrder,y[2].lowOrder,y[3].highOrder,y[3].lowOrder,y[4].highOrder,y[4].lowOrder,y[5].highOrder,y[5].lowOrder];case"SHA-512":return[y[0].highOrder,y[0].lowOrder,y[1].highOrder,y[1].lowOrder,y[2].highOrder,y[2].lowOrder,y[3].highOrder,y[3].lowOrder,y[4].highOrder,y[4].lowOrder,y[5].highOrder,y[5].lowOrder,y[6].highOrder,y[6].lowOrder,y[7].highOrder,y[7].lowOrder];default:return[]}},g=function(e,a){if(this.sha384=null,this.sha512=null,this.strBinLen=null,this.strToHash=null,"HEX"===a){if(0!=e.length%2)return"TEXT MUST BE IN BYTE INCREMENTS";this.strBinLen=4*e.length,this.strToHash=s(e)}else{if("ASCII"!==a&&void 0!==a)return"UNKNOWN TEXT INPUT TYPE";this.strBinLen=8*e.length,this.strToHash=t(e)}};g.prototype={getHash:function(e,t){var s=null,n=this.strToHash.slice();switch(t){case"HEX":s=a;break;case"B64":s=i;break;default:return"FORMAT NOT RECOGNIZED"}switch(e){case"SHA-384":return null===this.sha384&&(this.sha384=f(n,this.strBinLen,e)),s(this.sha384);case"SHA-512":return null===this.sha512&&(this.sha512=f(n,this.strBinLen,e)),s(this.sha512);default:return"HASH NOT RECOGNIZED"}},getHMAC:function(e,n,l,r){var o,h,d,c,p,u,v=[],g=[];switch(r){case"HEX":o=a;break;case"B64":o=i;break;default:return"FORMAT NOT RECOGNIZED"}switch(l){case"SHA-384":u=384;break;case"SHA-512":u=512;break;default:return"HASH NOT RECOGNIZED"}if("HEX"===n){if(0!=e.length%2)return"KEY MUST BE IN BYTE INCREMENTS";h=s(e),p=4*e.length}else{if("ASCII"!==n)return"UNKNOWN KEY INPUT TYPE";h=t(e),p=8*e.length}for(128<p/8?(h=f(h,p,l))[31]&=4294967040:128>p/8&&(h[31]&=4294967040),d=0;d<=31;d+=1)v[d]=909522486^h[d],g[d]=1549556828^h[d];return c=f(v.concat(this.strToHash),1024+this.strBinLen,l),o(c=f(g.concat(c),1024+u,l))}},window.jsSHA=g}(),function(e){function t(){var e,t,s=document,a=",maximum-scale=",i=/,*maximum\-scale\=\d*\.*\d*/;function n(s){e.content=t+("blur"==s.type?t.match(i,"")?"":a+10:a+1)}this.addEventListener&&s.querySelector&&(e=s.querySelector('meta[name="viewport"]'),t=e.content,this.addEventListener("focus",n,!0),this.addEventListener("blur",n,!1))}jQuery.fn.cancelZoom=function(){return this.each(t)}}(),function(e){var t,s=e.Views.Base,a=e.Data.Settings.tabs;t=function(e){this.settings=e.settings,s.call(this,e),this.settings.on("change",c.bind(this)),this.settings.on("change:cloudsave",this._updateCloudSaveBookmarklet.bind(this)),this._renderTab(window.location.hash.replace("#","")),w.addEventListener("hashchange",function(){this._renderTab(window.location.hash.replace("#",""))}.bind(this))},e.Views.Settings.Main=t,t.prototype=$.extend({},s.prototype,{template:"settings_main",_render:function(){s.prototype._render.call(this,{tabs:a}),this.$detail=this.$(".js-set-detail"),this.views.cloudsave=new e.Views.Settings.CloudSave({settings:this.settings,before:this.$(".js-set-bookmarklet")}),this._cacheElems(".js-set",["head-tab","exit","bookmarklet-expand","bookmarklet-close","bookmarklet-detail","bookmarklet-json","bookmarklet-url","bookmarklet-cookie","bookmarklet-cs-label","bookmarklet-cs-url","reset-msg","reset-expand","reset-confirm","reset-cancel","reset-detail"]),this.$headtab.click(n.bind(this)),this.$bookmarkletexpand.click(h.bind(this)),this.$bookmarkletclose.click(d.bind(this)),this.$resetexpand.click(l.bind(this)),this.$resetconfirm.click(r.bind(this)),this.$resetcancel.click(o.bind(this)),this.$exit.click(p.bind(this)),this._updateBookmarkletData(),this._updateCloudSaveBookmarklet()},_renderTab:function(t){t&&a.some((function(e){return e.id===t}))||(t="general"),this.views.tab&&(this.$(".js-set-head-tab.is-active").removeClass("is-active"),this.views.tab.destroy(),this.$detail.empty(),delete this.views.tab),this.$(".js-set-"+t).addClass("is-active"),"appearance"===t&&(new e.Views.Settings.ThemeFormField({id:"kae",settings:e.settings,data:e.settings.getData("kae"),appendTo:this.$detail}),this.$detail.append('<div id="kae-hr" class="frm__hr"></div>')),this.views.tab=new e.Views.Settings.Tab({tabId:t,settings:this.settings,appendTo:this.$detail}),u()},_updateBookmarkletData:function(){this.$bookmarkletjson.text(JSON.stringify(this.settings.toJSON())),this.$bookmarkleturl.val(this.settings.toBookmarkletURL()),this.$bookmarkletcookie.text(document.cookie)},_updateCloudSaveBookmarklet:function(){var e=this.settings.getCloudSaveKey()?"removeClass":"addClass";this.$bookmarkletcslabel[e]("is-hidden"),this.$bookmarkletcsurl[e]("is-hidden"),this.$bookmarkletcsurl.val(this.settings.toCloudSaveBookmarkletURL())}});var i=function(){this.$resetexpand.removeClass("is-hidden"),this.$resetdetail.addClass("is-hidden")},n=function(t){t.preventDefault();var s=$(t.target).attr("data-tabid"),a="settings#";e.device.isMobileDevice&&(e.device.isAndroid||e.device.isIDevice)&&e.device.isDDGApp&&[-1,-2].includes(parseInt(e.settings.get("ko"),10))&&(a="settings?ko=-1#"),w.history.replaceState(w.history.state,"",a+s),this._renderTab(s),u()},l=function(){this.$resetmsg.text(this.settings.getCloudSaveKey()?lp("settings","This will reset your saved settings to default values. Continue?"):lp("settings","This will erase all settings. Continue?")),this.$resetexpand.addClass("is-hidden"),this.$resetdetail.removeClass("is-hidden")},r=function(){var e=!this.settings.isDefault(this.settings.LANGUAGE_KEY);this.settings.clearAll({fromUser:!0}),this.settings.saveToCloud((function(){e&&window.location.reload()})),u(),i.call(this)},o=function(){i.call(this)},h=function(){this.$bookmarkletexpand.addClass("is-hidden"),this.$bookmarkletdetail.removeClass("is-hidden")},d=function(e){e.preventDefault(),this.$bookmarkletexpand.removeClass("is-hidden"),this.$bookmarkletdetail.addClass("is-hidden")},c=function(t){this._updateBookmarkletData(),"kp"===t&&e.pixel.fire("sss","s",{v:this.settings.get("kp")}),u()},p=function(e){e.preventDefault(),w.history.back()},u=function(){var t=$("#setting_kaf"),s=$("#setting_kai"),a=$('#setting_kaf option[value="b"]'),i=$('#setting_kai option[value="a"]');e.page.canShowSerpUxExp()?(a.length||(t.prepend($('<option value="b">Full URLs (Breadcrumbs)</option>')),t.val("b")),i.length||(s.prepend($('<option value="a">Above Title</option>')),s.val("a"))):(a.remove(),i.remove(),t.val()&&"b"!==t.val()||t.val("s"),s.val()&&"a"!==s.val()||s.val("b"))}}(DDG),function(e){var t,s=e.Views.Base,a="frm__hr";e.Views.Settings.Tab=t=function(t){this.tabId=t.tabId,this.settings=t.settings,this.tab=e.findInArray(e.Data.Settings.tabs,"id",this.tabId),s.call(this,t)},t.prototype=$.extend({},s.prototype,{template:"settings_tab",_render:function(){s.prototype._render.call(this,{id:this.tabId}),this.fields=[];for(var t=0;t<this.tab.settings.length;t++){var i=this.tab.settings[t],n=this.settings.getData(i);if(("kat"!==i&&"kar"!==i||!e.settings.isDefault("kat")||!e.settings.isDefault("kar"))&&!(("ko"===i||"kj"===i||"Header Appearance"===i)&&e.device.isMobileDevice&&(e.device.isAndroid||e.device.isIDevice)&&e.device.isDDGApp&&[-1,-2].includes(parseInt(e.settings.get("ko"),10))||n.hasOwnProperty("skip")))if("break"!==i)if("k"===i.charAt(0)){if("kp"!==i||!e.page.isSafeDDG){var l=this.settings.getData(i),r=this.settings.getFieldClass(l.type);this.fields.push(new e.Views.Settings[r]({id:i,settings:this.settings,data:l,appendTo:this.$el,source:"t"}))}}else this.$el.append('<div class="frm__section-label">'+lp("settings",i)+"</div>");else{var o=this.$el.children()?this.$el.children().last():null;!!o&&o.hasClass(a)||this.$el.append('<div class="'+a+'"></div>')}}}})}(DDG),function(e){var t,s=e.Views.Base;e.Views.Settings.FormField=t=function(e){this.settings=e.settings,this.id=e.id,this.data=e.data,this.data.fieldId="setting_"+this.id,this.data.breakOnSmallScreens=this.data.type.match(/^dropdown|dropdowncustom$/),this.data[this.data.type]=!0,this.source=e.source,s.call(this,e),this.settings&&this._updateState()},t.prototype=$.extend({},s.prototype,{template:"settings_field",destroy:function(){this.settings&&this.settings.off("change:"+this.id,this._onSettingChangeFn),s.prototype.destroy.call(this)},getFromDOM:function(){return this.$fld.val()},setToDOM:function(e){this.$fld.val(e)},_render:function(){s.prototype._render.call(this,this.data),this.$fld=this.$(".js-set-input"),this.$fld.change(this._onFormFieldChange.bind(this)),is_mobile_device&&this.$fld.cancelZoom(),this.settings&&(this._onSettingChangeFn=this._updateState.bind(this),this.settings.on("change:"+this.id,this._onSettingChangeFn))},_updateState:function(){this.setToDOM(this.settings.get(this.id))},_updateSetting:function(t,s){this.settings&&this.settings.set(this.id,t,{saveToCloud:!0,forceTheme:!0},s),this.source&&e.pixel.fire("set",this.source,this.id),this.emit("change",t)},_onFormFieldChange:function(){var t=this;this._updateSetting(this.getFromDOM(),(function(){t.id===t.settings.LANGUAGE_KEY?window.location.reload():t.id===e.addToBrowser.BADGE_DISMISS_KEY&&"-1"==t.getFromDOM()?t.settings.set(e.addToBrowser.BADGE_RECURRING_KEY,"-1"):t.id===e.addToBrowser.NEWSLETTER_DISMISS_KEY&&"-1"==t.getFromDOM()&&t.settings.set(e.addToBrowser.NEWSLETTER_RECURRING_KEY,"-1")}))}})}(DDG),function(e){var t,s=e.Views.Settings.FormField;e.Views.Settings.BooleanFormField=t=function(e){s.call(this,e)},t.prototype=$.extend({},s.prototype,{getFromDOM:function(){var e=this.$fld.prop("checked")?"1":"-1";return this.data.values&&(e=this.data.values[e]),e},setToDOM:function(e){if(this.data.values)for(var t in this.data.values){if(e===this.data.values[t]){e=t;break}}isNaN(parseInt(e,10))&&(e=1),this.$fld.prop("checked","1"==e);var s="1"==e?"addClass":"removeClass";this.$el[s]("is-checked")}})}(DDG),function(e){var t,s=e.Views.Settings.FormField;e.Views.Settings.ColorFormField=t=function(e){this._onResizeFn=r.bind(this),s.call(this,e)},t.prototype=$.extend({},s.prototype,{destroy:function(){this._hideColorPicker(),s.prototype.destroy.call(this)},setToDOM:function(e){var t=tinycolor(e),s=t.isValid()&&t.toHexString()||"#fff";this.$swatch||(this.$swatch=this.$(".js-set-color-swatch")),this.$swatch.css({backgroundColor:s}),this.cp&&this.cp.setColor(s),this.$fld.val(s)},_render:function(){s.prototype._render.call(this),this.$el.on("click",i.bind(this))},_showColorPicker:function(){this.cp=new e.Views.Settings.ColorPicker({appendTo:$("body")}),this.cp.on("change",n.bind(this)),this.cp.on("hide",l.bind(this)),this.cp.show($.extend({color:this.settings.get(this.id)},a.call(this))),e.device.on("resize",this._onResizeFn)},_hideColorPicker:function(){this.settings.saveToCloud(),this.cp&&this.cp.destroy(),delete this.cp,e.device.off("resize",this._onResizeFn)}});var a=function(){var e=this.$fld.offset();return{top:e.top+this.$fld.outerHeight()/2-this.cp.height/2,left:e.left-this.cp.width-15}},i=function(){this.cp?this._hideColorPicker():this._showColorPicker()},n=function(e){this.$fld.val(e),this._onFormFieldChange()},l=function(){this._hideColorPicker()},r=function(){this.cp&&this.cp.position(a.call(this))}}(DDG),function(e){var t,s=e.Views.Settings.FormField;e.Views.Settings.ThumbnailFormField=t=function(e){s.call(this,e)},t.prototype=$.extend({},s.prototype,{getFromDOM:function(){return this.$("input:checked").val()},setToDOM:function(e){this.$("input:checked").prop("checked"),this.$(".is-checked").removeClass("is-checked");var t=this.$("#"+this.data.fieldId+"_"+e);t.prop("checked",!0),t.parent().addClass("is-checked")},_render:function(){s.prototype._render.call(this);var e=this;this.$("label").click((function(t){t.preventDefault();var s=$(this).attr("data-theme-id");e._updateSetting(s)}))}})}(DDG),function(e){var t,s=e.Views.Settings.FormField;e.Views.Settings.CompositeFormField=t=function(e){s.call(this,e)},t.prototype=$.extend({},s.prototype,{template:"settings_composite_field",destroy:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();s.prototype.destroy.call(this)},getFromDOM:function(){for(var e=[],t=0;t<this.fields.length;t++)e.push(this.fields[t].getFromDOM());return this.data.compositeKey[e.join(":")]},setToDOM:function(e){var t;for(var s in this.data.compositeKey){if(e===this.data.compositeKey[s]){t=s.split(":");break}}if(t&&t.length)for(var a=0;a<this.fields.length;a++)this.fields[a].setToDOM(t[a])},_render:function(){this.fields=[];for(var t=0;t<this.data.subsettings.length;t++){var s=this.data.subsettings[t],a="boolean"===s.type?"BooleanFormField":"FormField",i=new e.Views.Settings[a]({id:s.id,data:s,appendTo:this.$parent});this.fields.push(i),i.on("change",this._onFormFieldChange.bind(this))}this._onSettingChangeFn=this._updateState.bind(this),this.settings.on("change:"+this.id,this._onSettingChangeFn),this._updateState()}})}(DDG),function(e){var t,s=e.Views.Settings.FormField,a="is-hidden";e.Views.Settings.DropDownCustomFormField=t=function(e){s.call(this,e)},t.prototype=$.extend({},s.prototype,{getFromDOM:function(){return this._showingCustom?this.$customInput.val():this.$fld.val()},setToDOM:function(e){!e||i(e,this.data.values)?(this.$customInput.val(e),this._showCustom()):(this.$fld.val(e),this._hideCustom())},_render:function(){this.data.customVal="custom",s.prototype._render.call(this),this.$dropdown=this.$(".js-set-dropdown"),this.$custom=this.$(".js-set-custom"),this.$customInput=this.$(".js-set-custom-input"),this.$customClose=this.$(".js-set-custom-close"),this.$customInput.change(this._onFormFieldChange.bind(this)),this.$customClose.on("click",this._hideCustom.bind(this))},_showCustom:function(){if(!this._showingCustom){this.$custom.removeClass(a),this.$dropdown.addClass(a),this._showingCustom=!0;var e=this.getFromDOM();e&&this._updateSetting(e)}},_hideCustom:function(){this._showingCustom&&(this.$custom.addClass(a),this.$dropdown.removeClass(a),this._showingCustom=!1,this._updateSetting(this.settings.getDefault(this.id)))},_onFormFieldChange:function(){if("custom"===this.getFromDOM()&&!this._showingCustom)return this._showCustom();s.prototype._onFormFieldChange.call(this)}});var i=function(e,t){return!t[e]}}(DDG),function(e){var t,s=e.Views.Settings.FormField;e.Views.Settings.ClearFormField=t=function(e){s.call(this,e)},t.prototype=$.extend({},s.prototype,{_render:function(){s.prototype._render.call(this),this.$wrap=this.$(".js-set-input-wrap")},getFromDOM:function(){return""},setToDOM:function(e){e?(this.$wrap.removeClass("is-hidden"),this.$el.addClass("is-checked"),this.$fld.prop("checked",!0)):(this.$wrap.addClass("is-hidden"),this.$el.removeClass("is-checked"),this.$fld.prop("checked",!1))}})}(DDG),function(e){var t,s=e.Views.Base,a="settings_cloudsave",i=".js-cloudsave";t=function(e){this.settings=e.settings,s.call(this,e),this.settings.on("loaded-initial",u.bind(this)),this.settings.on("loaded",v.bind(this))},e.Views.Settings.CloudSave=t,t.prototype=$.extend({},s.prototype,{template:"settings_cloudsave",_render:function(e){s.prototype._render.call(this,e),this._renderState()},_renderState:function(t){switch(this.$el.empty(),this.$el.removeClass("has-error"),this.$el.removeClass("is-showing-passphrase"),!t&&this.settings.getCloudSaveKey()&&(t="enabled"),t){case"faq":this.$el.append(e.exec_template(a+"_faq")),this.$(i+"-close").click(c.bind(this));break;case"load":this.$el.append(e.exec_template(a+"_load")),this.$("form").submit(r.bind(this)),this.$(i+"-phrase").keyup(p.bind(this)),this.$(i+"-show-hide-passphrase").click(n.bind(this)),this.$(i+"-close").click(c.bind(this));break;case"save":this.$el.append(e.exec_template(a+"_save")),this.$("form").submit(o.bind(this)),this.$(i+"-close").click(c.bind(this)),this.$(i+"-new-suggestion").click(this._suggestPassPhrase.bind(this));break;case"enabled":this.$el.append(e.exec_template(a+"_enabled")),this.$(i+"-delete").click(h.bind(this)),this.$(i+"-disable").click(d.bind(this));break;default:this.$el.append(e.exec_template(a+"_default")),this.$(i+"-save-btn").click(this._renderState.bind(this,"save")),this.$(i+"-load-btn").click(this._renderState.bind(this,"load")),this.$(i+"-faq").click(this._renderState.bind(this,"faq"))}},_renderError:function(e){this.$el.addClass("has-error"),this.$(i+"-error").text(e)},_suggestPassPhrase:function(){var e=this.$(i+"-phrase"),t=this.$(i+"-new-suggestion");t.addClass("is-disabled"),t.text(l("Loading...")),this.settings.cloudsave.suggestPassPhrase((function(s,a){!s&&a&&e.val(a),t.text(lp("settings","Suggest Different Passphrase")),t.removeClass("is-disabled")}))}});var n=function(){var e=this.$el.hasClass("show-passphrase")?"removeClass":"addClass";this.$el[e]("show-passphrase")},r=function(e){e.preventDefault();var t=this.$(i+"-phrase").val();this.$(i+"-load-btn").addClass("is-disabled"),this.settings.setCloudSavePassPhrase(t),this.settings.loadFromCloud({clearAll:!0})},o=function(e){e.preventDefault();var t=this,s=this.$(i+"-phrase").val(),a=this.$(i+"-save-btn");a.addClass("is-disabled"),this.settings.cloudsave.validatePassPhrase(s,(function(e){if(e)return a.removeClass("is-disabled"),t._renderError(e);t.settings.setCloudSavePassPhrase(s),t.settings.saveToCloud((function(e){if(a.removeClass("is-disabled"),e)return t.settings.clearCloudSave(),t._renderError(lp("cloudsave","Something went wrong saving to the server, please try again."));t._renderState()}))}))},h=function(){var e=this;this.settings.clearCloudSave({deleteFromServer:!0},(function(t){t?e._renderError(lp("cloudsave","Something went wrong saving to the server, please try again.")):e._renderState()}))},d=function(){this.settings.clearCloudSave(),this._renderState()},c=function(e){this._renderState()},p=function(e){var t=$(e.target).val(),s=t?"show":"hide";this.$(i+"-show-hide-passphrase")[s](),this.$(i+"-phrase").val(t)},u=function(e){e?(this._renderState("load"),this._renderError(e)):this._renderState()},v=function(e){if(this.$(i+"-load-btn").removeClass("is-disabled"),e)this.settings.clearCloudSave(),this._renderError(lp("cloudsave","Passphrase not found."));else{if(!this.settings.isDefault(this.settings.LANGUAGE_KEY))return window.location.reload();this._renderState()}}}(DDG),function(e){var t=e.Views.Base,s=e.eventToCoordinates,a="touchstart.cp mousedown.cp",i="touchmove.cp mousemove.cp",n="touchend.cp mouseup.cp";(e.Views.Settings.ColorPicker=function(e){t.call(this,e),this.hsv={},this._cacheElems(".js-cp",["1d","1d-marker","2d","2d-marker"])}).prototype=$.extend({},t.prototype,{template:"settings_colorpicker",width:175,height:150,destroy:function(){this.hide(),t.prototype.destroy.call(this)},show:function(e){this._isShowing&&this.hide(),e.color&&this.setColor(e.color),this.position(e),this.$el.show(),this.$1d.bind(a,f.bind(this)),this.$2d.bind(a,p.bind(this)),$(document).on("keydown.cp",_.bind(this)),$(document).on(a,w.bind(this)),this._isShowing=!0},position:function(e){this.top=e.top,this.left=e.left,this.$el.css({top:this.top,left:this.left})},setColor:function(e){if((e=tinycolor(e)).isValid()){var t=e.toHsv();this._update1dMarker({hsv:t,silent:!0}),this._update2dMarker({hsv:t,silent:!0})}},hide:function(){this._isShowing&&(this.$el.hide(),$(document).off("keydown.cp"),$(document).off(a),c(),this._isShowing=!1,this.emit("hide"))},_update1dMarker:function(e){var t=0;if(e.y)t=o.call(this,e.y);else{if(!e.hsv)return;t=e.hsv.h/360}this.hsv.h=360*t,this.$1dmarker.css({top:100*t+"%"}),this.$2d.css({backgroundColor:tinycolor({h:this.hsv.h,s:1,v:1}).toHexString()}),e.silent||this._emitColor()},_update2dMarker:function(e){var t=0,s=0;if(e.x||e.y)t=o.call(this,e.y),s=h.call(this,e.x);else{if(!e.hsv)return;s=e.hsv.s,t=1-e.hsv.v}this.hsv.s=s,this.hsv.v=1-t,this.$2dmarker.css({top:100*t+"%",left:100*s+"%"}),e.silent||this._emitColor()},_emitColor:function(){var e=tinycolor({h:this.hsv.h,s:this.hsv.s,v:this.hsv.v}),t=e.toHexString();this._lastColorHex&&this._lastColorHex===t||e.isValid()&&(this._lastColorHex=t,this.emit("change",t))}});var l=function(e,t,s){return e=Math.max(e,t),e=Math.min(e,s)},r=function(e){return e/120},o=function(e){var t=DDG.device.scrollTop()+e-this.top-15,s=l(t,0,120);return r(s)},h=function(e){var t=e-this.left-15,s=l(t,0,120);return r(s)},d=function(e,t){$(document).bind(i,e),$(document).bind(n,t)},c=function(){$(document).unbind(i),$(document).unbind(n)},p=function(e){e.stopPropagation(),this._update2dMarker(s(e)),d(u.bind(this),v.bind(this))},u=function(e){e.preventDefault(),this._update2dMarker(s(e))},v=function(){c()},f=function(e){e.stopPropagation(),this._update1dMarker(s(e)),d(g.bind(this),m.bind(this))},g=function(e){e.preventDefault(),this._update1dMarker(s(e))},m=function(){c()},_=function(e){13!=e.keyCode&&27!=e.keyCode||this.hide()},w=function(e){this._isShowing&&this.hide()}}(DDG),function(e){var t,s=e.Views.Settings.FormField;e.Views.Settings.ThemeFormField=t=function(e){s.call(this,e)},t.prototype=$.extend({},s.prototype,{template:"settings_theme",getFromDOM:function(){return this.$("input:checked").val()},setToDOM:function(e){this.$("input:checked").prop("checked"),this.$(".is-checked").removeClass("is-checked");var t=this.$("#"+this.data.fieldId+"_"+e);t.prop("checked",!0),t.parent().addClass("is-checked")},_render:function(){this._filterOptions(),this._configureColors(),s.prototype._render.call(this);var t=this;this._cacheElems(".js-set-theme",["appearance"]),this.$("label").click((function(e){e.preventDefault();var s=$(this).attr("data-theme-id");t._updateSetting(s)})),this.bindEvents([[this.$appearance,"click",function(){e.pixel.fire("sda")}]])},_filterOptions:function(){if("d"===this.source&&this.data.dropdownSettings.options){var e=this.data.dropdownSettings.options;for(var t in this.data.values)-1===e.indexOf(t)&&delete this.data.values[t]}},_configureColors:function(){for(var e in this.data.values){var t=this.data.values[e];t.colors={title:t.settings.k9||null,url:t.settings.kx||null,snippet:t.settings.k8||null,background:t.settings.k7||null},"-1"===t.id&&(t.colors={title:DDG.settings.getDefault("k9"),url:DDG.settings.getDefault("kx"),snippet:DDG.settings.getDefault("k8"),background:DDG.settings.getDefault("k7")})}}})}(DDG),this.DDG=this.DDG||{},this.DDG.templates=this.DDG.templates||{},this.DDG.templates.settings_cloudsave_default=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var n,l="";return l+='<span class="cloudsave__icn  ddgsi">c</span><h4 class="cloudsave__title">',((n=(s=this.merge(s,e.helpers)).l.call(t,"Cloud Save",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h4><p>",((n=s.lp.call(t,"settings","Save your settings anonymously to the cloud",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p><a class="cloudsave__whats-this  js-cloudsave-faq" href="#">',((n=s.l.call(t,"What is this?",{hash:{},data:i}))||0===n)&&(l+=n),l+='</a><div class="cloudsave__actions"><span class="btn  js-cloudsave-save-btn">',((n=s.l.call(t,"Save Settings",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><span class="btn  js-cloudsave-load-btn">',((n=s.l.call(t,"Load Settings",{hash:{},data:i}))||0===n)&&(l+=n),l+="</span></div>"})),this.DDG.templates.settings_cloudsave_enabled=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var n,l="";return l+='<span class="ddgsi  cloudsave__icn">c</span><h4 class="cloudsave__title">',((n=(s=this.merge(s,e.helpers)).lp.call(t,"cloudsave","Cloud Save Enabled",{hash:{},data:i}))||0===n)&&(l+=n),l+='</h4><div class="cloudsave__actions"><span class="btn  js-cloudsave-disable">',((n=s.l.call(t,"Disable",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><span class="btn  js-cloudsave-delete">',((n=s.l.call(t,"Delete My Data",{hash:{},data:i}))||0===n)&&(l+=n),l+="</span></div>"})),this.DDG.templates.settings_cloudsave_faq=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var n,l="";return l+='<article><div class="cloudsave__close  ddgsi  js-cloudsave-close" href="#">X</div><span class="ddgsi  cloudsave__icn">c</span><h4 class="cloudsave__title">',((n=(s=this.merge(s,e.helpers)).lp.call(t,"cloudsave","Cloud Save FAQ",{hash:{},data:i}))||0===n)&&(l+=n),l+='</h4><div class="cloudsave__faq"><p>',((n=s.lp.call(t,"cloudsave","Cloud Save lets you save your settings more permanently by entering a passphrase. It is entirely optional.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p><p>",((n=s.lp.call(t,"cloudsave","This has a few benefits:",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p><ul><li>",((n=s.lp.call(t,"cloudsave","You can share your settings among computers and browsers.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</li><li>",((n=s.lp.call(t,"cloudsave","You can restore your settings after deleting cookies.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</li><li>",((n=s.lp.call(t,"cloudsave","You can store several sets of settings for different purposes.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</li></ul><section><h5>",((n=s.lp.call(t,"cloudsave","What information gets saved?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","Only the settings that you have changed. They are detailed on the %sURL Parameters%s page.",'<a href="/params">',"</a>",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","How does it work?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","Your passphrase generates a 512-bit key by using the Secure Hash Algorithm known as %sSHA-2%s. Only the key and associated settings file leave your browser. We save the settings file using the key as the name. DuckDuckGo never knows your passphrase.",'<a href="http://en.wikipedia.org/wiki/SHA-2">',"</a>",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p><p>",((n=s.lp.call(t,"cloudsave","In the interest of transparency, this data is not encrypted: You can see exactly what information we store.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","What is the Cloud Save bookmarklet and how does it differ from the URL parameter bookmarklet?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","The Cloud Save bookmarklet allows any changes you make to your settings to automatically save in the cloud.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","How is it anonymous?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","We don't store usernames or any personally identifiable information.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","How does passphrase generation work?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","Each time you ask for a passphrase suggestion, we receive a long list of random words from the DuckDuckGo servers. In the browser, we then select 4-5 random words from that list, ensuring that the passphrase is at least 18-20 characters long.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p><p>",((n=s.lp.call(t,"cloudsave","It’s easier to remember 4-5 words than 10 random letters and numbers, and far more secure.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","How do I change my passphrase?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","You can do this by saving your settings under a different passphrase, optionally deleting the first set.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p><ol><li>",((n=s.lp.call(t,"cloudsave","Enable Cloud Save by entering your existing passphrase.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</li><li>",((n=s.lp.call(t,"cloudsave","Click or tap %sDelete My Data%s. This removes the data from the cloud, but it remains in your browser until you click/tap %sReset All Search Settings%s.","<strong>","</strong>","<strong>","</strong>",{hash:{},data:i}))||0===n)&&(l+=n),l+="</li><li>",((n=s.lp.call(t,"cloudsave","Enter a new passphrase and click/tap %sSave Settings%s. This will save your data under your new passphrase.","<strong>","</strong>",{hash:{},data:i}))||0===n)&&(l+=n),l+="</li></ol></section><section><h5>",((n=s.lp.call(t,"cloudsave","I forgot my passphrase. Can you recover it?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","Passphrases cannot be recovered as we don't associate your IP address, browser fingerprint, or any other information with the file.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","Is deleted data really deleted?",{hash:{},data:i}))||0===n)&&(l+=n),l+="</h5><p>",((n=s.lp.call(t,"cloudsave","Yes, we throw away data when you’re done with it, and it cannot be recovered.",{hash:{},data:i}))||0===n)&&(l+=n),l+="</p></section><section><h5>",((n=s.lp.call(t,"cloudsave","See also",{hash:{},data:i}))||0===n)&&(l+=n),l+='</h5><ul><li><a href="https://duck.co/topic/a-preview-of-the-new-settings-system">',((n=s.lp.call(t,"cloudsave","Cloud Save discussion on duck.co",{hash:{},data:i}))||0===n)&&(l+=n),l+='</a></li><li><a href="https://duckduckgo.com/duckduckgo-help-pages/settings/save/">',((n=s.l.call(t,"DuckDuckGo Support Center",{hash:{},data:i}))||0===n)&&(l+=n),l+="</a></li></ul></section></div></article>"})),this.DDG.templates.settings_cloudsave_load=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var n,l="";return l+='<div class="cloudsave__close  ddgsi  js-cloudsave-close" href="#">X</div><span class="ddgsi  cloudsave__icn">c</span><h4 class="cloudsave__title">',((n=(s=this.merge(s,e.helpers)).lp.call(t,"cloudsave","Load Cloud Settings",{hash:{},data:i}))||0===n)&&(l+=n),l+='</h4><form class="frm"><label class="frm__label">',((n=s.lp.call(t,"cloudsave","Enter your passphrase to load your settings.",{hash:{},data:i}))||0===n)&&(l+=n),l+='</label><input class="frm__input  cloudsave__load-password  js-cloudsave-phrase" val="" type="password" placeholder="',((n=s.lp.call(t,"settings","Enter a passphrase",{hash:{},data:i}))||0===n)&&(l+=n),l+='" autocomplete="current-password" /><input class="frm__input  cloudsave__load-text  js-cloudsave-phrase" val="" type="text" placeholder="',((n=s.lp.call(t,"settings","Enter a passphrase",{hash:{},data:i}))||0===n)&&(l+=n),l+='" autocomplete="current-password" /><input type="submit" class="btn  btn--primary  js-cloudsave-load-btn"  value=\'',((n=s.lp.call(t,"settings","Load",{hash:{},data:i}))||0===n)&&(l+=n),l+='\' /><div class="cloudsave__show-hide-passphrase  js-cloudsave-show-hide-passphrase"><span class="cloudsave__show-password">',((n=s.lp.call(t,"settings","Show Passphrase",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><span class="cloudsave__hide-password">',((n=s.lp.call(t,"settings","Hide Passphrase",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span></div><p class="cloudsave__error  js-cloudsave-error"></p></form>'})),this.DDG.templates.settings_cloudsave_save=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var n,l="";return l+='<div class="cloudsave__close  ddgsi  js-cloudsave-close" href="#">X</div><span class="ddgsi  cloudsave__icn">c</span><h4 class="cloudsave__title">',((n=(s=this.merge(s,e.helpers)).lp.call(t,"settings","Save Cloud Settings",{hash:{},data:i}))||0===n)&&(l+=n),l+='</h4><form class="frm"><label class="frm__label">',((n=s.lp.call(t,"cloudsave","Choose a unique passphrase for your settings.",{hash:{},data:i}))||0===n)&&(l+=n),l+='</label><input class="frm__input  js-cloudsave-phrase"  placeholder="',((n=s.lp.call(t,"settings","Enter a passphrase",{hash:{},data:i}))||0===n)&&(l+=n),l+='"  val="" autocomplete="new-password" /><input class="btn  btn--primary  js-cloudsave-save-btn"  type="submit"  value=\'',((n=s.l.call(t,"Save",{hash:{},data:i}))||0===n)&&(l+=n),l+='\' /><span class="cloudsave__new-suggestion  js-cloudsave-new-suggestion">',((n=s.lp.call(t,"settings","Suggest a Passphrase",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><p class="cloudsave__error  js-cloudsave-error"></p></form>'})),this.DDG.templates.settings_cloudsave=Handlebars.template((function(e,t,s,a,i){return this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{},'<div class="cloudsave"></div>'})),this.DDG.templates.settings_colorpicker=Handlebars.template((function(e,t,s,a,i){return this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{},'<div class="colorpicker"><div class="colorpicker__nub"></div><div class="colorpicker__2d  js-cp-2d"><div class="colorpicker__2d-white"></div><div class="colorpicker__2d-black"></div><div class="colorpicker__2d-marker  js-cp-2d-marker"></div></div><div class="colorpicker__1d  js-cp-1d"><div class="colorpicker__1d-marker  js-cp-1d-marker"></div></div></div>'})),this.DDG.templates.settings_field=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{};var n,l="",r="function",o=this.escapeExpression,h=this;function d(e,t){var a;return(a=s.if.call(e,null==(a=e&&e.value)||!1===a?a:a.name,{hash:{},inverse:h.program(5,p,t),fn:h.program(3,c,t),data:t}))||0===a?a:""}function c(e,t){var a,i="";return i+='<option value="'+o(typeof(a=e&&e.key)===r?a.apply(e):a)+'">',((a=s.lp.call(e,"settingsvalue",null==(a=e&&e.value)||!1===a?a:a.name,{hash:{},data:t}))||0===a)&&(i+=a),i+="</option>"}function p(e,t){var a,i="";return i+='<option value="'+o(typeof(a=e&&e.key)===r?a.apply(e):a)+'">',((a=s.lp.call(e,"settingsvalue",e&&e.value,{hash:{},data:t}))||0===a)&&(i+=a),i+="</option>"}function u(e,t){return"frm__desc--break-xs"}function v(e,t){var a;return(a=s.unless.call(e,null==(a=e&&e.value)||!1===a?a:a.suppress,{hash:{},inverse:h.noop,fn:h.program(22,f,t),data:t}))||0===a?a:""}function f(e,t){var a,i="";return i+='<label class="set-thumbnail" for="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+"_"+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" data-theme-id="'+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'"><input id="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+"_"+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" class="set-thumbnail__inp  js-set-input" type="radio" name="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'" value="'+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" /><img class="set-thumbnail__img" src="/assets/settings/'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+"_"+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'.100.jpg" /><span class="set-thumbnail__check  ddgsi  ddgsi-check"></span><span class="set-thumbnail__label">',((a=s.lp.call(e,"theme",null==(a=e&&e.value)||!1===a?a:a.name,{hash:{},data:t}))||0===a)&&(i+=a),i+="</span></label>"}return l+='<div class="frm__field  fix">',n=s.if.call(t,t&&t.dropdown,{hash:{},inverse:h.noop,fn:h.program(1,(function(e,t){var a,i="";return i+='<div class="frm__select  frm__ctrl--break-xs"><select id="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'" class="frm__select__input js-set-input">',((a=s.keys.call(e,e&&e.values,{hash:{},inverse:h.noop,fn:h.program(2,d,t),data:t}))||0===a)&&(i+=a),i+="</select></div>"}),i),data:i}),(n||0===n)&&(l+=n),n=s.if.call(t,t&&t.dropdowncustom,{hash:{},inverse:h.noop,fn:h.program(7,(function(e,t){var a,i="";return i+='<div class="frm__select  frm__ctrl--break-xs js-set-dropdown"><select id="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'" class="frm__select__input js-set-input">',((a=s.keys.call(e,e&&e.values,{hash:{},inverse:h.noop,fn:h.program(5,p,t),data:t}))||0===a)&&(i+=a),i+='<option value="'+o(typeof(a=e&&e.customVal)===r?a.apply(e):a)+'">',((a=s.lp.call(e,"settingsvalue","Custom",{hash:{},data:t}))||0===a)&&(i+=a),i+='</option></select></div><div class="frm__input--clearable  frm__ctrl--break-xs  js-set-custom  is-hidden"><input id="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'_custom" class="frm__input  js-set-custom-input" placeholder=\'',((a=s.lp.call(e,"settingsvalue","Custom %s",e&&e.name,{hash:{},data:t}))||0===a)&&(i+=a),i+='\' type="text" /><span class="frm__input__clear  ddgsi  js-set-custom-close">X</span></div>'}),i),data:i}),(n||0===n)&&(l+=n),n=s.if.call(t,t&&t.boolean,{hash:{},inverse:h.noop,fn:h.program(9,(function(e,t){var a;return(a=s.include.call(e,"onoffswitch",{hash:{id:e&&e.fieldId,className:"js-set-input"},data:t}))||0===a?a:""}),i),data:i}),(n||0===n)&&(l+=n),n=s.if.call(t,t&&t.clear,{hash:{},inverse:h.noop,fn:h.program(11,(function(e,t){var a,i="";return i+='<div class="frm__switch frm-input js-set-input-wrap"><input id="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'" class="frm__switch__inp  js-set-input" type="checkbox" /><label class="frm__switch__label  btn" for="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'"><span class="frm__switch-on">',((a=s.l.call(e,"Clear",{hash:{},data:t}))||0===a)&&(i+=a),i+="</span></label></div>"}),i),data:i}),(n||0===n)&&(l+=n),n=s.if.call(t,t&&t.color,{hash:{},inverse:h.noop,fn:h.program(13,(function(e,t){var s,a="";return a+='<div class="frm__color"  data-setting="'+o(typeof(s=e&&e.id)===r?s.apply(e):s)+'"><span class="frm__color__swatch  js-set-color-swatch"></span><input id="'+o(typeof(s=e&&e.fieldId)===r?s.apply(e):s)+'" class="frm__input  js-set-input" /></div>'}),i),data:i}),(n||0===n)&&(l+=n),n=s.unless.call(t,t&&t.hideTitle,{hash:{},inverse:h.noop,fn:h.program(15,(function(e,t){var a,i="";return i+='<p class="frm__label">',((a=s.lp.call(e,"settings",e&&e.name,{hash:{},data:t}))||0===a)&&(i+=a),i+="</p>"}),i),data:i}),(n||0===n)&&(l+=n),n=s.if.call(t,t&&t.desc,{hash:{},inverse:h.noop,fn:h.program(17,(function(e,t){var a,i="";return i+='<p class="frm__desc  ',((a=s.if.call(e,e&&e.breakOnSmallScreens,{hash:{},inverse:h.noop,fn:h.program(18,u,t),data:t}))||0===a)&&(i+=a),i+='">',((a=s.lp.call(e,"settings",e&&e.desc,e&&e.desc2,e&&e.desc3,{hash:{},data:t}))||0===a)&&(i+=a),i+="</p>"}),i),data:i}),(n||0===n)&&(l+=n),n=s.if.call(t,t&&t.thumbnail,{hash:{},inverse:h.noop,fn:h.program(20,(function(e,t){var a,i="";return i+='<div class="set-thumbnails">',((a=s.keys.call(e,e&&e.values,{hash:{},inverse:h.noop,fn:h.program(21,v,t),data:t}))||0===a)&&(i+=a),i+="</div>"}),i),data:i}),(n||0===n)&&(l+=n),l+="</div>"})),this.DDG.templates.settings_main=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{};var n,l="",r="function",o=this.escapeExpression;return l+='<div class="set-main"><div class="set-head"><h4 class="set-head__title">',((n=s.lp.call(t,"settings pages title","Search Settings",{hash:{},data:i}))||0===n)&&(l+=n),l+='</h4><div class="set-head__menu">',n=s.each.call(t,t&&t.tabs,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,i="";return i+='<a class="set-tab js-set-head-tab js-set-'+o(typeof(a=e&&e.id)===r?a.apply(e):a)+'" href="#'+o(typeof(a=e&&e.id)===r?a.apply(e):a)+'" data-tabid="'+o(typeof(a=e&&e.id)===r?a.apply(e):a)+'">',((a=s.l.call(e,e&&e.name,{hash:{},data:t}))||0===a)&&(i+=a),i+="</a>"}),i),data:i}),(n||0===n)&&(l+=n),l+='</div></div><div class="set-detail  js-set-detail"></div><div class="set-main-footer"><a class="btn  btn--primary  js-set-exit" href="/">',((n=s.l.call(t,"Save and Exit",{hash:{},data:i}))||0===n)&&(l+=n),l+='</a></div></div><div class="set-side"><div class="set-bookmarklet  js-set-bookmarklet"><span class="set-bookmarklet__title  js-set-bookmarklet-expand">',((n=s.lp.call(t,"setting","Show Bookmarklet and Settings Data",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><div class="set-bookmarklet__detail  is-hidden  js-set-bookmarklet-detail"><div class="set-bookmarklet__close  ddgsi  js-set-bookmarklet-close" href="#">X</div><p class="set-bookmarklet__label">',((n=s.lp.call(t,"settings","Bookmarklet URL:",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p><input class="set-bookmarklet__input  js-set-bookmarklet-url" value="" /><p class="set-bookmarklet__label  is-hidden  js-set-bookmarklet-cs-label">',((n=s.lp.call(t,"settings","Cloud Save Bookmarklet URL:",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p><input class="set-bookmarklet__input  is-hidden  js-set-bookmarklet-cs-url" value="" /><p class="set-bookmarklet__label">',((n=s.lp.call(t,"settings","Settings in JSON:",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p><div class="set-bookmarklet__data  js-set-bookmarklet-json"></div><p class="set-bookmarklet__label">',((n=s.lp.call(t,"settings","Cookie data:",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p><div class="set-bookmarklet__data  js-set-bookmarklet-cookie"></div><p class="set-bookmarklet__info">',((n=s.lp.call(t,"settings","See the %sURL Parameter Reference page%s for more details.",'<a href="/params">',"</a>",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p><p class="set-bookmarklet__info">',((n=s.lp.call(t,"settings","By default, settings are stored in non-personal browser cookies (in your browser). You can use anonymous Cloud Save to store your settings in a more permanent way (on a remote server in the cloud). No personally identifiable information will be stored in the cloud, and your passphrase will never leave your browser.",{hash:{},data:i}))||0===n)&&(l+=n),l+='</p></div></div><div class="set-reset"><span class="set-reset__title  js-set-reset-expand">',((n=s.lp.call(t,"cloudsave","Reset All Search Settings",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><div class="set-reset__detail  is-hidden  js-set-reset-detail"><p class="set-reset__msg  js-set-reset-msg"></p><span class="btn  js-set-reset-confirm">',((n=s.l.call(t,"Yes",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span><span class="btn  js-set-reset-cancel">',((n=s.l.call(t,"No",{hash:{},data:i}))||0===n)&&(l+=n),l+='</span></div></div></div><div class="clearfix"></div>'})),this.DDG.templates.settings_tab=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{};var n,l="";return l+='<form class="frm  frm--settings  frm--settings--'+(0,this.escapeExpression)("function"==typeof(n=t&&t.id)?n.apply(t):n)+'"></form>'})),this.DDG.templates.settings_theme=Handlebars.template((function(e,t,s,a,i){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,e.helpers),i=i||{};var n,l="",r="function",o=this.escapeExpression,h=this;function d(e,t){var a,i="";return i+='<div class="set-themes__wrapper" data-theme-id="'+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'"><label class="set-theme" for="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+"_"+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" data-theme-id="'+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" style="background-color: #'+o(typeof(a=null==(a=null==(a=e&&e.value)||!1===a?a:a.colors)||!1===a?a:a.background)===r?a.apply(e):a)+'"><input id="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+"_"+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" class="set-theme__inp js-set-input" type="radio" name="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+'" value="'+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" /><span class="set-theme__color-1" style="background-color: #'+o(typeof(a=null==(a=null==(a=e&&e.value)||!1===a?a:a.colors)||!1===a?a:a.title)===r?a.apply(e):a)+'"></span><span class="set-theme__color-2" style="background-color: #'+o(typeof(a=null==(a=null==(a=e&&e.value)||!1===a?a:a.colors)||!1===a?a:a.url)===r?a.apply(e):a)+'"></span><span class="set-theme__color-3" style="background-color: #'+o(typeof(a=null==(a=null==(a=e&&e.value)||!1===a?a:a.colors)||!1===a?a:a.snippet)===r?a.apply(e):a)+'"></span><span class="set-theme__check  ddgsi  ddgsi-check"></span></label><label class="set-theme__label" data-theme-id="'+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'" for="'+o(typeof(a=e&&e.fieldId)===r?a.apply(e):a)+"_"+o(typeof(a=null==(a=e&&e.value)||!1===a?a:a.id)===r?a.apply(e):a)+'">',((a=s.lp.call(e,"theme",null==(a=e&&e.value)||!1===a?a:a.name,{hash:{},data:t}))||0===a)&&(i+=a),i+="</label></div>"}return l+='<div class="frm__field  fix"><div class="set-themes">',n=s.keys.call(t,t&&t.values,{hash:{},inverse:h.noop,fn:h.program(1,(function(e,t){var a;return(a=s.unless.call(e,null==(a=e&&e.value)||!1===a?a:a.suppress,{hash:{},inverse:h.noop,fn:h.program(2,d,t),data:t}))||0===a?a:""}),i),data:i}),(n||0===n)&&(l+=n),l+="</div></div>"}));