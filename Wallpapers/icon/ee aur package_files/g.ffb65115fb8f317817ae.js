DDG.reactSerpTokens={BETA:l("Beta"),MORE_RESULTS:lp("additional_info_at","More results"),PAGE_NUMBER:function(e){return l("Page %s",e)},OFFICIAL_SITE_INSERTED:lp("organic_results","Official site identified by DuckDuckGo"),VISITED_LINKS_DISCLAIMER:l("Your browser indicates if you've visited this link"),SEARCH_DOMAIN:function(e){return l("Search domain %s",e)},DID_YOU_MEAN:function(e){return l("Did you mean %s?",e)},INCLUDING_RESULTS_FOR:function(e){return l("Including results for %s",e)},SEARCH_ONLY_FOR:function(e){return l("Search only for %s?",e)},NOT_MANY_RESULTS_CONTAIN:function(e){return l("Not many results contain %s",e)},NO_RESULTS_FOR_QUERY:function(e,t,i,s){return lp("noresults","No %s found for %s%s%s.",e,t,i,s)},SUGGESTIONS:lp("noresults","Suggestions:"),SUGGESTION_1:lp("noresults","Make sure all words are spelled correctly."),SUGGESTION_2:lp("noresults","Try different keywords."),SUGGESTION_3:lp("noresults","Try more general keywords."),SUGGESTION_4:lp("noresults","Try fewer keywords."),NO_RESULTS_RETRY:function(e,t){return lp("noresults","%sClick here%s to try again, if you think there should be results for this search.",e,t)},NO_RESULTS_RETRY_506_ERROR:function(e,t){return lp("noresults","Sorry, we ran into an error displaying these results. %sClick here%s to try again.",e,t)},DEEP_ERROR_STANDARD_MESSAGE:lp("noresults","There was an error displaying the search results."),DEEP_ERROR_STANDARD_TRY_AGAIN:lp("noresults","Please try again."),DEEP_ERROR_STANDARD_TRY_LATER:lp("noresults","There was still an error displaying the search results. Please wait a few minutes before you try again."),DEEP_ERROR_OUTAGE_TITLE:lp("noresults","We’re currently experiencing an issue with DuckDuckGo Search."),DEEP_ERROR_OUTAGE_SUBTITLE:lp("noresults","Thanks for your patience while we get our ducks in a row."),DEEP_ERROR_OUTAGE_MESSAGE_TRY_AGAIN:lp("noresults","try your search again"),DEEP_ERROR_OUTAGE_MESSAGE_TRY_LATER:lp("noresults","try again later"),DEEP_ERROR_OUTAGE_BANGS:function(e,t){return lp("noresults","You can %s or search directly on other search engines from DuckDuckGo using %s search shortcuts.",e,t)},DEEP_ERROR_OUTAGE_AICHAT:l("You can also use %sDuckDuckGo AI Chat%s to answer questions or summarize text.",'<a href="https://duckduckgo.com/chat">',"</a>"),DEEP_ERROR_OUTAGE_EXPLORE_BANGS:lp("noresults","Explore all 13,000+ !bangs"),RESULTS:l("Results"),NO_MORE_RESULTS_FOR_QUERY:function(e,t,i){return lp("noresults","No more results found for %s%s%s.",e,t,i)},SITE_QUERY_EXCLUDE:l("Showing results excluding"),SITE_QUERY_INCLUDE:l("Showing results from"),ALL_RESULTS:l("All Results"),ALL:l("All"),SAFE_SEARCH_MESSAGE:function(e){return l("Safe search blocked some results for %s.",e)},SAFE_SEARCH_MESSAGE_NO_RESULTS:function(e){return l("Safe search blocked results for %s.",e)},TURN_OFF:l("Turn off:"),TEMPORARILY:l("temporarily"),PERMANENTLY:l("permanently"),TERMS_SHORT:l("Terms"),SITE_APPEARS_IN_RESULTS:function(e){return lp("Site filter message","%s appears in some of the top results for this search.",e)},SITE_FILTER_MESSAGE:function(e){return lp("Site filter message","Filter to only see results from %s",e)},SITE_FILTER_APPLY_BUTTON:lp("Site filter message","Filter Results"),GENERIC_CANCEL_BUTTON:lp("Generic cancel button","Cancel"),HELP_PAGES:lp("Generic Help Pages button","Help Pages"),LEARN_MORE:l("Learn %sMore%s","",""),SITE_FILTER_ENABLED_MESSAGE:function(e){return lp("Site filter message","Only showing results from %s",e)},SITE_FILTER_CLEAR_FILTER_MESSAGE:lp("Site filter message","Clear filter to show all search results"),SITE_FILTER_CLEAR_FILTER_BUTTON:lp("Site filter message","Clear Filter"),AFGHANISTAN:l("Afghanistan"),ALBANIA:l("Albania"),ALGERIA:l("Algeria"),AMERICAN_SAMOA:l("American Samoa"),ANDORRA:l("Andorra"),ANGOLA:l("Angola"),ANTIGUA_AND_BARBUDA:l("Antigua and Barbuda"),ARGENTINA:l("Argentina"),ARMENIA:l("Armenia"),ARUBA:l("Aruba"),AUSTRALIA:l("Australia"),AUSTRIA:l("Austria"),AZERBAIJAN:l("Azerbaijan"),BOC:l("BOC"),BAHAMAS:l("Bahamas"),BAHRAIN:l("Bahrain"),BANGLADESH:l("Bangladesh"),BARBADOS:l("Barbados"),BELGIUM:l("Belgium"),BELIZE:l("Belize "),BENIN:l("Benin"),BERMUDA:l("Bermuda"),BHUTAN:l("Bhutan"),BOLIVIA:l("Bolivia"),BOSNIA_AND_HERZEGOVINA:l("Bosnia and Herzegovina"),BOTSWANA:l("Botswana"),BRAZIL:l("Brazil"),BRITISH_VIRGIN_ISLANDS:l("British Virgin Islands"),BRUNEI:l("Brunei "),BULGARIA:l("Bulgaria"),BURKINA_FASO:l("Burkina Faso"),BURUNDI:l("Burundi"),CAMBODIA:l("Cambodia"),CAMEROON:l("Cameroon"),CANADA:l("Canada"),CABO_VERDE:l("Cabo Verde"),CAPE_VERDE:l("Cape Verde"),CAYMAN_ISLANDS:l("Cayman Islands"),CENTRAL_AFRICAN_REPUBLIC:l("Central African Republic"),CHAD:l("Chad"),CHILE:l("Chile"),CHINA:l("China"),CHINESE_TAIPEI:l("Chinese Taipei"),COLOMBIA:l("Colombia"),COMOROS:l("Comoros"),CONGO:l("Congo "),COOK_ISLANDS:l("Cook Islands"),COSTA_RICA:l("Costa Rica"),CROATIA:l("Croatia"),CUBA:l("Cuba"),CYPRUS:l("Cyprus"),CZECHIA:l("Czechia"),DPR_KOREA:l("Democratic People's Republic of Korea"),DR_CONGO:l("DR Congo"),DENMARK:l("Denmark"),DJIBOUTI:l("Djibouti"),DOMINICA:l("Dominica"),DOMINICAN_REPUBLIC:l("Dominican Republic"),ECUADOR:l("Ecuador"),EGYPT:l("Egypt"),EL_SALVADOR:l("El Salvador"),ENGLAND:l("England"),EQUATORIAL_GUINEA:l("Equatorial Guinea"),ERITREA:l("Eritrea"),ESTONIA:l("Estonia"),ESWATINI:l("Eswatini "),ETHIOPIA:l("Ethiopia"),FIJI:l("Fiji"),FINLAND:l("Finland"),FRANCE:l("France"),GABON:l("Gabon"),GEORGIA:l("Georgia"),GERMANY:l("Germany"),GHANA:l("Ghana"),GREAT_BRITAIN:l("Great Britain"),GREECE:l("Greece"),GRENADA:l("Grenada"),GUAM:l("Guam"),GUATEMALA:l("Guatemala"),GUINEA:l("Guinea"),GUINEA_BISSAU:l("Guinea-Bissau"),GUYANA:l("Guyana "),HAITI:l("Haiti"),HONDURAS:l("Honduras"),HONG_KONG:l("Hong Kong"),HUNGARY:l("Hungary"),ICELAND:l("Iceland"),INDIA:l("India"),INDIVIDUAL_NEUTRAL_ATHLETES:l("Individual Neutral Athletes"),INDONESIA:l("Indonesia"),IRAN:l("Iran"),IRAQ:l("Iraq"),IRELAND:l("Ireland"),ISRAEL:l("Israel"),ITALY:l("Italy"),IVORY_COAST:l("Ivory Coast"),JAMAICA:l("Jamaica"),JAPAN:l("Japan"),JORDAN:l("Jordan"),KAZAKHSTAN:l("Kazakhstan"),KENYA:l("Kenya"),KIRIBATI:l("Kiribati "),KOSOVO:l("Kosovo"),KUWAIT:l("Kuwait"),KYRGYZSTAN:l("Kyrgyzstan"),LAOS:l("Laos"),LATVIA:l("Latvia"),LEBANON:l("Lebanon"),LESOTHO:l("Lesotho"),LIBERIA:l("Liberia"),LIBYA:l("Libya"),LIECHTENSTEIN:l("Liechtenstein"),LITHUANIA:l("Lithuania"),LUXEMBOURG:l("Luxembourg"),MADAGASCAR:l("Madagascar"),MALAWI:l("Malawi"),MALAYSIA:l("Malaysia"),MALDIVES:l("Maldives"),MALI:l("Mali"),MALTA:l("Malta"),MARSHALL_ISLANDS:l("Marshall Islands"),MAURITANIA:l("Mauritania"),MAURITIUS:l("Mauritius"),MEXICO:l("Mexico"),MICRONESIA:l("Micronesia"),MONACO:l("Monaco"),MONGOLIA:l("Mongolia"),MONTENEGRO:l("Montenegro"),MOROCCO:l("Morocco"),MOZAMBIQUE:l("Mozambique"),MYANMAR:l("Myanmar"),NAMIBIA:l("Namibia"),NAURU:l("Nauru"),NEPAL:l("Nepal"),NETHERLANDS:l("Netherlands"),NEW_ZEALAND:l("New Zealand"),NICARAGUA:l("Nicaragua"),NIGER:l("Niger"),NIGERIA:l("Nigeria"),NORTH_MACEDONIA:l("North Macedonia"),NORTHERN_IRELAND:l("Northern Ireland"),NORWAY:l("Norway"),OMAN:l("Oman"),PAKISTAN:l("Pakistan"),PALAU:l("Palau"),PALESTINE:l("Palestine"),PANAMA:l("Panama"),PAPUA_NEW_GUINEA:l("Papua New Guinea"),PARAGUAY:l("Paraguay"),PERU:l("Peru"),PHILIPPINES:l("Philippines"),POLAND:l("Poland"),PORTUGAL:l("Portugal"),PUERTO_RICO:l("Puerto Rico"),QATAR:l("Qatar"),REFUGEE_OLYMPIC_TEAM:l("Refugee Olympic Team"),REPUBLIC_OF_KOREA:l("Korea Republic"),REPUBLIC_OF_MOLDOVA:l("Republic of Moldova"),ROMANIA:l("Romania"),RWANDA:l("Rwanda"),SAINT_KITTS_AND_NEVIS:l("Saint Kitts and Nevis"),SAINT_LUCIA:l("Saint Lucia"),SAINT_VINCENT_AND_THE_GRENADINES:l("Saint Vincent and the Grenadines"),SAMOA:l("Samoa"),SAN_MARINO:l("San Marino"),SAO_TOME_AND_PRINCIPE:l("Sao Tome and Principe"),SAUDI_ARABIA:l("Saudi Arabia"),SCOTLAND:l("Scotland"),SENEGAL:l("Senegal"),SERBIA:l("Serbia"),SEYCHELLES:l("Seychelles"),SIERRA_LEONE:l("Sierra Leone"),SINGAPORE:l("Singapore"),SLOVAKIA:l("Slovakia"),SLOVENIA:l("Slovenia"),SOLOMON_ISLANDS:l("Solomon Islands"),SOMALIA:l("Somalia"),SOUTH_AFRICA:l("South Africa"),SOUTH_KOREA:l("South Korea"),SOUTH_SUDAN:l("South Sudan"),SPAIN:l("Spain"),SRI_LANKA:l("Sri Lanka"),SUDAN:l("Sudan"),SURINAME:l("Suriname"),SWEDEN:l("Sweden"),SWITZERLAND:l("Switzerland"),SYRIA:l("Syria"),TAJIKISTAN:l("Tajikistan"),TANZANIA:l("Tanzania"),THAILAND:l("Thailand"),THE_GAMBIA:l("The Gambia"),GAMBIA:l("Gambia"),TIMOR_LESTE:l("Timor Leste"),TOGO:l("Togo"),TONGA:l("Tonga"),TRINIDAD_AND_TOBAGO:l("Trinidad and Tobago"),TUNISIA:l("Tunisia"),TURKMENISTAN:l("Turkmenistan"),TUVALU:l("Tuvalu "),UGANDA:l("Uganda"),UKRAINE:l("Ukraine"),UNITED_ARAB_EMIRATES:l("United Arab Emirates"),URUGUAY:l("Uruguay"),USA:l("USA"),UZBEKISTAN:l("Uzbekistan"),VANUATU:l("Vanuatu"),VENEZUELA:l("Venezuela"),VIETNAM:l("Vietnam"),VIRGIN_ISLANDS:l("Virgin Islands"),WALES:l("Wales"),YEMEN:l("Yemen "),ZAMBIA:l("Zambia"),ZIMBABWE:l("Zimbabwe"),SHARE_FEEDBACK:lp("feedback form","Share Feedback"),SOURCE:lp("Q&A module attribution","Source"),SHOW_MORE:lp("expand_text","Show More"),SHOW_LESS:lp("expand_text","Show Less"),ORDINAL_NUMBER_1:lp("Sports module","1st"),ORDINAL_NUMBER_2:lp("Sports module","2nd"),ORDINAL_NUMBER_3:lp("Sports module","3rd"),ORDINAL_NUMBER_4:lp("Sports module","4th"),ORDINAL_NUMBER_5:lp("Sports module","5th"),ORDINAL_NUMBER_6:lp("Sports module","6th"),ORDINAL_NUMBER_7:lp("Sports module","7th"),ORDINAL_NUMBER_8:lp("Sports module","8th"),ORDINAL_NUMBER_9:lp("Sports module","9th"),ORDINAL_NUMBER_10:lp("Sports module","10th"),ORDINAL_NUMBER_11:lp("Sports module","11th"),ORDINAL_NUMBER_12:lp("Sports module","12th"),ORDINAL_NUMBER_13:lp("Sports module","13th"),ORDINAL_NUMBER_14:lp("Sports module","14th"),ORDINAL_NUMBER_15:lp("Sports module","15th"),SPORTS_ATTRIBUTION:lp("Sports module","Data from Sportradar"),SPORTS_SEASON:function(e){return lp("Sports module","%s Season",e)},SPORTS_WEEK_SELECTOR:lp("Sports module","Season Weeks"),SPORTS_WEEK:lp("Sports module","Week"),SPORTS_STAGE_SELECTOR:lp("Sports module","Stages"),SPORTS_GROUP_SELECTOR:lp("Sports module","Groups"),SPORTS_ALL_GROUPS:lp("Sports module","All Groups"),SPORTS_CONFERENCE_SELECTOR:lp("Sports module","Conferences"),SPORTS_ALL_CONFERENCES:lp("Sports module","All"),SPORTS_FINAL:lp("Sports module","Final"),SPORTS_PAST_GAMES:lp("Sports module","Past Games"),SPORTS_PAST_MATCHES:lp("Sports module","Past Matches"),SPORTS_MATCHUPS:lp("Sports module","Matchups"),SPORTS_VERSUS:lp("Sports module","vs"),SPORTS_STATUS_TBD:lp("Sports module","TBD"),SPORTS_STATUS_CANCELLED:lp("Sports module","Cancelled"),SPORTS_STATUS_DELAYED:lp("Sports module","Delayed"),SPORTS_STATUS_HALFTIME:lp("Sports module","Halftime"),SPORTS_SOCCER_STATUS_HALFTIME:lp("Sports module","HT"),SPORTS_SOCCER_STATUS_FINAL:lp("Sports module","FT"),SPORTS_STATUS_END_OF_PERIOD:function(e){return lp("Sports module","End of %s",e)},SPORTS_STATUS_EXTRA_TIME_ABBREV:lp("Sports module","ET"),SPORTS_STATUS_PENALTIES:lp("Sports module","Penalties"),SPORTS_STATUS_INTERRUPTED:lp("Sports module","Interrupted"),SPORTS_STATUS_POSTPONED:lp("Sports module","Postponed"),SPORTS_STATUS_SUSPENDED:lp("Sports module","Suspended"),SPORTS_STATUS_GAME_WITHIN_SERIES:function(e){return lp("Sports module","Game %s",e)},SPORTS_STATUS_IF_NECESSARY:lp("Sports module","if necessary"),SPORTS_TAB_GAMES:lp("Sports module","Games"),SPORTS_TAB_MATCHES:lp("Sports module","Matches"),SPORTS_TAB_BRACKET:lp("Sports module","Bracket"),SPORTS_TAB_SCORES:lp("Sports module","Scores"),SPORTS_TAB_SCHEDULE:lp("Sports module","Schedule"),SPORTS_TAB_STANDINGS:lp("Sports module","Standings"),SPORTS_RANKINGS:lp("Sports module","Rankings"),SPORTS_TAB_WILD_CARD:lp("Sports module","Wild Card"),SPORTS_TIMEZONE_NOTICE_REACT:lp("Sports module","Times are in your %slocal time zone%s","<>","</>"),SPORTS_WINS:lp("Sports module","Wins"),SPORTS_WINS_ABBREV:lp("Sports module","W"),SPORTS_LOSSES:lp("Sports module","Losses"),SPORTS_LOSSES_ABBREV:lp("Sports module","L"),SPORTS_TIES:lp("Sports module","Ties"),SPORTS_TIES_ABBREV:lp("Sports module","T"),SPORTS_DRAWS:lp("Sports module","Draws"),SPORTS_DRAWS_ABBREV:lp("Sports module","D"),SPORTS_WINNING_PERCENTAGE:lp("Sports module","Winning Percentage"),SPORTS_WINNING_PERCENTAGE_ABBREV:lp("Sports module","Pct"),SPORTS_TOTAL_POINTS_FOR:lp("Sports module","Total Points For"),SPORTS_TOTAL_POINTS_FOR_ABBREV:lp("Sports module","PF"),SPORTS_TOTAL_POINTS_AGAINST:lp("Sports module","Total Points Against"),SPORTS_TOTAL_POINTS_AGAINST_ABBREV:lp("Sports module","PA"),SPORTS_WIN_LOSS:lp("Sports module","Win/Loss Record"),SPORTS_WIN_LOSS_ABBREV:lp("Sports module","W-L"),SPORTS_WIN_LOSS_LAST_TEN_GAMES:lp("Sports module","Last 10"),SPORTS_WIN_LOSS_LAST_TEN_GAMES_ABBREV:lp("Sports module","L10"),SPORTS_GAMES_BEHIND:lp("Sports module","Games Behind"),SPORTS_GAMES_BEHIND_ABBREV:lp("Sports module","GB"),SPORTS_RANKING_POINTS:lp("Sports module","Points"),SPORTS_RANKING_POINTS_ABBREV:lp("Sports module","P"),SPORTS_RANKING_FP_VOTES:lp("Sports module","First Place Votes"),SPORTS_RANKING_FP_VOTES_ABBREV:lp("Sports module","FPV"),SPORTS_RANKING_TREND:lp("Sports module","Trend"),SPORTS_RANKING_TREND_ABBREV:lp("Sports module","T"),SPORTS_RANKING_TREND_NOT_RANKED_PREVIOUSLY_ABBREV:lp("Sports module","NR"),SPORTS_RANKING_RANK:function(e,t){return lp("Sports module","#%s %s",t,e)},SPORTS_WILD_CARD_GAMES_BEHIND:lp("Sports module","Wild Card Games Behind"),SPORTS_WILD_CARD_GAMES_BEHIND_ABBREV:lp("Sports module","WCGB"),SPORTS_BASEBALL_PLAYERS_OUT:function(e){return lp("Sports module","%s Out",e)},SPORTS_BASEBALL_WORLD_SERIES:lp("Sports module","World Series"),SPORTS_BASEBALL_WORLD_SERIES_ABBREV:lp("Sports module","WS"),SPORTS_BASEBALL_NATIONAL_LEAGUE_CHAMPIONSHIP_SERIES:lp("Sports module","National League Championship Series"),SPORTS_BASEBALL_NATIONAL_LEAGUE_CHAMPIONSHIP_SERIES_ABBREV:lp("Sports module","NLCS"),SPORTS_BASEBALL_NATIONAL_LEAGUE_DIVISION_SERIES:lp("Sports module","National League Division Series"),SPORTS_BASEBALL_NATIONAL_LEAGUE_DIVISION_SERIES_ABBREV:lp("Sports module","NLDS"),SPORTS_BASEBALL_NATIONAL_LEAGUE_WILD_CARD_SERIES:lp("Sports module","National League Wild Card Series"),SPORTS_BASEBALL_NATIONAL_LEAGUE_WILD_CARD_SERIES_ABBREV:lp("Sports module","NLWC"),SPORTS_BASEBALL_AMERICAN_LEAGUE_CHAMPIONSHIP_SERIES:lp("Sports module","American League Championship Series"),SPORTS_BASEBALL_AMERICAN_LEAGUE_CHAMPIONSHIP_SERIES_ABBREV:lp("Sports module","ALCS"),SPORTS_BASEBALL_AMERICAN_LEAGUE_DIVISION_SERIES:lp("Sports module","American League Division Series"),SPORTS_BASEBALL_AMERICAN_LEAGUE_DIVISION_SERIES_ABBREV:lp("Sports module","ALDS"),SPORTS_BASEBALL_AMERICAN_LEAGUE_WILD_CARD_SERIES:lp("Sports module","American League Wild Card Series"),SPORTS_BASEBALL_AMERICAN_LEAGUE_WILD_CARD_SERIES_ABBREV:lp("Sports module","ALWC"),SPORTS_CONFERENCE_RECORD:lp("Sports module","Conference Record"),SPORTS_CONFERENCE_RECORD_ABBREV:lp("Sports module","Conf"),SPORTS_DIVISION_RECORD:lp("Sports module","Division Record"),SPORTS_DIVISION_RECORD_ABBREV:lp("Sports module","Div"),SPORTS_OVERALL_RECORD:lp("Sports module","Overall Record"),SPORTS_WIN_DRAW_LOSS_ABBREV:lp("Sports module","W-D-L"),SPORTS_HOME_RECORD:lp("Sports module","Home Record"),SPORTS_HOME_RECORD_ABBREV:lp("Sports module","H"),SPORTS_AWAY_RECORD:lp("Sports module","Away Record"),SPORTS_AWAY_RECORD_ABBREV:lp("Sports module","A"),SPORTS_STREAK:lp("Sports module","Current Streak"),SPORTS_STREAK_ABBREV:lp("Sports module","Strk"),SPORTS_MATCHES_PLAYED:lp("Sports module","Matches Played"),SPORTS_MATCHES_PLAYED_ABBREV:lp("Sports module","MP"),SPORTS_GOALS_FOR:lp("Sports module","Goals For"),SPORTS_GOALS_FOR_ABBREV:lp("Sports module","GF"),SPORTS_GOALS_AGAINST:lp("Sports module","Goals Against"),SPORTS_GOALS_AGAINST_ABBREV:lp("Sports module","GA"),SPORTS_GOAL_DIFFERENTIAL:lp("Sports module","Goal Differential"),SPORTS_GOAL_DIFFERENTIAL_ABBREV:lp("Sports module","GD"),SPORTS_POINTS:lp("Sports module","Points"),SPORTS_POINTS_ABBREV:lp("Sports module","PTS"),SPORTS_HOCKEY_NHL_TOTAL_POINTS:lp("Sports module","Total Points"),SPORTS_HOCKEY_NHL_TOTAL_POINTS_ABBREV:lp("Sports module","Pts"),SPORTS_HOCKEY_NHL_OVERTIME_LOSSES:lp("Sports module","Overtime Losses"),SPORTS_HOCKEY_NHL_OVERTIME_LOSSES_ABBREV:lp("Sports module","OTL"),SPORTS_HOCKEY_NHL_GAMES_PLAYED:lp("Sports module","Games Played"),SPORTS_HOCKEY_NHL_GAMES_PLAYED_ABBREV:lp("Sports module","GP"),SPORTS_HOCKEY_NHL_DIVISION_ATLANTIC:lp("Sports module","Atlantic"),SPORTS_HOCKEY_NHL_DIVISION_METROPOLITAN:lp("Sports module","Metropolitan"),SPORTS_HOCKEY_NHL_DIVISION_CENTRAL:lp("Sports module","Central"),SPORTS_HOCKEY_NHL_DIVISION_PACIFIC:lp("Sports module","Pacific"),SPORTS_HOCKEY_NHL_WILD_CARD_TEAMS:lp("Sports module","Wild Card Teams"),SPORTS_CONFERENCE_EASTERN:lp("Sports module","Eastern Conference"),SPORTS_CONFERENCE_WESTERN:lp("Sports module","Western Conference"),SPORTS_CONFERENCE_EASTERN_ABBREV:lp("Sports module","Eastern"),SPORTS_CONFERENCE_WESTERN_ABBREV:lp("Sports module","Western"),SPORTS_SCORE_TOTAL_ABBREV:lp("Sports module","T"),SPORTS_SCORE_OVERTIME_ABBREV:lp("Sports module","OT"),SPORTS_SCORE_MULTIPLE_OVERTIME_ABBREV_REACT:function(e){return lp("Sports module","OT%s",e)},SPORTS_SCORE_SHOOTOUTS_ABBREV:lp("Sports module","SO"),SPORTS_HOCKEY_NHL_INTERMISSION:function(e){return lp("Sports module","%s Intermission",e)},SPORTS_TEAM:lp("Sports module","Team"),SPORTS_NO_RECENT_GAMES:function(e){return lp("Sports module","No recent %s games",e)},SPORTS_NO_GAMES_SCHEDULED:function(e){return lp("Sports module","No %s games scheduled",e)},SPORTS_NO_GAMES_SCHEDULED_IN_PERIOD:function(e,t){return lp("Sports module","No %s games scheduled in %s",e,t)},SPORTS_NO_RANKINGS_AVAILABLE:function(e){return lp("Sports module","%s rankings are not yet available",e)},SPORTS_GROUP:function(e){return lp("Sports module","Group %s",e)},TODAY:l("Today"),TOMORROW:l("Tomorrow"),YESTERDAY:l("Yesterday"),SPORTS_MATCHDAY_1_OF_3:lp("Sports module","Matchday 1 of 3"),SPORTS_MATCHDAY_2_OF_3:lp("Sports module","Matchday 2 of 3"),SPORTS_MATCHDAY_3_OF_3:lp("Sports module","Matchday 3 of 3"),SPORTS_ROUND_OF_16:lp("Sports module","Round of 16"),SPORTS_QUARTER_FINALS:lp("Sports module","Quarter-finals"),SPORTS_SEMI_FINALS:lp("Sports module","Semi-finals"),SPORTS_3RD_PLACE_FINALS:lp("Sports module","Third place"),SPORTS_FINALS:lp("Sports module","Final"),SPORTS_COMPETITION_FIFA_WORLD_CUP:lp("Sports module","FIFA World Cup"),SPORTS_COMPETITION_FIFA_WOMENS_WORLD_CUP:lp("Sports module","FIFA Women's World Cup"),SPORTS_THIRD_PLACE:lp("Sports module","Third place"),SPORTS_SOCCER_WC_GROUP_WINNER:function(e){return lp("Sports module","1st in Group %s",e)},SPORTS_SOCCER_WC_GROUP_SECOND:function(e){return lp("Sports module","2nd in Group %s",e)},SPORTS_SOCCER_WC_GAME_WINNER:function(e){return lp("Sports module","Winner of Game %s",e)},SPORTS_SOCCER_WC_GAME_LOSER:function(e){return lp("Sports module","Loser of Game %s",e)},SPORTS_SOCCER_WC_GAME_NUMBER:function(e){return lp("Sports module","Game %s",e)},SPORTS_SOCCER_GOAL_METHOD_OWN_GOAL:lp("Sports module","OG"),SPORTS_SOCCER_GOAL_METHOD_PENALTY:lp("Sports module","PEN"),SPORTS_AMERICAN_COLLEGE_FOOTBALL_BOWLS:lp("Sports module","Bowls"),NORTH_FULL:lp("Sports module","North"),EAST_FULL:lp("Sports module","East"),SOUTH_FULL:lp("Sports module","South"),WEST_FULL:lp("Sports module","West"),OLYMPIC_GAMES:l("Olympic Games"),MEDALS:l("Medals"),TOTAL_MEDALS:l("Total Medals"),GOLD_MEDALS:l("Gold Medals"),SILVER_MEDALS:l("Silver Medals"),BRONZE_MEDALS:l("Bronze Medals"),COUNTRY_IN_OLYMPICS_REQUERY:function(e,t){return l("%s in the Olympics %s",e,t)},SHOWING_N_of_M:function(e,t){return l("Showing %s of %s",e,t)},SPORTS_RESULTS:lp("olympics_module","Results"),SCHEDULE_AND_RESULTS:l("Schedule & Results"),SOURCED_FROM:function(e,t,i){return lp("Instant Answer attribution","Source: %s%s%s",e,t,i)},MORE_OLYMPIC_MEDAL_STATS:function(e){return l("More stats on %s",e)},SEARCH:l("Search"),CURRENCY_DATA_FROM_XE:lp("Currency module","Data from XE"),CURRENCY_INPUT_LABEL:function(e){return lp("Currency module","Currency value in %s",e)},CURRENCY_DROPDOWN_TITLE:lp("Currency module","Currency"),CURRENCY_SWAP_TOOLTIP:lp("Currency module","Swap currencies"),CURRENCY_SWAPPED_TOOLTIP:lp("Currency module","Currencies swapped"),UNIT_SWAP_TOOLTIP:lp("Conversions module","Swap units"),UNIT_SWAPPED_TOOLTIP:lp("Conversions module","Units swapped"),DIRECTIONS:lp("maps_places","Directions"),MORE_IMAGES:l("More Images"),WHERE_TO_WATCH_HEADING:function(e){return lp("Where to watch instant answer","Where To Watch <strong>%s</strong>",e)},WHERE_TO_WATCH_SUBSCRIPTION:lp("Where to watch instant answer","Subscription"),WHERE_TO_WATCH_ADS:lp("Where to watch instant answer","Free with ads"),WHERE_TO_WATCH_FREE:lp("Where to watch instant answer","Free"),WHERE_TO_WATCH_PAID:lp("Where to watch instant answer","Rent or buy"),FROM:function(e){return l("From %s",e)},DUCKCHAT_SEO_TITLE:lp("Page title in browser tab","AI Chat"),DUCKCHAT_TAB_TITLE:lp("Name in duckbar tab","Chat"),DUCKCHAT_TAB_TOOLTIP:lp("Tooltip text in duckbar tab","Chat privately with AI"),DUCKCHAT_ACTION_CLEAR_CONVERSATION:lp("Clear Conversation button text and tooltip label text","Clear conversation"),DUCKCHAT_ACTION_SEND:lp("Send user prompt","Send"),DUCKCHAT_ACTION_STOP:lp("Stop ongoing streaming response from AI chat","Stop"),DUCKCHAT_USER_PROMPT_PLACEHOLDER:function(e){return lp("Placeholder text user’s chat input","Chat with %s",e)},DUCKCHAT_DISCLAIMER_LONG:function(e){return lp("Disclaimer bellow chat input - desktop","You are chatting with %s. AI chats may display inaccurate or offensive information.",e)},DUCKCHAT_DISCLAIMER_SHORT:function(e){return lp("Disclaimer bellow chat input - mobile","%s may display inaccurate or offensive information.",e)},DUCKCHAT_NEW_CHAT_WELCOME_MESSAGE:lp("Welcome message in chat","Welcome to DuckDuckGo AI Chat! All of your chats here are private, anonymized by us and not used to train AI models."),DUCKCHAT_PRE_PROMPT_MESSAGE:lp("Prompt suggestion message","Try these prompts to get started or enter your own prompt below"),DUCKCHAT_ERROR_MAX_CHARS:lp("Error message when input exceeds character limit","Please try a shorter message."),DUCKCHAT_ACTION_SHARE_FEEDBACK:lp("Share Feedback button text","Share Feedback"),DUCKCHAT_GENERATING_RESPONSE:lp("Assistant response placeholder","Generating response..."),DUCKCHAT_TOOLTIP_COPY:lp("Tooltip for copy action","Copy to Clipboard"),DUCKCHAT_TOOLTIP_REDO:lp("Tooltip for redo action","Redo"),DUCKCHAT_COPY_CODE_BUTTON:lp("Text for a button for copying preformatted code block content","Copy Code"),DUCKCHAT_COPIED_LABEL:lp("Text for a button after copying content to the clipboard","Copied"),DUCKCHAT_CLEAR_CONVERSATION_MODAL_TITLE:lp("Modal title for clearing conversation","Clear conversation?"),DUCKCHAT_CLEAR_CONVERSATION_DESCRIPTION:lp("Modal body for clearing conversation","Are you sure you want to clear this conversation and start a new one?"),DUCKCHAT_CLEAR_CONVERSATION_MODAL_BUTTON:lp("Modal primary button for clearing conversation","Clear Conversation"),DUCKCHAT_MODAL_GOT_IT:lp("Modal primary button for closing information modal.","Got it!"),DUCKCHAT_PRIVACY_TERMS:lp("Text on link to the Privacy Policy & Terms of Use page.","Privacy Policy & Terms of Use"),DUCKCHAT_PRIVACY_LAST_UPDATED:function(e){return lp("AI Chat Terms and Policy last update","Last updated %s",e)},DUCKCHAT_MODEL_SELECT_TOOLTIP:lp("Tooltip for model selection","Change default model"),DUCKCHAT_MODEL_MODAL_PICK_CHAT_MODEL:lp("Modal header text","Pick a chat model"),DUCKCHAT_MODEL_MODAL_SUBTITLE:lp("Modal subheader text","All models are anonymously provided by DuckDuckGo"),DUCKCHAT_MODEL_MODAL_DISCLAIMER:lp("Modal disclaimer text","Please note: starting a new chat with any model will delete your current chat session."),DUCKCHAT_MODEL_MODAL_START_NEW_CHAT:lp("Modal primary button text","Start New Chat"),DUCKCHAT_ONBOARDING_WELCOME_TITLE:lp("Onboarding welcome screen title","Say hello to DuckDuckGo AI Chat!"),DUCKCHAT_AI_CHAT_INFO:function(e,t,i,s){return lp("AI Chat description","Anonymous access to popular AI models, including %s, %s, and open-source %s and %s.",e,t,i,s)},DUCKCHAT_ONBOARDING_WELCOME_GET_STARTED:lp("Onboarding welcome screen button text","Get Started"),DUCKCHAT_ONBOARDING_WELCOME_PRIVATE_ANONYMOUS_CHATS:lp("Onboarding welcome screen private claim","Private chats, anonymized by us"),DUCKCHAT_ONBOARDING_WELCOME_NO_AI_TRAINING:lp("Onboarding welcome screen feature","No AI training on your conversations"),DUCKCHAT_ONBOARDING_WELCOME_MULTIPLE_AI_MODELS:lp("Onboarding welcome screen feature","Multiple AI models, all in one place"),DUCKCHAT_ONBOARDING_WELCOME_AI_MODELS:function(e,t){return lp("Onboarding welcome screen feature","%s and %s AI models",e,t)},DUCKCHAT_ONBOARDING_PICK_CHAT_MODEL_TITLE:lp("Onboarding pick a chat model screen title","Pick a chat model"),DUCKCHAT_ONBOARDING_PICK_CHAT_MODEL_SUBTITLE:lp("Onboarding pick a chat model screen subtitle","Try experimenting with each model — they will provide different responses."),DUCKCHAT_ONBOARDING_PICK_CHAT_MODEL_NEXT:lp("Onboarding pick a chat model screen button text","Next"),DUCKCHAT_ONBOARDING_TERMS_TITLE:lp("Onboarding terms screen title","Privacy Policy and Terms of Use"),DUCKCHAT_ONBOARDING_TERMS_AGREE:lp("Onboarding terms screen button text","I Agree"),DUCKCHAT_TERMS_SERVICE:lp("Copy used to compose link in sentences","Terms of Service"),DUCKCHAT_PRIVACY_POLICY:lp("Copy used to compose link in sentences","Privacy Policy"),DUCKCHAT_TERMS_POLICY_AGREE_STATEMENT:function(e,t){return lp("Copy stating agreement to AI Chat Privacy Policy and Terms of Service.","To continue, you must agree to DuckDuckGo AI Chat’s %s and %s",e,t)},DUCKCHAT_MODEL_OPEN_SOURCE:lp("Label copy indicating that an AI Model is open source","Open Source"),DUCKCHAT_MODEL_CREATED_BY:function(e){return lp("Label copy indicating the creator of an AI Model","Created by %s",e)},DUCKCHAT_MODEL_MODERATION_HIGH:lp("Label copy with short description of AI Model","General purpose AI with high built-in moderation"),DUCKCHAT_MODEL_MODERATION_MEDIUM:lp("Label copy with short description of AI Model","General purpose AI with medium built-in moderation"),DUCKCHAT_MODEL_MODERATION_LOW:lp("Label copy with short description of AI Model","General purpose AI with low built-in moderation"),DUCKCHAT_ERROR_SERVICE_UNAVAILABLE:lp("Error message for service unavailability","DuckDuckGo AI Chat is temporarily unavailable. Please try again later."),DUCKCHAT_ERROR_VQD:lp("Error message for VQD error","DuckDuckGo AI Chat is temporarily unavailable. Please refresh the page and try again."),DUCKCHAT_ERROR_BN_LIMIT:function(e,t){return lp("Error message for BOTNET limit.","DuckDuckGo AI Chat is temporarily unavailable. If this persists, please email this anonymous code %s to %s",e,t)},DUCKCHAT_ERROR_USER_LIMIT:lp("Error message for user limit","You’ve reached the maximum number of messages for one day. Please continue this chat tomorrow."),DUCKCHAT_ERROR_SERVICE_LIMIT:lp("Error message for service limit","DuckDuckGo AI Chat has reached the maximum number of messages for one day. Please continue this chat tomorrow."),DUCKCHAT_ERROR_CONVERSATION_LIMIT:lp("Error message for conversation limit","You’ve reached the maximum chat length in this conversation. Clear this conversation with the Fire Button to continue."),DUCKCHAT_ERROR_INPUT_LIMIT:lp("Error message for input limit","You’ve exceeded the maximum message size. Please shorten your message and try again."),DUCKCHAT_ERROR_MODEL_UNAVAILABLE:function(e){return lp("Error message for model unavailability","%s is temporarily unavailable. Please switch to a different model or try again later.",e)},DUCKCHAT_FEEDBACK_FORM_TITLE:lp("Title of feedback form","Help us make AI Chat better"),DUCKCHAT_FEEDBACK_FORM_SUBTITLE:lp("Subtitle of feedback form","Please select a category of your feedback"),DUCKCHAT_FEEDBACK_FORM_DISCLAIMER:lp("Disclaimer text at the bottom of the feedback form.","DuckDuckGo AI Chat is in Beta, it may display inaccurate or offensive information."),DUCKCHAT_FEEDBACK_FORM_CONTACT_PROVIDERS:function(e,t){return lp("Disclaimer text at the bottom of the feedback form.","If you have concerns about our chat providers or any particular chat response, you can also reach out directly to %s and %s support pages.",'<a class="feedback-external__link" href="https://openai.com/form/chat-model-feedback" rel="noopener" target="_blank">OpenAI</a>','<a class="feedback-external__link" href="https://support.anthropic.com/en/articles/8106465-our-approach-to-user-safety" rel="noopener" target="_blank">Anthropic</a>')},DUCKCHAT_FEEDBACK_CATEGORY_INACCURATE:lp("Feedback option for inaccurate chat response","Chat response is inaccurate"),DUCKCHAT_FEEDBACK_CATEGORY_OFFENSIVE:lp("Feedback option for offensive chat response","Chat response is offensive"),DUCKCHAT_FEEDBACK_CATEGORY_BELOW_EXPECTATIONS:lp("Feedback option for chat response below expectations","Chat response is below expectations"),DUCKCHAT_FEEDBACK_CATEGORY_DIFFICULT_USE:lp("Feedback option for difficulty in using chat","I need more help/info on how to use Chat"),DUCKCHAT_FEEDBACK_CATEGORY_SLOW:lp("Feedback option for slow chat","Chat is slow"),DUCKCHAT_FEEDBACK_CATEGORY_NO_SAVE:lp("Feedback option for chat not saving conversations","Chat does not save my conversations"),DUCKCHAT_FEEDBACK_CATEGORY_CHAT_LIMIT:lp("Feedback option for hitting chat limit","I hit a chat limit"),DUCKCHAT_FEEDBACK_CATEGORY_LACK_FEATURE:lp("Feedback option for chat lacking features","Chat is lacking features"),DUCKCHAT_PROMPT_SUGGESTION_SUGGEST_BLOG_POST_TITLE_BRIEF:lp("Brief for suggesting a blog post title","Suggest a title for a blog post"),DUCKCHAT_PROMPT_SUGGESTION_SUGGEST_BLOG_POST_TITLE_FULL:lp("Full sentence for suggesting a blog post title","Draft a few options for a title of a post I’m writing about strategies to increase team collaboration."),DUCKCHAT_PROMPT_SUGGESTION_WRITE_EMAIL_BRIEF:lp("Brief for writing an email","Write an email"),DUCKCHAT_PROMPT_SUGGESTION_WRITE_EMAIL_FULL:lp("Full sentence for writing an email","Draft a concise and detailed email to a vendor requesting a quote for home refrigerator repair services."),DUCKCHAT_PROMPT_SUGGESTION_IDENTIFY_PRODUCT_BRANDS_BRIEF:lp("Brief for identifying product brands","Identify product brands"),DUCKCHAT_PROMPT_SUGGESTION_IDENTIFY_PRODUCT_BRANDS_FULL:lp("Full sentence for identifying product brands","When buying an electric guitar for a beginner, what are the top product brands I should consider?"),DUCKCHAT_PROMPT_SUGGESTION_FIND_BETTER_WORD_BRIEF:lp("Brief for finding a better word","Find a better word"),DUCKCHAT_PROMPT_SUGGESTION_FIND_BETTER_WORD_FULL:lp("Full sentence for finding a better word","What are some options for the word ‘better’ in the context of “We really need to do better.”"),DUCKCHAT_PROMPT_SUGGESTION_TEXT_TRANSLATE_BRIEF:lp("Brief for translating text","Translate text"),DUCKCHAT_PROMPT_SUGGESTION_TEXT_TRANSLATE_FULL:lp("Full sentence for translating text prompt","Translate this English sentence into French: “How do I get to the nearest movie theatre?”"),DUCKCHAT_PROMPT_SUGGESTION_LOOKUP_BASIC_FACTS_BRIEF:lp("Brief for looking up basic facts","Lookup basic facts"),DUCKCHAT_PROMPT_SUGGESTION_LOOKUP_BASIC_FACTS_FULL:lp("Full sentence for looking up basic facts","What is the capital city of Albania?"),DUCKCHAT_PROMPT_SUGGESTION_WRITE_CODE_BRIEF:lp("Brief for writing code","Write code"),DUCKCHAT_PROMPT_SUGGESTION_WRITE_CODE_FULL:lp("Full sentence for writing code","Write a basic loop structure in Python"),DUCKCHAT_PROMPT_SUGGESTION_GET_COMPUTER_HELP_BRIEF:lp("Brief for getting computer help","Get computer help"),DUCKCHAT_PROMPT_SUGGESTION_GET_COMPUTER_HELP_FULL:lp("Full sentence for getting computer help","How can I save an email as a PDF?"),DUCKCHAT_PROMPT_SUGGESTION_IMPROVE_ARGUMENTS_BRIEF:lp("Brief for improving arguments","Improve your arguments"),DUCKCHAT_PROMPT_SUGGESTION_IMPROVE_ARGUMENTS_FULL:lp("Full sentence for improving arguments","What are some arguments, counter-arguments, and rebuttals to the concept of a plant-based diet?"),DUCKCHAT_PROMPT_SUGGESTION_UNDERSTAND_TOPIC_BRIEF:lp("Brief for understanding a topic","Understand a topic"),DUCKCHAT_PROMPT_SUGGESTION_UNDERSTAND_TOPIC_FULL:lp("Full sentence for understanding a topic","Explain the fundamental concepts of black holes to me at a high-school level."),DUCKCHAT_PROMPT_SUGGESTION_PREPARE_CONVERSATION_BRIEF:lp("Brief for preparing for a conversation","Prepare for a conversation"),DUCKCHAT_PROMPT_SUGGESTION_PREPARE_CONVERSATION_FULL:lp("Full sentence for preparing for a conversation","How should I tactfully approach a colleague about their constant pencil tapping and what should I say?"),DUCKCHAT_PROMPT_SUGGESTION_PLAN_TRIP_BRIEF:lp("Brief for planning a trip","Plan a trip"),DUCKCHAT_PROMPT_SUGGESTION_PLAN_TRIP_FULL:lp("Full sentence for planning a trip","What are some must-see attractions in Paris for a first-time visitor?"),DUCKCHAT_PROMPT_SUGGESTION_LEARN_SKILL_BRIEF:lp("Brief for learning a new skill","Learn a new skill"),DUCKCHAT_PROMPT_SUGGESTION_LEARN_SKILL_FULL:lp("Full sentence for learning a new skill","Guide me through the basic steps of replacing a window wiper."),DUCKCHAT_PROMPT_SUGGESTION_CRAFT_RECIPE_BRIEF:lp("Brief for crafting a recipe","Craft a recipe"),DUCKCHAT_PROMPT_SUGGESTION_CRAFT_RECIPE_FULL:lp("Full sentence for crafting a recipe","Can you create a few simple recipes using chicken, broccoli, and rice?"),DUCKCHAT_PROMPT_SUGGESTION_RECOMMEND_BOOK_BRIEF:lp("Brief for recommending a book","Recommend a book"),DUCKCHAT_PROMPT_SUGGESTION_RECOMMEND_BOOK_FULL:lp("Full sentence for recommending a book","I like the book Name of the Wind. What are some other good books/series most like it and why?"),DUCKCHAT_PROMPT_SUGGESTION_UNCOVER_PROS_CONS_BRIEF:lp("Brief for uncovering pros and cons","Uncover pros and cons"),DUCKCHAT_PROMPT_SUGGESTION_UNCOVER_PROS_CONS_FULL:lp("Full sentence for uncovering pros and cons","What are some pros and cons of annuities?"),DUCKCHAT_PROMPT_SUGGESTION_DEFINE_TERM_BRIEF:lp("Brief for defining a term","Define a term"),DUCKCHAT_PROMPT_SUGGESTION_DEFINE_TERM_FULL:lp("Full sentence for defining a term","What does atria mean in the context of a medical article?"),DUCKCHAT_PROMPT_SUGGESTION_CRITIQUE_WRITING_BRIEF:lp("Brief for critiquing writing","Critique your writing"),DUCKCHAT_PROMPT_SUGGESTION_CRITIQUE_WRITING_FULL:lp("Full sentence for critiquing writing","Provide a few suggestions to make the following text more concise. [Insert your own text here.]"),DUCKCHAT_PROMPT_SUGGESTION_PREPARE_PURCHASE_BRIEF:lp("Brief for preparing for a purchase","Prepare for a purchase"),DUCKCHAT_PROMPT_SUGGESTION_PREPARE_PURCHASE_FULL:lp("Full sentence for preparing for a purchase","What are some factors to consider when purchasing a computer monitor?"),DUCKCHAT_PROMPT_SUGGESTION_COMPOSE_CARD_BRIEF:lp("Brief for composing a card","Compose a card"),DUCKCHAT_PROMPT_SUGGESTION_COMPOSE_CARD_FULL:lp("Full sentence for composing a card","Suggest a phrase to write on a get-well card for someone recovering from a surgery?"),DUCKCHAT_WEB_BUTTON:lp("AI Chat web button","Web"),DUCKCHAT_WEB_BUTTON_TOOLTIP:lp("AI Chat web button  tooltip","Search with DuckDuckGo"),DUCKCHAT_HIDE_TIPS:lp("Button to hide promotional tips","Hide Tips"),DUCKCHAT_ACCESS_DIRECTLY_AT:function(e){return lp("Information about direct access to DuckDuckGo AI Chat","You can access DuckDuckGo AI Chat directly at %s.",e)},DUCKCHAT_READ_PRIVACY_TERMS:function(e){return lp("Informational text with a link to DuckDuckGo AI Chat Privacy Terms","Read our %s",e)},DUCKCHAT_PRIVACY_PROMO_TEXT:lp("Promotional text emphasizing privacy of user chats","Your chats are private, and are never saved or used to train AI models"),DUCKCHAT_DUCKAI_PROMO_TEXT:function(e){return lp("Promotional text encouraging users to use duck.ai","Use %s to get here faster",e)},DUCKCHAT_NEW_MODELS_PROMO_TEXT:lp("Promotional text for new AI models","Try the recently added open-source Llama 3.1 and Mixtral"),TITLE_ACTION_BUTTON_LABEL_CAST:lp("Movie/TV Show Title instant answer","Cast"),TITLE_ACTION_BUTTON_LABEL_WHERE_TO_WATCH:lp("Movie/TV Show Title instant answer","Where To Watch"),TITLE_POSTER_IMAGE_ALT:lp("Movie/TV Show Title instant answer","Poster image for movie or TV show"),OUT_OF_DATE_BROWSER_BANNER:lp("Update browser banner","You're using an outdated version of DuckDuckGo for Mac."),OUT_OF_DATE_BROWSER_BANNER_BUTTON:lp("Update browser banner","Get the Latest Version"),OUT_OF_DATE_BROWSER_BANNER_MODAL_TITLE:lp("Update browser banner","Update Your Browser"),OUT_OF_DATE_BROWSER_BANNER_MODAL_PARAGRAPH_1:lp("Update browser banner","From the app menu bar on Mac, select <strong>DuckDuckGo</strong> > <strong>Check for Updates...</strong>, then select <strong>Install Update</strong>."),OUT_OF_DATE_BROWSER_BANNER_MODAL_PARAGRAPH_2:lp("Update browser banner","You'll receive automatic DuckDuckGo app updates once you have the latest version."),OUT_OF_DATE_BROWSER_BANNER_MODAL_DISMISS_BUTTON:lp("Update browser banner","Don't Remind Me"),NUM_REVIEWS_SINGULAR:l("1 Review"),NUM_REVIEWS_PLURAL:function(e){return l("%s Reviews",e)},VIEW_MORE_ITEMS:l("View more items"),OPEN_REVIEWS_ON_BING:l("See merchant reviews on bing.com"),SEARCH_THIS_AREA_FOR:lp("map","Search this area for..."),SEARCH_THIS_AREA:lp("map","Search This Area"),PLACE_OPEN:lp("maps_places","Open"),PLACE_OPENS_AT_TIME:function(e){return lp("maps_places","Opens at %s",e)},PLACE_CLOSING_IN_X_MINS:function(e){return lp("maps_places","Closing in %s mins",e)},PLACE_TILL_TIME:function(e){return lp("maps_places","till %s",e)},PLACE_CLOSES_AT_TIME:function(e){return lp("maps_places","Closes at %s",e)},PLACE_CLOSED:lp("maps_places","Closed"),MORE_AT_STRING:function(e){return l("More at %s ",e)},SEND_FEEDBACK_LOCAL_EXPANDED_MAP_SUBTITLE:lp("feedback form","Share feedback on your search results."),DIRECTIONS_VIA:lp("directions","Via"),DIRECTIONS_FASTEST:lp("directions","Fastest route"),DIRECTIONS_SHOW_STEPS:lp("directions","Show Steps"),DIRECTIONS_HIDE_STEPS:lp("directions","Hide Steps"),PRINT:l("Print"),PRINT_PREVIEW_TITLE:l("Print Preview"),DIRECTIONS_PRINT_CTA:lp("directions","Print Directions"),DIRECTIONS_DRIVING:lp("directions","Driving"),DIRECTIONS_WALKING:lp("directions","Walking"),DIRECTIONS_TITLE:lp("directions","Directions"),DIRECTIONS_REVERSE_TOOLTIP:lp("directions","Reverse origin and destination"),DIRECTIONS_REVERSED_TOOLTIP:lp("directions","Origin and destination reversed"),WEBSITE:lp("maps_places","Website"),MAP:l("Map"),SATELLITE:lp("map-mode","Satellite"),CALL:lp("maps_places","Call"),PHONE:lp("maps_places","Phone"),HOURS:lp("maps_places","Hours"),ADDRESS:lp("maps_places","Address"),WHAT_PEOPLE_SAY:lp("maps_places","What people say"),MORE_REVIEWS_ON_STRING:function(e){return lp("more_reviews_on_external_website","More Reviews on %s ",e)},MORE_ON_STRING:function(e){return l("More on %s ",e)},USER_ON_SERVICE:function(e,t){return lp("maps_places","%s on %s",e,t)},PHOTOS_ON_STRING:function(e){return l("Photos on %s",e)},REVIEWS:lp("maps_places","Reviews"),WEEKDAY_ABBR_SUN:lp("maps_places","Sun"),WEEKDAY_ABBR_MON:lp("maps_places","Mon"),WEEKDAY_ABBR_TUE:lp("maps_places","Tue"),WEEKDAY_ABBR_WED:lp("maps_places","Wed"),WEEKDAY_ABBR_THU:lp("maps_places","Thu"),WEEKDAY_ABBR_FRI:lp("maps_places","Fri"),WEEKDAY_ABBR_SAT:lp("maps_places","Sat"),WEEKDAY_PLU_SUN:lp("maps_places","Sundays"),WEEKDAY_PLU_MON:lp("maps_places","Mondays"),WEEKDAY_PLU_TUE:lp("maps_places","Tuesdays"),WEEKDAY_PLU_WED:lp("maps_places","Wednesdays"),WEEKDAY_PLU_THU:lp("maps_places","Thursdays"),WEEKDAY_PLU_FRI:lp("maps_places","Fridays"),WEEKDAY_PLU_SAT:lp("maps_places","Saturdays"),PLACE_POPULAR_HOURS_ON_WEEKDAY:function(e){return lp("maps_places","Popular hours on %s",e)},OPEN_24_HOURS:lp("maps_places","Open 24 hours"),DIRECTIONS_NO_ROUTES:lp("directions","No Available Routes"),DIRECTIONS_NO_ROUTES_LONG:lp("directions","No available routes between these locations"),DIRECTIONS_NO_RESULTS:lp("directions","No results found."),DIRECTIONS_SUGGESTIONS:lp("directions","Suggestions:"),DIRECTIONS_SUGGEST_1:lp("directions","Make sure your search is spelled correctly."),DIRECTIONS_SUGGEST_2:lp("directions","Try adding a city, state, or postal code."),DIRECTIONS_INITIAL_MESSAGE:lp("directions","Add a starting point and destination to find a route."),DIRECTIONS_OPEN_IN:lp("directions","Navigate in"),NO_RESULTS_SHOW_WEB:lp("noresults","Show Web Results"),EXPAND_MAP:lp("mobile expanded map","Expand Map"),SHOW_DETAIL:lp("mobile expanded map","Show Detail"),SHOW_LIST:lp("mobile expanded map","Show List"),DIRECTIONS_YOUR_LOCATION:lp("directions","Your Location"),SEARCH_NEAR_MY_LOCATION:lp("vertical_map","Search Near My Location"),SEARCH_CURRENT_MAP_LOCATION:lp("vertical_map","Search Current Map Area"),SEARCH_FORM_PLACEHOLDER_START:lp("maps_directions","Enter start location"),SEARCH_FORM_PLACEHOLDER_END:lp("maps_directions","Enter your destination"),DUCKASSIST_DISCLAIMER:l("Auto-generated based on listed sources. Responses may contain inaccuracies."),DUCKASSIST_ERROR_NOT_FOUND:l("Sorry, no relevant information was found in our search."),DUCKASSIST_ERROR_OVERLOAD:l("Sorry, DuckAssist is currently unavailable."),DUCKASSIST_LEARN_MORE_P1:function(e,t){return l("DuckAssist is an optional feature in our search results that can anonymously generate answers to search queries. To do this, it scans the web for relevant content and then uses AI-powered natural language technology to generate a brief answer based on relevant information found. DuckAssist responses always link directly to one or two sources, citing where the answer came from, so you can easily go and get more detailed information. It’s important to remember that responses are auto-generated from cited sources and based on %scrawling the web%s.",e,t)},DUCKASSIST_LEARN_MORE_P2:function(e,t){return l("DuckAssist cannot answer follow-up questions, however, we also offer %sDuckDuckGo AI Chat%s, which is a private AI-powered chat service that supports chat models from OpenAI, and Anthropic, and more.",e,t)},DUCKASSIST_LEARN_MORE_P3:function(e,t){return l("Phrasing your search as a question and in a complete sentence makes DuckAssist more likely to appear automatically and often yields better answers. To turn it off and hide the Assist button visit %sDuckAssist Settings%s.",e,t)},DUCKASSIST_REQUEST_CTA:l("Generate"),DUCKASSIST_REQUEST_PROMPT:l("Generate an answer from relevant content on the web."),DUCKASSIST_MORE_INFO_IN_SECTION_OF_ARTICLE:function(e,t,i){return l("the %s section of the %s %s article",e,t,i)},DUCKASSIST_MORE_INFO_IN_ARTICLE:function(e,t){return l("%s from %s",e,t)},DUCKASSIST_FEEDBACK_CATEGORY_INACCURATE:l("Information is inaccurate"),DUCKASSIST_FEEDBACK_CATEGORY_OUTDATED:l("Information is outdated"),DUCKASSIST_FEEDBACK_CATEGORY_NOT_HELPFUL:l("Response is not helpful"),DUCKASSIST_FEEDBACK_CATEGORY_MIDLEADING:l("Response is misleading"),DUCKASSIST_FEEDBACK_CATEGORY_UNTRUSTWORTHY_SOURCE:l("Source is not trustworthy"),DUCKASSIST_FEEDBACK_CATEGORY_DISLIKE_AI:l("I dislike AI"),DUCKASSIST_FEEDBACK_CATEGORY_ACCURATE:l("Information is accurate"),DUCKASSIST_FEEDBACK_CATEGORY_UP_TO_DATE:l("Information is up-to-date"),DUCKASSIST_FEEDBACK_CATEGORY_HELPFUL:l("Response is helpful"),DUCKASSIST_FEEDBACK_CATEGORY_TRUSTWORTHY_SOURCE:l("Source is trustworthy"),ANONYMOUS_LOCATION_TITLE:lp("precise_user_location","We can anonymize%s your location%s to show you more accurate results.","<wbr>","<wbr>"),ANONYMOUS_LOCATION_IN:lp("precise_user_location","Anonymizing your location in"),LOCATION_PRIVACY_MESSAGE:lp("maps_places","Your actual location remains private"),USE_LOCATION:lp("precise_user_location","Use Location"),MAYBE_LATER:lp("precise_user_location","Maybe later"),MORE_PLACES:l("More Places"),PUL_PICK_LOC:lp("precise_user_location","Set Location on Map"),PUL_INSTRUCT_DDG_1:lp("precise_user_location","%sLong-press%s the DuckDuckGo app icon on the home screen","<b>","</b>"),PUL_INSTRUCT_DDG_2:lp("precise_user_location","Tap the %sapp info icon%s","<b>","</b>"),PUL_INSTRUCT_DDG_3:lp("precise_user_location","Tap %sPermissions > Location%s","<b>","</b>"),PUL_INSTRUCT_ANDR_A_1:lp("precise_user_location","Tap the %spermissions icon%s in the address bar","<b>","</b>"),PUL_INSTRUCT_ANDR_A_2:lp("precise_user_location","Ensure Location is set to %sAllow%s","<b>","</b>"),PUL_INSTRUCT_ANDR_B_1:lp("precise_user_location","Open the %sSettings app%s","<b>","</b>"),PUL_INSTRUCT_ANDR_B_2:lp("precise_user_location","Open %sLocation%s, and ensure location is %senabled%s","<b>","</b>","<b>","</b>"),PUL_INSTRUCT_ANDR_B_3:lp("precise_user_location","Navigate to %sSetting > Apps%s","<b>","</b>"),PUL_INSTRUCT_ANDR_B_4:lp("precise_user_location","Ensure your browser is allowed location access"),PUL_INSTRUCT_IOS_DDG_1:lp("precise_user_location","Open the %sSettings%s app","<b>","</b>"),PUL_INSTRUCT_IOS_DDG_2:lp("precise_user_location","Go to %sPrivacy & Security > Location Services%s","<b>","</b>"),PUL_INSTRUCT_IOS_DDG_3:lp("precise_user_location","Select %sDuckDuckGo%s in the list and %sallow%s location access","<b>","</b>","<b/>","<b/>"),PUL_INSTRUCT_IOS_DDG_4:lp("precise_user_location","Turn on %sPrecise Location%s for more accurate results","<b>","</b>"),PUL_INSTRUCT_IDEV_1:lp("precise_user_location","Open the %sSettings%s app","<b>","</b>"),PUL_INSTRUCT_IDEV_2:lp("precise_user_location","Go to %sPrivacy & Security > Location Services%s","<b>","</b>"),PUL_INSTRUCT_IDEV_3:lp("precise_user_location","Select %syour browser%s in the list and %sallow%s location access","<b>","</b>","<b/>","<b/>"),PUL_INSTRUCT_IDEV_4:lp("precise_user_location","Scroll down and locate %syour browser%s in the list","<b>","</b>"),PUL_INSTRUCT_IDEV_5:lp("precise_user_location","Ensure your browser is allowed %slocation access%s","<b>","</b>"),PUL_INSTRUCT_ALT_1:lp("precise_user_location","Click the %spermissions icon%s in the address bar","<b>","</b>"),PUL_INSTRUCT_ALT_2:lp("precise_user_location","Ensure location access is %sallowed%s","<b>","</b>"),PUL_INSTRUCT_SAF_1:lp("precise_user_location","Open the Safari menu and select %sSettings for DuckDuckGo...%s","<b>","</b>"),PUL_INSTRUCT_SAF_2:lp("precise_user_location","Ensure Location is set to %sAllow%s","<b>","</b>"),LEARN_HOW_WE_KEEP_PRIVATE_TEXT_TITLE_CASE:lp("precise_user_location","How We Keep Your Location Private"),PUL_INSTRUCT_RELOAD:lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>"),PUL_ACKNOWLEDGE:lp("precise_user_location","Got It"),PUL_SET_MANUALLY:lp("precise_user_location","Set Manually"),PUL_UPDATE:lp("precise_user_location","Update Location"),CHANGE_LOCATION:lp("precise_user_location","Change Location"),PUL_UPDATE_CURRENT:lp("precise_user_location","Refresh Location"),PUL_CLEAR_CURRENT:lp("precise_user_location","Clear & Disable"),PUL_MORE_INFO:lp("precise_user_location","More info"),RESULTS_NEAR:lp("precise_user_location","Results near"),ANONYMOUS_LOCATION_ENABLED_TITLE:lp("precise_user_location","Anonymous Location Enabled"),LOCATION_ONLY_ON_DEVICE:lp("precise_user_location","Location information is stored only on your device."),ANONYMOUS_LOCATION_PRIVATE:lp("precise_user_location","Your location is always private to DuckDuckGo"),ANONYMOUS_LOCATION_DISCLAIMER:lp("precise_user_location","Enabling anonymous location gives more accurate results but still keeps your searches and exact location private to DuckDuckGo."),ENABLE_LOCATION:lp("precise_user_location","Enable Location"),PUL_ENABLE_LOCATION:lp("precise_user_location","Enable location settings on your device to use anonymous location"),PUL_PICK_NEW_LOC:lp("precise_user_location","Set New Location on Map"),BROWSER_LOCATION_UNAVAILABLE:lp("precise_user_location","Browser Location Unavailable"),BROWSER_LOCATION_TROUBLESHOOT:lp("precise_user_location","Set your location manually, or ensure Location Services is enabled."),PUL_HELP:lp("precise_user_location","Help"),RESULTS_CLOSER_TO_YOU:lp("precise_user_location","Find results closer to you"),RESULTS_CLOSER_TO_YOU_EP:lp("precise_user_location","Find results closer to you."),PUL_MOVE_MAP:lp("precise_user_location","Move map to set current location"),PUL_DONE:lp("precise_user_location","Done"),HOTEL_OFFERS_SHOW_MORE_RATES:lp("Single Place Hotel Offers Module","Show More Rates"),HOTEL_OFFERS_OFFICIAL_WEBSITE:lp("Single Place Hotel Offers Module","official website"),HOTEL_OFFERS_LIST_EMPTY:function(e){return lp("Single Place Hotel Offers Module","Check %s for rates and availability.",e)},PROMOTION_SHOP_CTA:lp("merchant promotion product ad extension","Shop"),PROMOTION_EXPIRES_IN_SINGULAR:lp("merchant promotion product ad extension","Expires in 1 day"),PROMOTION_EXPIRES_IN_PLURAL:function(e){return lp("merchant promotion product ad extension","Expires in %s days",e)},CUSTOM_DATE_RANGE:l("Custom date range"),SAFE_SEARCH_COLON:l("Safe search:"),SAFE_SEARCH:l("Safe search"),STRICT:lp("safe search","Strict"),OFF:lp("setting","Off"),MODERATE:lp("safe search","Moderate"),FILTER_BY_DATE:l("Filter by Date"),DATE:l("Date"),ANYTIME:l("Any time"),PAST_DAY:l("Past day"),PAST_WEEK:l("Past week"),PAST_MONTH:l("Past month"),PAST_YEAR:l("Past year"),CLEAR_ALL:l("Clear All"),DUCKDUCKGO_NEVER_TRACKS:lp("Appears in the tooltip of the privacy reminder that may appear in the search filter bar","DuckDuckGo never tracks your searches."),HIDE_REMINDER:function(e,t){return l("You can hide this reminder in %sSearch Settings%s",e,t)},APPLY:lp("Custom date range filer","Apply"),ALWAYS_PRIVATE:l("Always private"),UNITED_STATES:l("United States"),ALWAYS_PRIVATE_SHORT:l("Private"),FILTER_BY_REGION:l("Filter by Region"),RECENT:lp("region filter","Recent:"),REGION:l("Region"),ALL_REGIONS:l("All Regions"),ALL_REGIONS_SC:lp("settingsvalue","All regions"),BELGIUM_FR:l("Belgium (fr)"),BELGIUM_NL:l("Belgium (nl)"),CANADA_EN:l("Canada (en)"),CANADA_FR:l("Canada (fr)"),CATALONIA:l("Catalonia"),CZECH_REPUBLIC:l("Czech Republic"),INDIA_EN:l("India (en)"),INDONESIA_EN:l("Indonesia (en)"),ISRAEL_EN:l("Israel (en)"),KOREA:l("Korea"),MALAYSIA_EN:l("Malaysia (en)"),PAKISTAN_EN:l("Pakistan (en)"),PHILIPPINES_EN:l("Philippines (en)"),RUSSIA:l("Russia"),SPAIN_ES:l("Spain (es)"),SPAIN_CA:l("Spain (ca)"),SWITZERLAND_DE:l("Switzerland (de)"),SWITZERLAND_FR:l("Switzerland (fr)"),THAILAND_EN:l("Thailand (en)"),TAIWAN:l("Taiwan"),TURKEY:l("Turkey"),UNITED_KINGDOM:l("United Kingdom"),UNITED_KINGDOM_SHORT:l("UK"),UNITED_STATES_EN:l("US (English)"),UNITED_STATES_ES:l("US (Spanish)"),VIETNAM_EN:l("Vietnam (en)"),FILTER_DEFAULT:l("(Default)"),MORE_IN:function(e){return l("More in %s",e)},MORE_IN_ALONE:l("More in"),AND:l("and"),ARTICLE_FROM_SITE:function(e,t){return l("%s from %s",e,t)},HOW_WAS_THIS_ANSWER:l("How was this response?"),IMAGES:l("Images"),VIDEOS:l("Videos"),NEWS:l("News"),SHOPPING:l("Shopping"),MAPS_TAB_LABEL:l("Maps"),MORE:lp("additional","More"),DUCKASSIST_TAB_LABEL:l("Assist"),DUCKASSIST_TAB_TOOLTIP:l("Generate a short answer from the web"),SETTINGS:lp("feedback form","Settings"),SEARCH_SETTINGS:lp("settings pages title","Search Settings"),SEARCH_SETTINGS_TOOLTIP:lp("Tooltip for settings page button","Change search settings")},function(e){var t=function(e,t){var i,s=t[t.type||"primary"];return!s||(i=function(e,t,i,s){for(var a,o,n,r=0,l=0,d=i.length,c=!1,h=!1;r<d;r++){if(o=null,n=!1,(a=i[r]).required){if(o=DDG.getProperty(e,a.required)){if(o.length&&o.length>0){c=!0;continue}if(0===o||o){c=!0;continue}}return!1}if(!a.key)return!1;if(h=!0,o=DDG.getProperty(e,a.key))if(a.match){var p=o.match(a.match);if((n=!!p)&&a.strict){var u=DDG.get_query().match(a.match);n=p[0].toLowerCase()==u[0].toLowerCase()}if(!n)return!1}else $.isArray(o)&&(o=o.join(" ")),n=DDG.isRelevant(o,a.skip_words||t.skip_words,a.min_length,!!a.strict);else n=!1;if(n)l++;else if(!s)return!1}return 0!==l||!(!c||h)}(e,t,s,!0),i)};e.DDH={spice_tabs:{},spice_objects:{},add:function(t,i,s){if(i=i||"unknown",(!e.disinfoExp||"j"!==e.searchExperiments.getActiveVariant("infoboxexp"))&&t.id&&"stocks"!==t.id&&t.data){var a=DDG.Data.answers.getBySpiceId(t.id);if(t.id=a.id||t.id,t.isSpiceOrGoodie=!a.convertedFromSpice,t.require&&t.isSpiceOrGoodie){var o=t.require;return delete t.require,t.signal&&DDG.duckbar.future_signal_tab(t,!1,i,s),void DDG.require(o,e.DDH.add.bind(e.DDH,t,i,s))}if(!t.allowMultipleCalls&&this.spice_objects[t.id])return null;if(e.DDH[t.id]&&e.DDH[t.id].build&&$.isFunction(e.DDH[t.id].build)){var n=e.DDH[t.id].build(t);if(!1===n||"object"===$.type(n)&&$.isEmptyObject(n))return;$.extend(t,n)}if(e.DDH[t.id]&&e.DDH[t.id].build_async&&$.isFunction(e.DDH[t.id].build_async))e.DDH[t.id].build_async(t,(function(t){var a=e.DDH._build_ops(t);a&&(e.DDH.spice_tabs[a.id]=DDG.duckbar.add(a,null,i,s))}));else{var r=e.DDH._build_ops(t);r&&(e.DDH.spice_tabs[r.id]=DDG.duckbar.add(r,null,i,s))}}},_build_ops:function(i){i.templates=i.templates||{},i.meta=i.meta||{},e.DDH[i.id]&&e.DDH[i.id].meta&&(i.meta=$.extend(e.DDH[i.id].meta,i.meta)),i.meta.tab&&(i.name=i.meta.tab);var s,a,o=i.normalize||null,n=$.isArray(i.data),r=[],l=i.relevancy,d=(DDG.get_query(),[]),c=[];if(n){l&&(i.meta.idField=l.dup);for(var h=0,p=i.data.length;h<p;h++){var u=i.data[h];if(!l||t(u,l)){if(o){if(!(a=o(u)))continue;s=$.extend({},u,a)}else s=u;s.exactMatch?c.push(s):s.boost?d.push(s):r.push(s)}}if(d.length>0)for(h=0;h<d.length;h++)r.unshift(d[h]);if(c.length>0)for(h=0;h<c.length;h++)r.unshift(c[h]);if(r.length<1)return void DDG.duckbar.failed(i.id);if(i.data=r,r.length>1&&i.sort_fields&&i.sort_default){var m=null;"string"==typeof i.sort_default?m=i.sort_default:l&&l.type&&(m=i.sort_default[l.type]),m&&m.length>0&&i.data.sort(DDG.getProperty(i.sort_fields,m))}}else{if(l&&!t(i.data,l))return void DDG.duckbar.failed(i.id);if(o){if(!(a=o(i.data)))return void DDG.duckbar.failed(i.id);i.data=$.extend({},i.data,a)}}return"cheat_sheets"===i.id?i.meta.id=i.from:i.meta.id=i.id,e.DDH.spice_objects[i.id]=e.DDH.spice_objects[i.id]||{},i},failed:function(e){return DDG.duckbar.failed(e)},getDOM:function(e){var t=this.spice_tabs[e];return t&&t.view&&t.view.$el||$()},selectNextItem:function(e){var t=this.spice_tabs[e];return t&&t.view&&t.view.selectNextItem&&t.view.selectNextItem()},registerHelper:function(e,t){Handlebars.registerHelper(e,t)}},e.Spice=e.DDH,e.DDH.sharedir_map=this.spice_paths?$.parseJSON(spice_paths):{}}(window),Spice.names=["airlines","alternative_to","amazon","astrobin_apod","aur","caniuse_lists","cryptocurrency","currency","dictionary_definition","dns","duck_say","expand_url","flash_version","forecast","git_book_status","glassdoor","gravatar","grunt","hacker_news","haxelib","hex","holiday","images","keybase","launchbug","launchpad_project","magic_the_gathering","maps_maps","maps_places","maven","meta_cpan","metar","near_earth_objects","newint","news","open_nic","package_tracking","packagist","people_in_space","playing_cards","product_hunt","public_holidays","quote_of_the_day","rand_pos","recipes","rhymes","ruby_gems","rust_cargo","shorten","sports","sports_mlb_games","sports_nfl_games","stocks","sun_rise_set","syntax","tfl_status","thesaurus","tides","time","tor_node","transit_septa","travis_status","tvmaze_previousepisode","videos","whois","word_of_the_day","xkcd_display"],function(e){for(var t,i=function(t){var i=[],s=0,a=null,o=function(e){e&&i.push(e);var n=window["ddg_spice_"+t];if(n===o)++s<50&&(a&&window.clearTimeout(a),a=window.setTimeout(n,19));else if(i&&i.length)for(;i.length;){var r=i.shift();r&&n(r)}};return o.loadSpiceDataIfReady=function(){"function"==typeof e["ddg_spice_"+t]&&(!!a&&clearTimeout(a),o())},o},s=0;s<Spice.names.length;s++)(t=Spice.names[s])&&void 0===e["ddg_spice_"+t]&&(e["ddg_spice_"+t]=i(t))}(window),function(e){var t=e.Models.Base,i=864e5;e.Models.VQD=function(e,i){t.call(this,e),this._history=i||window.history,this._init(),this._boundHandlePageShow=function(e){e&&e.persisted&&this._init(),this._ready=!0,this.emit("ready")}.bind(this),window.addEventListener("pageshow",this._boundHandlePageShow)},e.Models.VQD.prototype=Object.assign({},t.prototype,{timeVqdLoaded:Date.now(),destroy:function(){window.removeEventListener("pageshow",this._boundHandlePageShow),this.removeAllListeners()},_init:function(){if(this._history&&this._history.replaceState){var e=(this._history.state||{}).vqdData;e&&e.vqd===window.vqd?(this._isTimeVqdLoadedFromPreviousPageLoad=!!e.timeVqdLoaded,e.timeVqdLoaded&&(this.timeVqdLoaded=e.timeVqdLoaded),this.isExpired()&&this.clearVqdData()):this._history.replaceState(Object.assign({},this._history.state,{vqdData:{vqd:window.vqd,timeVqdLoaded:this.timeVqdLoaded}}),"")}},age:function(){return Math.floor((Date.now()-this.timeVqdLoaded)/i)},isExpired:function(){return Date.now()-this.timeVqdLoaded>17274e4},isTimeVqdLoadedFromPreviousPageLoad:function(e){this._ready?e(!!this._isTimeVqdLoadedFromPreviousPageLoad):this.once("ready",function(){e(!!this._isTimeVqdLoadedFromPreviousPageLoad)}.bind(this))},clearVqdData:function(){if(this._history&&this._history.replaceState){var e=Object.assign({},this._history.state);delete e.vqdData,this._history.replaceState(e,"")}}})}(DDG),function(e){var t=e.Models.Base;e.Models.Feedback=function(e){this.rating=-1,this.comment="",this.endpoint="",t.call(this,e),this.submitting=!1,this.success=!1,this.error=!1},e.Models.Feedback.prototype=$.extend({},t.prototype,{send:function(t){this.set("success",!1);var i=this._prepareTextFeedback(t),s=this.endpoint||e.services.getURL("reports");t&&t.type&&"images"===t.type&&(s=this.endpoint||e.services.getURL("imageReports"),i=this._prepareImageFeedback(t)),i=$.extend({q:e.get_query(),safe:e.settings.get("kp")},i);var a,o=t.type||t.looking_for,n=["fbs",1===t.rating?"positive":"negative",o];(a="images"===t.type?t.reason:"ads"===t.looking_for?t.ads_issue:t.category_issue)&&n.push(a),"ads"===t.looking_for&&window.rl&&(n.push({rl:window.rl}),i.rl=window.rl||""),e.pixel.fire.apply(e.pixel,n),t.comment||t.looking_for_other?this._sendRequest(s,i):this.set("success",!0)},_prepareImageFeedback:function(e){return $.extend({image_url:this.image,thumb_url:this.thumbnail},e||{})},_prepareTextFeedback:function(t){return this.comment=this._shortenString(this.comment,500),this.looking_for_other=this._shortenString(this.looking_for_other,50),this.ads_issue_other=this._shortenString(this.ads_issue_other,50),e.search.userLocationExp&&(this.comment+=" | ulexp="+e.search.userLocationExp),$.extend({rating:this.rating,comment:this.comment,browser:navigator.platform+" "+e.device.browserName,mobile:e.device.isMobile?1:0,atb:JSON.stringify(e.opensearch.installed),ct:window.ct||"",t:e.history.get("t")||"",upstream:e.search&&e.search.src||"",df:e.search&&e.search.dateFilterId||"",result_count:e.search&&e.search.getResultCount()||0,spell:window.dns||"",first_src:e.first_source||"",lang:e.settings.get("kad"),region:e.settings.get("kl")},t||{})},_sendRequest:function(t,i){this.set("submitting",!0),this.set("success",!1),this.set("error",!1),$.ajax({url:t,type:"POST",data:i,success:function(){this.set("submitting",!1),this.set("success",!0)}.bind(this),error:function(t,s){e.pixel.fire("fbf",i),this.set("submitting",!1),this.set("error",s)}.bind(this)})},_shortenString:function(e,t){return e&&e.length>t?e.slice(t-3)+"...":e}})}(DDG),function(e){var t=e.Models.Base;e.Models.SerpPopover=function(e){t.call(this,e),this._initialized=!1,this._MAX_IMPRESSIONS=4,this._DEFER_LENGTH_DAYS=30,this._DEFER_LENGTH=864e5*this._DEFER_LENGTH_DAYS,this._LOCALSTORAGE_KEY="serpPopoverPromo",this._NEXT_PROMO_PROPERTY="showNextPromoOn",this.showNextPromoOn=null,this._IMPRESSION_PROPERTY="impressionCount",this.impressionCount=null,this.isActive=null,this.isVisible=!1,this._init()},e.Models.SerpPopover.prototype=$.extend({},t.prototype,{_init:function(){var t;if(!this._initialized){this._initialized=!0,this._migrateFromExperiment(),this._migrateFromPrevious();try{null===(t=JSON.parse(window.localStorage.getItem(this._LOCALSTORAGE_KEY)))?this.impressionCount=0:t[this._IMPRESSION_PROPERTY]?this.impressionCount=t[this._IMPRESSION_PROPERTY]:t[this._NEXT_PROMO_PROPERTY]&&(this.showNextPromoOn=new Date(Date.parse(t[this._NEXT_PROMO_PROPERTY])))}catch(i){}this.impressionCount&&this.impressionCount>=this._MAX_IMPRESSIONS?(e.pixel.fire("serp_promo_ignore"),this.registerInteraction()):this.showNextPromoOn&&this._timeHasPassed()&&this._resetState("shownexton"),this.isActive=!this.showNextPromoOn&&null!==this.impressionCount}},_persistState:function(){var e={};this.impressionCount?e[this._IMPRESSION_PROPERTY]=this.impressionCount:this.showNextPromoOn&&(e[this._NEXT_PROMO_PROPERTY]=this.showNextPromoOn.toISOString().slice(0,10));try{window.localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(e))}catch(t){}},_timeHasPassed:function(){return!this.showNextPromoOn||(new Date).getTime()-this.showNextPromoOn.getTime()>0},_resetState:function(){this.showNextPromoOn=null,this.impressionCount=0,this._persistState()},registerInteraction:function(){this.impressionCount=null,this.showNextPromoOn=new Date((new Date).getTime()+this._DEFER_LENGTH),this._persistState()},registerImpression:function(){this.impressionCount++,this._persistState()},_migrateFromExperiment:function(){var e="serp_campaigns";try{var t=JSON.parse(window.localStorage.getItem(e));if(t.current&&t.current.impressions)this.impressionCount=t.current.impressions;else if(t.previous){var i=new Date(t.previous.conversion||t.previous.dismiss||t.previous.ignore);i.setDate(i.getDate()+1.5*this._DEFER_LENGTH_DAYS),this.showNextPromoOn=i}this._persistState(),window.localStorage.removeItem(e)}catch(s){}},_migrateFromPrevious:function(){try{window.localStorage.removeItem("macBrowserPromoDismissed"),window.localStorage.removeItem("windowsBrowserPromoDismissed")}catch(e){}}})}(DDG),function(e){var t=e.Models.Base;e.Models.SerpPromotions=function(e){t.call(this,e),this._data={},this.active=null,this._initialized=!1},e.Models.SerpPromotions.prototype=$.extend({},t.prototype,{_init:function(){this._initialized||(this._initialized=!0,this._PROMOS={browserPopover:[["Desktop",e.device.isDesktop],["Mac or Windows",e.device.isOSX||e.device.isWindows],["Supported Mac/Windows Version",e.device.isOSXCatalinaAndUp||e.device.isWindows10],["Browser",e.device.isChrome||e.device.isBrave||e.device.isEdgeChromium||e.device.isSafari||e.device.isVivaldi||e.device.isOpera]],extensionAtbBadge:[["Can show",function(){return e.addToBrowser.canShowOnDesktopSerp()||"b"===e.searchExperiments.getActiveVariant("pctaexp")}]],newsletterBadge:[["Can show",e.newsletter.shouldShowBadge()]],productMenu:[["English",e.device.isEnglish],["Windows/OSX",e.device.isWindows||e.device.isOSX],["Desktop",e.device.isDesktop],["Chrome",e.device.isChrome],["Not DDG Browser",!(e.device.isDDGmacOS||e.device.isDDGwindows)],["Window width",window.innerWidth>1080]]},this._data=Object.keys(this._PROMOS).reduce(function(t,i){var s=[],a=!0,o=!1;return e.deep.upstreamFailed&&(s.push("upstream failed"),a=!1),"b"===e.searchExperiments.getActiveVariant("duckchat_alpha")&&e.history&&e.history.curState&&"chat"===e.history.curState.ia&&(s.push("duckchat tab"),a=!1),e.settings.isDefault("kak")||(s.push("kak setting"),a=!1),e.opensearch&&e.opensearch.installed&&e.opensearch.getDaysSinceCohort(e.opensearch.installed.version)<7&&(s.push("extension recently installed"),a=!1),e.serpPopover.isActive||(s.push("promo popover is inactive"),a=!1),e.tParam.isAffiliate()&&(s.push("affiliate"),a=!1),this._PROMOS[i].forEach((function(e){var t=e.shift(),i=e.shift();!!("function"==typeof i?i():i)||(s.push(t),a=!1)})),this.active&&s.push("Priority"),a&&!this.active&&(this.active=i,o=!0),t[i]={isValid:a,failures:s,isActive:o},t}.bind(this),{}))},get:function(e){return this._init(),this._data[e]},isActive:function(e){return this.get(e).isActive},activeContains:function(e){return this._init(),!!this.active&&this.active.includes(e)}})}(DDG),DDG,DDG.Data.FeedbackIssues={ads:[{text:lp("feedback form","Ad is malware"),val:"malware"},{text:lp("feedback form","Ad is inappropriate"),val:"inappropriate"},{text:lp("feedback form","Ad is suspicious"),val:"suspicious"},{text:lp("feedback form","Ad is irrelevant"),val:"irrelevant"},{text:lp("feedback form","Ad is annoying"),val:"annoying"}],apple_ad:[{text:lp("feedback form","I don't want this type of result"),val:"unwanted"},{text:"It's not the app I'm looking for",val:"wrongApp"},{text:"I'm not trying to search for an app",val:"irrelevant"}],organics:[{text:"There are not enough results",val:"notenough"},{text:"Search terms are ignored or changed",val:"termsIgnored"},{text:"The results are outdated",val:"linksOld"},{text:"There are no dates next to results",val:"missingDates"},{text:"The results are in the wrong language",val:"wrongLanguage"},{text:"The filters are not effective",val:"filters"},{text:"The results aren't relevant",val:"irrelevant"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"Not relevant for my region",val:"region"}],filters:[{text:"I want a custom date range filter",val:"wantCustom"}],wikipedia:[{text:"These results are not relevant",val:"irrelevant"},{text:"Wrong image is shown",val:"wrongImage"},{text:"Words or numbers are missing",val:"dataMissing"},{text:"Information is outdated",val:"outdated"},{text:"These results were relevant but not helpful",val:"infoNotShown"}],about:[{text:"These results are not relevant",val:"irrelevant"},{text:"Information is outdated",val:"outdated"},{text:"Information is missing",val:"dataMissing"},{text:"There are formatting issues",val:"badFormatting"}],places_multiple:[{text:"I'm not trying to search for places",val:"falsePositive"},{text:"A specific place I'm interested in isn't included",val:"missedResult"},{text:"They're in the wrong area",val:"wrongGeo"},{text:"Some results are unrelated to my search term",val:"poorRelevance"},{text:"I want to see more results",val:"moreResults"}],map_no_results:[{text:"These suggestions are helpful",val:"helpful"},{text:"These results were relevant but not helpful",val:"notHelfpul"},{text:"I expected several results",val:"expectedSeveral"},{text:"I expected a single result",val:"expectedSingle"}],maps:[{text:"These results are not relevant",val:"irrelevant"},{text:"The location is wrong",val:"wrongLocation"}],directions:[{text:"The directions aren't relevant",val:"irrelevant"},{text:"The routes are missing",val:"missingRoutes"},{text:"The routes are wrong",val:"wrongRoutes"},{text:"The start or end location is wrong",val:"wrongLocation"},{text:"I'd like traffic info",val:"wantTrafficInfo"},{text:"I'd like public transit",val:"wantPublicTransit"},{text:"I'd like bike routes",val:"wantBikeRoutes"}],news:[{text:"I wasn't looking for news",val:"irrelevant"},{text:"What I'm looking for isn't shown",val:"missingArticles"},{text:"Articles require a subscription to read",val:"articlesPaywalled"},{text:"I don't trust these news sources",val:"untrusted"},{text:"The filters are not effective",val:"filters"}],newsvertical:[{text:"What I'm looking for isn't shown",val:"missingArticles"},{text:"Articles require a subscription to read",val:"articlesPaywalled"},{text:"I don't trust these news sources",val:"untrusted"},{text:"The filters are not effective",val:"filters"}],videos:[{text:"I wasn't looking for videos",val:"irrelevant"},{text:"What I'm looking for isn't shown",val:"missingVideos"},{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"Too many results from YouTube",val:"singleSource"}],videosvertical:[{text:"What I'm looking for isn't shown",val:"missingVideos"},{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"Too many results from YouTube",val:"singleSource"}],images:[{text:"I wasn't looking for images",val:"irrelevant"},{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"What I'm looking for isn't shown",val:"missingImages"}],imagesvertical:[{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"What I'm looking for isn't shown",val:"missingImages"}],forecast:[{text:"The location is wrong",val:"wrongLocation"}],products:[{text:lp("feedback form","I don't want this type of result"),val:"productads"},{text:lp("feedback form","Product ad pricing is misleading"),val:"pricing"},{text:lp("feedback form","Product ads aren't relevant"),val:"irrelevant"},{text:lp("feedback form","Product ad content is deceptive"),val:"deceptive"}],autoads:[{text:lp("feedback form","I don't want this type of result"),val:"unwanted"},{text:"Car location is wrong",val:"locationWrong"},{text:"Car pricing is misleading",val:"pricing"},{text:"Car ads aren't relevant",val:"irrelevant"},{text:"Car ad content is deceptive",val:"deceptive"}],toursactivities:[{text:lp("feedback form","I don't want this type of result"),val:"unwanted"},{text:"Ad pricing is misleading",val:"pricing"},{text:"Ad content is misleading",val:"misleading"},{text:"Ads aren't relevant",val:"irrelevant"}],creditcards:[{text:lp("feedback form","I don't want this type of result"),val:"unwanted"},{text:"Ads aren't relevant",val:"irrelevant"},{text:"Ad content is misleading",val:"misleading"}],productsvertical:[{text:lp("feedback form","Price shown doesn't reflect merchant site"),val:"pricing"},{text:lp("feedback form","Product ads aren't relevant"),val:"irrelevant"},{text:lp("feedback form","Product ad content is deceptive"),val:"deceptive"},{text:lp("feedback form","I expected to see results from more sellers"),val:"few sellers"},{text:lp("feedback form","Filters aren't working"),val:"filters"}],settings:[{text:"I'm unable to change the settings",val:"change"},{text:"I keep losing my settings",val:"losing"}],translations:[{text:lp("translations_module","This translation is wrong"),val:"wrongTranslation"},{text:lp("translations_module","This translation is offensive"),val:"nsfw"}],qna:[{text:"Information is not relevant",val:"irrelevant"},{text:"Information is incorrect",val:"incorrect"}],lyrics:[{text:"I wasn't looking for lyrics",val:"irrelevant"},{text:"Lyrics for the wrong song are shown",val:"incorrectSong"},{text:"Lyrics contain errors",val:"incorrectLyrics"},{text:"Song title is incorrect",val:"incorrectTitle"},{text:"Artist name is incorrect",val:"incorrectArtist"},{text:"Album is incorrect",val:"incorrectAlbum"},{text:"Release date is incorrect",val:"incorrectReleaseDate"},{text:"Lyrics are inappropriate/explicit",val:"explicit"},{text:"Musixmatch link is broken",val:"brokenLink"}],wikinlp:[{text:l("Information is inaccurate"),val:"inaccurate"},{text:l("Information is outdated"),val:"outOfDate"},{text:l("Response is not helpful"),val:"notHelpful"},{text:l("Response is misleading"),val:"misleading"},{text:l("Source is not trustworthy"),val:"untrustworthy"},{text:l("I dislike AI"),val:"dislikesAI"}],duckchat:[{text:lp("Feedback option for inaccurate chat response","Chat response is inaccurate"),val:"inaccurate"},{text:lp("Feedback option for offensive chat response","Chat response is offensive"),val:"offensive"},{text:lp("Feedback option for chat response below expectations","Chat response is below expectations"),val:"badResponse"},{text:lp("Feedback option for difficulty in using chat","I need more help/info on how to use Chat"),val:"difficultUse"},{text:lp("Feedback option for slow chat","Chat is slow"),val:"slow"},{text:lp("Feedback option for chat not saving conversations","Chat does not save my conversations"),val:"noSave"},{text:lp("Feedback option for hitting chat limit","I hit a chat limit"),val:"chatLimit"},{text:lp("Feedback option for chat lacking features","Chat is lacking features"),val:"lackFeature"}]},DDG,DDG.Data.FeedbackPositives={wikinlp:[{text:l("Information is accurate"),val:"accurate"},{text:l("Information is up-to-date"),val:"upToDate"},{text:l("Response is helpful"),val:"helpful"},{text:l("Source is trustworthy"),val:"trustworthySource"}]},function(e){e.Models.Router=function(){this._routes={},e.history.enablePushState((function(t,i){if(t=t||"",i=i||"",!e.duckbar||!e.duckbar.isDone&&"iaxm"!==t)return!1;var s=window.history&&window.history.state&&window.history.state[e.Utils.History.KEY];return"ia"===t||"iax"===t&&"cheatsheet"!==e.history.get("ia")||"iaxm"===t||"iai"===t&&s&&s.iaxm||"iai"===t&&e.device.isMobile&&(!s||!s.iai)||"iai"===t&&e.device.isMobile&&!i&&s&&s.iai||"ia_state"===t.substring(0,8)||"q"===t||"strict_bbox"===t||"bbox"===t||"metatoken"===t||"start"===t||"end"===t||"transport"===t})),e.history.on("popstate",this._onHistoryPopState.bind(this))},e.Models.Router.prototype=$.extend({},EventEmitter2.prototype,{add:function(e,t){this._routes[e]={id:e,handler:t}},navigate:function(e,t){if(e){var i=this._routes[e];i&&i.handler&&i.handler(t)}this.emit("navigate",e)},_onHistoryPopState:function(t){var i=t&&t.state&&t.state[e.Utils.History.KEY];if("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&window.serpStore&&window.utils){var s=window.Bootstrap.getAllHistoryState(),a=window.serpStore.getSnapshot().activeTabId;if("maps_expanded"!==a||s.iaxm)if("maps_expanded"!==a&&s.iaxm)e.history.curState=s,e.duckbar.open("maps_expanded",{backButtonOpened:!0,preventHistoryAction:!0});else{if(!i)return;this._setIAFromHistory(i)}else if(e.history.curState=s,s.ia){var o=window.serpStore.getSnapshot(),n=Object.keys(o.dataById).map((function(e){return o.dataById[e]})).filter((function(e){return window.utils.isInstantAnswer(e)})).find((function(e){return window.utils.itemMatchQuerystringParamValue(e,s.ia,{searchExperiments:window.Bootstrap.searchExperiments})}));e.duckbar.open(n&&n.id||"web",{backButtonOpened:!0,preventHistoryAction:!0})}else e.duckbar.open("web",{backButtonOpened:!0,preventHistoryAction:!0});if(!i)return}else{if(!i)return;this._setIAFromHistory(i)}if(i.ia===e.history.curState.ia){var r=this._getIAModelFromHistory(i);r&&this._setIAModelPropsFromHistory(r,i)}var l=e.getProperty(e,"page.searchbar.autocomplete");e.opensearch&&e.opensearch.isExperiment("mobile_header","b")&&e.device.isMobileDevice&&l&&(!i.ac&&l._visible?l.hide():i.ac&&!l._visible&&l.show()),"directions"===i.iaxm?(r.set("isDirectionsActive",!0),this.navigate("directions",{state:i,model:r})):"start"===i.iaxm&&(r.set("isDirectionsActive",!1),this.navigate("map-start",{state:i,model:r}))},_getIAModelFromHistory:function(t){var i=t.iax||t.iaxm||e.history.curState.iax||e.history.curState.iaxm;"directions"===i&&(i="maps");var s,a=1==i||0==i?e.duckbar.getActiveTab():e.duckbar.tabsByNameId[i],o=e.duckbar.tabs.maps_expanded,n=o&&o.expandedMap&&o.expandedMap.model;if(t.iaxm&&n)s=n;else if(a&&a.model)s=a.model;else if(("about"===i||"places"===i)&&e.modulesLayout){var r=e.modulesLayout.modules["places"===i?"maps_places":i];r&&(s=r.model)}return s},_setIAFromHistory:function(t){if(t.ia!==e.history.curState.ia){var i=t.ia;if(!e.duckbar.tabs[i]){var s=e.duckbar.tabsByNameId[i];s&&(i=s.id)}e.duckbar.open(i,{backButtonOpened:!0})}else!t.ia&&e.history.curState.ia&&e.duckbar.open("web",{backButtonOpened:!0})},_setIAModelPropsFromHistory:function(t,i){if(t&&"object"==typeof t&&i){if(t.set("expanded",!!i.iax),(i.iaxm||e.history.curState&&e.history.curState.iaxm)&&this.navigate("toggle-map",{model:t,state:i,isDirections:"directions"===i.iaxm}),(e.device.isMobile||i.iaxm||e.history.curState.iaxm)&&i.q===e.history.get("q")){if(t.selectedItem&&!i.iai)return void t.selectedItem.unselect();if(i.iai&&(!t.selectedItem||t.selectedItem.id!==i.iai)){var s=t.itemsById[i.iai];if(s){s.select();var a=e.history.curState&&!e.history.curState.iaxm&&!i.iaxm&&("videos"===e.history.curState.ia&&"videos"===i.ia||"images"===e.history.curState.ia&&"images"===i.ia);return void(t.allowModuleIA&&a&&(t.set("active",!!i.iax),e.duckbar.reactOpen(i.iax?t.id:"web","popstate")))}}}if(t.allowModuleIA&&(t.set("active",!!i.iax),e.duckbar.reactOpen(i.iax?t.id:"web","popstate")),this._routes.requery&&i.iaxm&&"directions"!==i.iaxm&&"start"!==i.iaxm){if(i.q&&t.meta.update({requery:i.q}),i.bbox){var o=i.bbox.split(",");t.shouldMapViewportUpdate=!0,t.set({geo_bbox:{top_left:o[0]+","+o[1],bottom_right:o[2]+","+o[3]}})}i.isFromHistory=!0,this.navigate("requery",{state:i,model:t})}}}})}(DDG),function(e){var t=e.Pages.Base,i="setAsDefaultCTAClicked",s=["is-link-style-exp","is-link-order-exp","is-link-breadcrumb-exp","is-related-search-exp","is-vertical-tabs-exp"];e.Pages.SERP=function(s){var a;this._checkForForceReload(),e.searchExperiments.assign("pctaexp",{filter:function(){return e.extension.canInstall()&&!e.extension.isInstalled()&&e.device.isDesktop&&e.device.isEnglish}}),this.unsafeSearch=s.showSafeSearch,e.device.hostRegion=s.hostRegion,this.sideMenuOps.showFeedbackIcons=e.device.isMobile,"start.duckduckgo.com"!==window.location.host.toLowerCase()&&"1"!==e.history.get("start")||(this._updateLogoHostname("start.duckduckgo.com"),e.hidden.set("start",1),e.settings.set("kak","-1",{saveToCookie:!1}),e.settings.set("kao","-1",{saveToCookie:!1}),e.settings.set("kaq","-1",{saveToCookie:!1})),t.call(this,s),this.ads=e.ads,e.device.on("scroll",this._onScroll.bind(this));try{a=window.localStorage.getItem(i)}catch(r){}if(a){var o=new Date(a),n=new Date;if(n.setDate((new Date).getDate()-2),n.setHours(0,0,0,0),o<=n)window.localStorage.removeItem(i);else e.tParam.fromDefaultSearch({lenient:!0})&&(e.pixel.fire("default_search_conversion"),window.localStorage.removeItem(i))}window.addEventListener("pageshow",this._onPageShow.bind(this)),this._showEuAndroidWelcomeMessage="euandroid"===e.tParam.get()&&e.settings.isDefault("kea")&&e.device.isAndroid&&e.device.isChrome,this._showEuAndroidWelcomeMessage||(window.onFirstSearchPostExtensionInstall=function(t){window.onFirstSearchPostExtensionInstall.called||(window.onFirstSearchPostExtensionInstall.called=!0,t=t||{},e.device.isDesktop&&e.device.isChrome&&e.device.isWindows&&e.device.isEnglish&&e.opensearch.installed&&"v"===e.opensearch.installed.variant&&e.opensearch.installed.atbVariant&&"k"===e.opensearch.installed.atbVariant?this.views.keepExtensionDialogues=new e.Views.KeepExtensionDialogues($.extend({isInExperiment:!0},t)):e.device.isDesktop&&e.device.isChrome&&(e.device.isOSX&&e.device.chromeVersion>=87&&e.device.chromeVersion<=89||e.device.isWindows&&e.device.chromeVersion>=87)?this.views.keepExtensionDialogues=new e.Views.KeepExtensionDialogues($.extend({invertColors:e.device.isWindows},t)):t.showWelcomeBanner&&(this.views.welcomeMessage=new e.Views.WelcomeMessage({appendTo:".js-welcome-wrap"})))}.bind(this)),e.deep.on("change:started",this._onDeepStarted.bind(this)),e.deep.on("add-separator",this._addDeepSeparator.bind(this)),e.deep.on("change:isOutOfResults",this._showFooter.bind(this)),e.deep.on("load:completed",this._onDeepCompleted.bind(this)),e.deep.on("load:initial",this._onDeepInitialized.bind(this)),e.deep.on("load:any",this._onDeepChange.bind(this)),e.deep.once("deep:error",this._handleDeepError.bind(this)),this._adsRendered={page:0,mainline:{ad:0,products:0,products_middle:0,autoads:0,toursactivities:0,creditcards:0},sidebar:{ad:0,products:0,products_middle:0,autoads:0,toursactivities:0,creditcards:0}},e.settings.on("change",this._onSettingsChange.bind(this))},e.Pages.SERP.prototype=$.extend({},t.prototype,{pageType:"serp",liveUpdater:!0,sideMenuOps:{twitterLink:!0,hideSettings:!0},showingSafeSearch:0,ready:function(){var i=window.location.search,a=i&&i.includes("duckai=1");this.headerMenuOps=a?{disableSideMenu:!0}:{},t.prototype.ready.call(this),document.addEventListener("click",(function t(i){i&&(!1===i.isTrusted&&e.pixel.fire("fc"));document.removeEventListener("click",t,!0)}),!0),e.pixel.fire("serp_browser_support",{csssupports:window.CSS&&window.CSS.supports?1:0,csscustomproperties:window.CSS&&window.CSS.supports&&window.CSS.supports("color","var(--test, red)")?1:0,cssgrid:window.CSS&&window.CSS.supports&&window.CSS.supports("display","grid")?1:0,cssgridadvanced:window.CSS&&window.CSS.supports&&window.CSS.supports("display","grid")&&CSS.supports("gap","1em")&&CSS.supports("grid-column","span 1")&&CSS.supports("grid-gap","1px")&&CSS.supports("grid-auto-rows","auto")&&CSS.supports("grid-template-columns","1fr")?1:0,jsmodules:window.supportsModule?1:0}),addEventListener("pagehide",function(){e.pixel.fire("ndeeprequests",{n:window.nDeepRequests||0})}.bind(this));window.utils.syncWithLegacyHistory(e.history);var o=window.stores.applyMiddleware(window.stores.createStore(window.stores.serpReducer,{countryIp:window.ct,rv:window.rv,rq:window.rq,kurl:window.kurl,rqd:window.rqd,sfq:window.sfq,dateRange:e.search.getDateFilterRange(),query:e.get_query(),isSafeDDG:window.safe_ddg,unsafeSearch:this.unsafeSearch,dataById:{},messageDataByType:{safeSearch:this.unsafeSearch?{}:null,siteFilterEnabled:window.rq&&-1!==window.rq.indexOf("site%3A")?e.search.getSiteQuery(window.sfq):null,spelling:null,siteFilterHint:null},recommendedLayouts:[],isAdultQuery:!!window.iqa,isNavigationalSearch:null,altIsNavigational:null,wikipediaExactMatch:null,timeFirstDeepRequestSuccess:null,pageLoadTime:Date.now(),deepRequest:{is506:null,bn:null,isLoading:!1,error:null},nextDeepUrl:null,nSuccessfulDeepRequests:0,hasExpandedPreloadedResults:!1,activeTabId:e.history&&e.history.get("ia")||null,hasPendingDuckbarOperations:!1,disinfoExpVariant:null,mapkitRef:null,userLocationByType:this._getUserLocationByType(),instantAnswersVerticalLinks:{}}),[window.stores.createReportIaFailuresMiddleware({pixel:DDG.pixel,searchExperiments:window.Bootstrap.searchExperiments,device:DDG.device}),window.stores.createDataFetchingMiddleware({preloadData:window.__preloadData__,head:document.head,supportsModule:!!window.supportsModule,searchExperiments:window.Bootstrap.searchExperiments,answers:DDG.Data.answers,pixel:DDG.pixel,device:DDG.device,manuallyLoadModuleData:function(t,i){e.pageLayout.emit("getModuleData",{module:t,signal:i})},loadTabModelData:DDG.duckbar.loadTabModelData.bind(DDG.duckbar),importMapkit:e.Utils&&e.Utils.ReactLegacyProps?e.Utils.ReactLegacyProps.importMapkit:null,settings:DDG.settings})].concat(e.isDev&&e.history&&"redux"===e.history.get("log")?window.stores.createLoggerMiddleware():[]));window.utils.registerESMConfigs(e.Data.answers),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&e.userLocator&&e.userLocator.on("reactSyncUserLocation",function(t,i){if(t&&(t.type===e.Models.UserLocation.PRECISE_LOCATION||t.type===e.Models.UserLocation.MANUAL_LOCATION)){var s=null!=t.lat&&null!=t.lon?{type:t.type===e.Models.UserLocation.PRECISE_LOCATION?"precise":"manual",latitude:t.lat,longitude:t.lon,timeAdded:t.timestamp||Date.now(),description:t.desc,regionData:i}:null;s&&"manual"===s.type?this.serpStore.dispatch(window.stores.createUpdateUserLocationAction("manual",s)):s&&"precise"===s.type&&window.utils.getObfuscatedUserLocation&&this.serpStore.dispatch(window.stores.createUpdateUserLocationAction("precise",s,window.utils.getObfuscatedUserLocation(s)))}}.bind(this)),window.serpStoreDispatchQueue.forEach((function(e){window.stores[e.actionCreatorFnName]&&o.dispatch(window.stores[e.actionCreatorFnName].apply(null,e.params))})),window.serpStoreDispatchQueue=[],this.serpStore=window.serpStore=o,this.reactRenderedDataRef=window.reactRenderedDataRef={current:null};var n=e.Data.answers.getStaticIAs().reduce((function(t,i){var s=i.nameId||i.name?e.duckbar.getNameId(i.name):i.id;return t[s]=i.id||!0,i.id&&i.id!==s&&(t[i.id]=i.id),t}),{}),r=e.Data.HiddenFields.DATE_FILTER,l=e.search.isCustomDateFilter()?e.search.getDateRange():e.hidden.get(r),d={dateFormatter:DDG.Utils.ParseDate.getFormattedDate.bind(DDG.Utils.ParseDate),initialDateFilterValue:l,onDateChange:function(t){var i=e.Data.HiddenFields.DATE_FILTER,s=function(e){var t=function(e){return("0"+e.toString()).slice(-2)},i=t(e.getMonth()+1),s=t(e.getDate());return e.getFullYear()+"-"+i+"-"+s};if(t){var a=t;2===t.length&&(a=s(t[0])+".."+s(t[1])),e.hidden.set(i,a),e.search.set("dateFilterId",a)}else e.hidden.clear(i),e.search.set("dateFilterId",t);e.search.requery()},onRegionChange:function(){e.search.requery()},onSafeSearchChange:function(){e.search.requery()},verticalTabIds:n,updateQuery:function(e){DDG.page&&DDG.page.searchbar&&DDG.page.searchbar.updateQuery(e)},requery:function(){e.search.requery()},reactRenderedDataRef:this.reactRenderedDataRef,onPlaceholderTimeout:function(t,i){if(!e.duckbar.hasOpenedAtLeastOnce&&t===i.current.activePoleId){var s=i.current.extras.find((function(e){return"wikinlp"!==e.id&&e.id!==t&&window.utils.isReady(e)}));s&&e.duckbar.reactOpen(s.id,"extra-fallback")}},open:e.duckbar.reactOpen.bind(e.duckbar),onRender:function(t,i,s){if(window.utils.getItemsNeedingTabLabels(i).filter(window.utils.isReady).forEach((function(t){e.duckbar.reactAddTab(t)})),t>=1){if(e.deep.finished||(e.deep.set("finished",Date.now()),this._fireL2()),t>this._adsRendered.page){this._adsRendered.page=t;var a={page:t},n=i.pole?[i.pole]:[];["mainline","sidebar"].forEach((function(e){var t="displayed"+e.charAt(0).toUpperCase()+e.slice(1),s="mainline"===e?n.concat(i[t]):i[t]||[];Object.keys(this._adsRendered[e]).forEach((function(t){var i,o=s.filter((function(e){return e.type===t}),this);i="ad"===t?o.length:o.reduce((function(e,t){return t.nItems?e+t.nItems:e}),0),a[e+"_"+t]=i-this._adsRendered[e][t],this._adsRendered[e][t]=i}),this)}),this),e.pixel.fire("adsummary",a)}if(s.isOutOfResults&&(e.deep.set("isOutOfResults",!0),e.deep.set("isLastResult",!0)),!this._hasSentDeviationsAndIaui){clearInterval(this._layoutReadyIntervalId);var r=function(){var e=o.getSnapshot();return window.utils.isLayoutReady(e.dataById,e.nSuccessfulDeepRequests,window.nNrjIaRequests,{strict:!0})};r()?(DDG.deep.isBingV7()&&e.pageLayout.sendDeviations(i,o.getSnapshot().dataById,window.utils.getLayoutStatsPixelParams(i,i.layoutShifts,o.getSnapshot().dataById,{isMobile:e.device.isMobile,searchExperiments:window.Bootstrap.searchExperiments})),this._fireIaui(),this._hasSentDeviationsAndIaui=!0):this._layoutReadyIntervalId=setInterval(function(){r()&&(clearInterval(this._layoutReadyIntervalId),DDG.deep.isBingV7()&&e.pageLayout.sendDeviations(this.reactRenderedDataRef.current,o.getSnapshot().dataById,window.utils.getLayoutStatsPixelParams(this.reactRenderedDataRef.current,this.reactRenderedDataRef.current.layoutShifts,o.getSnapshot().dataById,{isMobile:e.device.isMobile,searchExperiments:window.Bootstrap.searchExperiments})),this._fireIaui(),this._hasSentDeviationsAndIaui=!0)}.bind(this),100)}}}.bind(this),onAdsRendered:function(t){e.deep.sendAdImpressions(t),e.pageLayout.sendAdImpressions(t,"web",e.deep.pageNumber)},onNext:function(t,i){(t||i)&&(o.dispatch(window.stores.createDeepStartAction({isNextRequest:!0,expandInsteadOfFetch:i})),i?e.deep.pageNumberIncrement():nrj(t,1,void 0,void 0,(function(t,i){i&&i.isAnomalyDetectionRequest||(t?o.dispatch(window.stores.createDeepErrorAction(t)):(e.deep.pageNumberIncrement(),o.dispatch(window.stores.createDeepSuccessAction(i,{timeResponse:i.timeResponse,deepReqId:i.deepReqId,isFirstDeepRequest:!1,answers:e.Data.answers,searchExperiments:window.Bootstrap.searchExperiments}))))})))},createDdgViewAdBadgeCreator:function(e){return function(t){return new DDG.Views.AdBadge({tooltipId:e,appendTo:$(t)})}},createDdgViewFeedbackReportAdsButtonCreator:function(e){return function(t){return new DDG.Views.Feedback.ReportAdsButton({appendTo:$(t),ad:e})}}};this._reactDOMRoot=document.createElement("div"),document.getElementById("react-layout").appendChild(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot),this.directionsCache=window.utils.createDirectionsCache(),this.localCache=window.utils.createLocalCache(),this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{settings:DDG.settings,device:DDG.device,extension:e.extension,history:e.history,opensearch:e.opensearch,deep:DDG.deep,backData:DDG.backData,pixel:DDG.pixel,searchExperiments:DDG.searchExperiments,searchBar:DDG.page&&DDG.page.searchbar,openTypeState:e.duckbar.openTypeState,localCache:this.localCache,ReactLegacyProps:e.Utils.ReactLegacyProps},window.React.createElement(window.components.ThemeProvider,{},window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:e.reactSerpTokens},window.React.createElement(window.contexts.KeyboardNavProvider,{isEnabled:function(){return DDG.duckbar&&DDG.duckbar.areOrganicsShowing}},window.React.createElement(window.contexts.SerpStoreContext.Provider,{value:o},window.React.createElement(window.components.App,{verticalTabIds:n,serpWebVerticalContentProps:d,directionsCache:this.directionsCache,localCache:this.localCache,browserUpdateDomRoot:document.getElementById("react-browser-update-info"),duckbarDomRoot:document.getElementById("react-duckbar"),shfl:window.shfl}))))))),e.$html.addClass("react"),e.page.canShowSerpUxExp()||e.$html.removeClass(s.join(" ")),this.keyboard.enableSERPShortcuts=1;var c={current:null};this.initHeader(c),this.initSERPMessages(),this._handleDeepError(),this.initFooter(),this._showEuAndroidWelcomeMessage&&this.initEuAndroidWelcomeMessage();for(var h,p=$(".js-lazyload-favicon"),u=0;h=p[u];u++)e.ImageLoader.register(h,e.services.getURL("icons")+h.getAttribute("data-src"),"scrollY");if(e.duckbar.onReady(),e.device.isDesktop?this._appendSerpBadgeDesktop(c):e.device.isMobileDevice&&!e.device.isMobileSafari&&this._appendSerpBannerMobile(),this.views.atb||this.views.newsletter||this.views.survey||!e.survey.shouldShowBadge()||(this.views.survey=new e.Views.SurveyBadge({appendTo:".js-site-wrapper"}),this.views.survey.show(),$("body").on("click.atb",function(){this.views.survey&&this.views.survey.hide(),$("body").off("click.atb")}.bind(this))),this.fireStat("si"),window.utils&&window.utils.getSerpRetentionSurveyData&&window.utils.deleteSerpRetentionSurveyData&&window.utils.canResubmitSerpRetentionSurvey&&window.utils.canResubmitSerpRetentionSurvey(e.extension,e.opensearch)){var m=window.utils.getSerpRetentionSurveyData();e.pixel.fire("serp_retention_survey_resubmit",m.answers),window.utils.deleteSerpRetentionSurveyData()}if(e.opensearch&&e.opensearch.installed&&"l"===e.opensearch.installed.variant&&"s"===e.opensearch.installed.atbVariant&&e.extension&&e.extension.isInstalled()){var _=e.opensearch.getDaysSinceCohort(e.opensearch.installed.version);if(_>=13&&_<=20){var f;try{f=window.localStorage.getItem("hasExtension")}catch(g){}if(null!=f&&f===e.opensearch.installed.version)try{window.localStorage.removeItem("hasExtension"),e.pixel.fire("localstoragelifespan",{day:_})}catch(g){}}}},destroy:function(){this._reactRoot&&(this._reactRoot.unmount(),this._reactRoot=null),this._reactDOMRoot&&(this._reactDOMRoot.remove(),this._reactDOMRoot=null),t.prototype.destroy.call(this)},showMessage:function(t,i){("spelling"!==t||(e.search.spelling||(e.search.spelling=new e.Models.Search.Spelling(i)),e.search.spelling.isValidType()))&&window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createAddMessageAction",params:[t,i||{}]})},initHeader:function(t){e.settings.isDefault("ko")&&e.device.hasFixedHeaderSupport&&(this.views.header=new e.Views.Header({$el:$(".js-header-wrap"),model:new e.Models.Header,hideSettingsIcon:e.addToBrowser.canShowOpenInAppButton(),atbPopoverRef:t}));var i={};e.history.get("atb")&&(i.atb=e.history.get("atb"),this._updateLogoParams({atb:e.history.get("atb")})),e.tParam.hasValue()&&e.tParam.fromHomepage()&&e.opensearch.variant!==e.tParam.DEFAULT_VARIANT&&(i.va=e.opensearch.variant),this._updateLogoParams(i),e.addToBrowser.canShowOpenInAppButton()&&(this.views.openInApp=new e.Views.OpenInApp({after:$(".js-header-logo"),model:new e.Models.OpenInApp({history:e.history,settings:e.settings,tParam:e.tParam})}),$(".js-header-wrap").addClass("header-wrap--app"))},initFooter:function(){e.footer=new e.Models.Footer,this.views.footer=new e.Views.Footer({model:e.footer,after:$(".js-site-wrapper")})},initSERPMessages:function(){this.views.messages||(this.views.messages={showMessage:this.showMessage.bind(this)})},initEuAndroidWelcomeMessage:function(){this.views.welcomeMessage=new e.Views.WelcomeMessage({appendTo:".js-welcome-wrap",type:"euandroid"})},_showFooter:function(){!e.settings.isDefault("kav")&&e.deep.isOutOfResults&&e.footer.set("visible",!0)},_onDeepStarted:function(){e.settings.updater&&e.settings.updater.loadFonts()},_onDeepInitialized:function(){var t={};w.sourceTag&&(t.st=w.sourceTag),w.df&&(t.df=w.df),"web"!==e.duckbar.activeTabId&&(t.iao=1);var i=e.settings.region,s=!i.getPrevId()&&i.getId()===i.getDefaultId();s&&(t.nr=s?1:0),e.settings.isDefault("kz")||(t.nia=1),e.settings.isDefault("kae")||(t.kae=e.settings.get("kae")),"d"===e.settings.get("kae")&&(t.dt=1),t.rl=rl,t.dl=dl,t.ck=d.cookie&&""!==d.cookie?1:0,e.abc&&(t.abc=e.abc),e.pixel.fire("l",e.device.pixelId,e.settings.region.hasRegion()?"re":"wt",$.extend({},t,{atbi:this.canShowAddToBrowser(),i:this.isInstalled()}))},_handleDeepError:function(){if(e.deep.is506){var t=document.getElementById("links");!t||t.textContent||this.views.noResults||e.deep.hideNoResults||(this.views.noResults=new e.Views.NoResults({appendTo:$("#links").removeClass("is-invisible")})),$(".js-results-loading").remove()}},_onDeepChange:function(){this._showFeedbackBtn(),e.ImageLoader.registerAll($(".js-lazyload-icons"),"scrollY"),$(".js-results,.js-results-ads,.js-sidebar-ads").removeClass("is-invisible"),e.deep.upstreamFailed&&this.views&&this.views.atb&&this.views.atb.hide()},_fireL2:function(){var t={osl:DDG.search.hasOrganicSiteLinks?1:0};t.u=e.search.src,this.ads.hasAds()&&(t.adx=this.ads.adx),this.ads.adxExperiment&&(t.adx_name=this.ads.adxExperiment),t.rc=e.deep.getResultCount();var i=e.Data.languages.resultLanguages,s=e.Data.languages.adLanguages,a=[],o=[];for(var n in i)a.push(n+":"+i[n].length);for(var r in s)o.push(r+":"+s[r]);e.Data.languages.resultLanguagesPixelData=t.oll=a.join(","),o.length&&(e.Data.languages.adLanguagesPixelData=t.adll=o.join(",")),e.pixel.fire("l2",e.device.pixelId,e.settings.region.hasRegion()?"re":"wt",t)},_fireIaui:function(){var t=e.page&&e.page.reactRenderedDataRef&&e.page.reactRenderedDataRef.current;if(t&&e.search.deepAnswerIAs&&Object.keys(e.search.deepAnswerIAs).length){var i=t.pole||(t.mainline||[])[0]||null,s=(t.pole?[t.pole]:[]).concat(t.displayedMainline||[],t.displayedSidebar||[],t.extras||[]).reduce((function(e,t){return t&&t.type&&"ad"!==t.type&&"organic"!==t.type&&(e[t.type]=!0),e}),{}),a=Object.keys(e.search.deepAnswerIAs).reduce((function(t,i){var s=e.search.deepAnswerIAs[i];s&&s.split(",").forEach((function(e){if("string"==typeof e){var i=e.trim();i&&(t[i]=!0)}}));return t}),{}),o=Object.keys(a).reduce((function(e,t){return s[t]||e.push(t),e}),[]),n={};if(o.length&&(n.missing=encodeURIComponent(o.join(",")),n.shown=encodeURIComponent(Object.keys(s).join(","))),i&&"ad"!==i.type&&"organic"!==i.type){var r=i.getPixelId?i.getPixelId({searchExperiments:window.Bootstrap.searchExperiments}):i.type;n.oi=encodeURIComponent(r)}e.search.spelling&&(n.sp=1),e.pixel.fire("iaui",Object.assign(n,e.search.deepAnswerIAs))}},_onDeepCompleted:function(){e.perf.reportPerformance({page:this.pageType,timerName:"deepFinished",resourceName:"/d.js"})},_showFeedbackBtn:function(){!this.views.feedback&&e.device.isDesktop&&(this.views.feedback=new e.Views.Feedback.Button({appendTo:".js-feedback-btn-wrap",clickPixel:!1}))},_onScroll:function(t){if(this.onboardingTest.animateModalIllustration&&e.tParam.fromHomepage()&&this.canShowAddToBrowser()&&!e.device.isMobileDevice&&!this.views.atb.dismissed){var i=e.device.height/2;this.views.atb.animated&&e.device.scrollTop()>i?this.views.atb.unAnimate():!1===this.views.atb.animated&&e.device.scrollTop()<i&&this.views.atb.animate()}},_onPageShow:function(t){t&&t.persisted&&this._checkForForceReload(function(t){t||(e.pixel.refire(),this._disableThemeNotification(),e.settings.setFromCookie(),this._enableThemeNotification())}.bind(this))},_appendSerpBadgeDesktop:function(t){var i=e.searchExperiments.getActiveVariant("pctaexp"),s=e.addToBrowser.canShowOnDesktopSerp();if(e.serpPromotions.isActive("extensionAtbBadge")){var a={impressionPixel:s?"atbsi":null,clickPixel:"atbsc",xPixel:"atbsx",topRight:!0,serp:!0,entryPoint:"sr",appendTo:".js-site-wrapper",hideOnClick:!0,isEnglish:e.device.isEnglish,pctaexpVariant:i,isPctaexpTreatment:"b"===i};t.current=this.views.atb=new e.Views.AddToBrowserBadge(a),s||t.current.hide(),s&&$("body").on("click.atb",function(){this.views.atb.hide(),$("body").off("click.atb")}.bind(this))}else e.serpPromotions.isActive("newsletterBadge")&&(this.views.newsletter=new e.Views.SubscribeToNewsletterBadge({appendTo:".js-site-wrapper",serp:!0}),this.views.newsletter.show(),$("body").on("click.atb",function(){this.views.newsletter&&this.views.newsletter.hide(),$("body").off("click.atb")}.bind(this)),e.pixel.fire("nli",e.newsletter.group,"serp"))},_updateLogoParams:function(e){var t=$(".js-header-logo"),i=t&&t.length&&t.attr("href");i&&(e&&Object.keys(e).length&&(i+=i.match(/\?/)?"&":"?",i+=$.param(e)),t.attr("href",i))},_updateLogoHostname:function(e){var t,i=$(".js-header-logo"),s=i&&i.length&&i.attr("href");s&&e&&((t=s.startsWith("/")?new URL(s,window.location.origin):new URL(s)).hostname=e,i.attr("href",t.toString()))},_appendSerpBannerMobile:function(){"chat"!==e.duckbar.activeTabId&&(e.addToBrowser.canShowOnMobileSerp()||e.addToBrowser.canShowTryAppBanner())&&(this.views.atb=new e.Views.AddToBrowserBanner({impressionPixel:"atbsi",clickPixel:"atbsc",xPixel:"atbsx",template:"add_to_browser_button_serp",serp:!0,entryPoint:"sr",appendTo:".js-site-wrapper",hideOnScrollUp:!e.tParam.fromHomepage()}),$("body").on("click.atb",function(){this.views.atb.hide(),$("body").off("click.atb")}.bind(this)))},_addDeepSeparator:function(){new e.Views.Verticals.VerticalSeparator({appendTo:$(".js-results"),pageNumber:e.deep.pageNumber})},_onSettingsChange:function(){e.page.canShowSerpUxExp()?(e.$html.addClass(s.join(" ")),e.settings.isDefault("kaf")||e.$html.removeClass("is-link-breadcrumb-exp"),e.settings.isDefault("kai")||e.$html.removeClass("is-link-order-exp")):e.$html.removeClass(s.join(" "))},_getUserLocationByType:function(){var t={};if("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&window.utils&&window.utils.getStoredPreciseUserLocation&&e.settings&&!e.settings.isDefault(e.settings.LOCATION_SETTING_KEY)){var i;try{i=window.utils.getStoredPreciseUserLocation()}catch(s){}i&&("precise"===i.type?(t.precise=i,window.utils.getObfuscatedUserLocation&&(t.obfuscatedPrecise=window.utils.getObfuscatedUserLocation(i))):"manual"===i.type&&(t.manual=i))}return t}})}(DDG),function(e){var t,i=e.Models.Base,s={videos:412,images:294},a={images:"Images",videos:"Videos"},o=e.Utils.Cache.Called;function n(t){if(!t.Result||!t.Text)return!0;var i=e.parse_link(t.Result,"text");return!(!i||i!==t.Text)}e.Models.Answer=t=function(t){i.call(this,t),this.layoutContext=null,this.vqd||(this.vqd=window.vqd),this.templates=new e.Models.AnswerTemplates(t.templates),this.meta=new e.Models.AnswerMeta($.extend(t.meta||{},{options:this.templates.options,elClass:this.templates.elClass})),this.name=this.name||this.duckbar_topic||this.topic||"Answer","qa"===this.name&&(this.name="Q/A"),this.nameId=e.duckbar.getNameId(this.name),this.id=this.id||this.nameId,this.pixelId=this.pixel_id||this.pixelId||this.meta.id||this.from||this.id,this.pixelId=this.pixelId.toLowerCase(),this.type=this.type||"new";var s=e.stem(this.name),a=new RegExp("\\b("+this.name+"|"+s+")\\b","i"),o=decodeURIComponentSafe(this.queryEncoded),n=o.match(a),r=new RegExp("^("+s+"s? (for|of)|"+s+"(s)?\\b(?! (for|of)))","i");this.query=o.replace(a,""),this.displayQuery=rqd.replace(r,""),this.queryMatch=n&&n.length,this.signal=this.signal||"low","A"!==this.rt&&"C"!==this.rt&&"D"!==this.rt&&this.queryMatch&&(this.signal="high"),"high"!==this.signal&&"medium"!==this.signal&&(this.signal="low"),"static"===this.type&&(this.signal="low"),e.duckpan&&(this.signal="high"),this.items=[],this.itemsById={},this.itemsOnMap=[],this.topics=[],this.topicsById={},this.canExpand=!0,this.expanded=!1,t.parameters&&(this.parameters=t.parameters.map((function(t){return new e.Models.AnswerSelectLists.Parameter(t)}))),t.sources&&(this.sources=new e.Models.AnswerSelectLists.Source({values:t.sources,parameters:this.parameters})),this.pageNo=0},t.prototype=$.extend({},i.prototype,{setLayoutContext:function(e){this.set("layoutContext",e)},addItems:function(t,i){i=i||{},this.pageNo++,i&&i.keepServiceURL||this.set("serviceURL"),this.set("isLoading"),!t||$.isEmptyObject(t)?t=[]:$.isArray(t)||(t=[t]);var s=this.answerItemModel||this.model||"Base",o=this.meta.idField,r=this.meta.topicField||"answerItemTopic",l=0,d=0;s&&s.allowModuleIA&&a[s.id]&&(s=a[s.id]),e.Models.AnswerItems[s]||(s="Base"),"FatheadListItem"===s&&(t=function(e,t){if(!e||!e.length||!e[0].RelatedTopics)return e;for(var i,s,a,o=[],r=t.name.toLowerCase(),l=e[0].RelatedTopics,d=0;d<l.length;d++)if((i=l[d]).Name)for(var c=0;c<i.Topics.length;c++)(s=i.Topics[c]).answerItemTopic=i.Name,n(s)||o.push(s);else"list"===r?(a&&a===i.Text.charAt(0)||(a=i.Text.charAt(0)),i.answerItemTopic=a,t.meta.hideTopicCount=1):i.answerItemTopic="Top",n(i)||o.push(i);return o}(t,this));for(var c=0;c<t.length;c++){var h=new e.Models.AnswerItems[s]($.extend({templates:this.templates,parentId:this.id,answerMeta:this.meta,idField:o,pageNo:this.pageNo,minimizeHeight:!this.isSideModule,fromDeep:i.fromDeep},t[c]));if(!this.itemsById[h.id]&&(this.items.push(h),this.itemsById[h.id]=h,i.pixelated&&(h.pixelated=!0),h.on("change:selected",this._onItemSelectedChanged.bind(this,h)),h.on("change:highlighted",this._onItemHighlightedChanged.bind(this,h)),++l,r&&h[r])){var p=h[r],u=this.topicsById[p];u||(u=new e.Models.AnswerItemTopic({id:p,name:p,hideCount:this.meta.hideTopicCount}),this.topics.push(u),this.topicsById[u.id]=u,++d,this.bindEvents([[u,"change:selected",this._onTopicSelectedChanged.bind(this,u)],[u,"change:highlighted",this._onTopicHighlightedChanged.bind(this,u)],[u,"change:engaged",this.engaged.bind(this)]])),h.set("topic",u),u.addItem(h)}}if(this.verticalCanHaveAds&&i.ads&&(this.ads=i.ads),this.itemsOnMap=e.geo.sort(this.items.slice()),this.selectedItemIdRequery){this.isSingle=1===this.items.length;for(var m=0;m<this.items.length;m++)if(this.items[m].itemId===this.selectedItemIdRequery){this.items[m].select();break}this.set("selectedItemIdRequery")}d&&this._emitChange("topics"),l?this._emitChange("items"):this.items.length?t.length?this._emitChange("items"):this.emit("no-results"):this.set("failed",!0),this.isFullPage||this._updateCanExpand()},canLoadMore:function(){return!this.isLoading&&this.meta.next},canLoadOnScroll:function(){return this.expanded&&this.canLoadMore()&&this.supportsInfiniteScroll&&e.settings.isDefault("kc")},loadMore:function(){if(this.canLoadMore()){this.set("isLoading",!0);var t=this.meta.next;if(t.match(/vqd=/)?t=t.replace(/(&vqd\=)[^\&]+/,"$1"+this.vqd):t+="&vqd="+this.vqd,this.meta.loadedNext(),t.match(/(?:&|\?)cb=([^&?]+)/i))return nrj(t);e.searchExperiments.hasActiveExperiments()&&(t=e.searchExperiments.addExperimentParameters(t)),this.extraLoadRequestParameters&&(t+=this.extraLoadRequestParameters()),$.ajax({url:t,dataType:"json",success:this._onLoadedMore.bind(this),error:this._onLoadError.bind(this)})}},canShowSnippet:function(){return this.items&&1===this.items.length&&!!e.getProperty(this,"items.0.snippetInfoMap."+this.infoSelector)},usePageQuery:function(e){return e+this.queryEncoded+"&vqd="+this.vqd},load:function(t,i){if(!(this.isLoading||!this.serviceURL||o.nrj[this.id]&&"i"===this.openType)){if(this._shouldBlockAdultResults())return this._onLoad({results:[]});var s;this.set("isLoading",1),s="function"==typeof this.serviceURL?this.serviceURL(this):this.serviceURL,s=this.usePageQuery(s),this.sources&&(s+="&"+this.sources.getParameterQueryString()),this.safeSearch&&(s+=this._getSafeSearchURLParam()),this.date&&(s+="&df="+e.search.dateFilterId),e.searchExperiments.hasActiveExperiments()&&(s=e.searchExperiments.addExperimentParameters(s)),this.extraLoadRequestParameters&&(s+=this.extraLoadRequestParameters()),"news"===this.id&&this.manuallyLoaded&&(s+="&nml=1"),"function"==typeof this.serviceUpstream&&(s+="&u="+this.serviceUpstream()),"products"===this.id&&this.bing&&(s="https:"+e.services.getLinksURL(s)),o.loaded[this.id]=1,e.Utils.Cache[s]?this._onLoad(e.Utils.Cache[s]):$.ajax({type:"GET",url:s,dataType:"json",async:!0,timeout:t||0,success:function(t){e.Utils.Cache[s]=t,"function"==typeof i&&i(null,t),this._onLoad(t)}.bind(this),error:function(e,t,s){"function"==typeof i&&i({jqXHR:e,textStatus:t,errorThrown:s}),this._onLoadError.call(this,e,t,s)}.bind(this)})}},indexOfSelectedItem:function(){if(this.selectedItem)return $.isNumeric(this._selectedItemIdx)?this._selectedItemIdx:this._selectedItemIdx=this.items.indexOf(this.selectedItem)},indexOfHighlightedItem:function(){if(this.highlightedItem)return $.isNumeric(this._highlightedItemIdx)?this._highlightedItemIdx:this._highlightedItemIdx=this.items.indexOf(this.highlightedItem)},getNextItem:function(){var e=this.indexOfSelectedItem();return $.isNumeric(e)&&this.items[e+1]},getPrevItem:function(){var e=this.indexOfSelectedItem();return $.isNumeric(e)&&this.items[e-1]},selectNextItem:function(){var t=this.getNextItem();return(t&&t.hidden&&e.device.isMobile||t&&!t.hidden)&&t.select()},selectPrevItem:function(){var e=this.getPrevItem();return e&&e.select()},getNextHighlightedItem:function(){var e=this.indexOfHighlightedItem();return $.isNumeric(e)&&this.items[e+1]},getPrevHighlightedItem:function(){var e=this.indexOfHighlightedItem();return $.isNumeric(e)&&this.items[e-1]},highlightNextItem:function(){var e=this.getNextHighlightedItem();return e&&e.highlight()},highlightPrevItem:function(){var e=this.getPrevHighlightedItem();return e&&e.highlight()},getQuerystringItemId:function(e){return e.idField?e.id:this.items.indexOf(e)},getDetailHeight:function(){var t=this.meta.options||{},i=t.detailHeight||s[this.id]||412,a=t.detailHeightShort||312,o=e.device.height-300-2*(this.tileMarginBottom||0);return s[this.id]?Math.max(o,s[this.id]):e.device.isTeapot()?a:i},getPixelData:function(t,i){var s={ss:e.page&&e.page.reactRenderedDataRef&&e.page.reactRenderedDataRef.current&&e.page.reactRenderedDataRef.current.showSafeSearchMessage?1:0,sp:e.search.spelling?1:0,im:this.isModule?1:0,ism:this.isSideModule?1:0,px:this.proximity?1:0,ul:e.userLocator.hasLocation()?e.userLocator.userLocation.type[0]:0};if(this.headerType&&(s.ht=this.headerType),this.local_source&&(s.lsrc=this.local_source,"exact_match"!==this.local_source&&"fallback"!==this.local_source||(s.di=this.distance,s.bs=this.biz_score,s.cs=this.cat_score,s.hs=this.chain_score,s.de=this.delta,s.ml=this.matches_location,s.rc=this.review_count,s.tc=this.trigger_count,this.wiki_entity&&(s.we=this.wiki_entity))),this.places_filtered&&(s.pf=this.places_filtered),this.profileLinks&&(s.pl=this.profileLinks),"about"===this.id){var a=e.getProperty(this,"data.Heading");a&&(s.wt=a),s.ibv=(e.getProperty(this,"items.0.infobox.items")||[]).length>0||this.hasInfoBox?1:0}if(e.page&&e.page.ads&&e.page.ads.hasAds()&&(s.adc=e.page.ads.getNumberOfTopAds()),this.hasAdStats&&(s.prod_mult=this.items&&this.items.length>1?1:0,s.u=this.meta.sourceName,this.gridColumns&&(s.pgcd=this.gridColumns+","+(e.getProperty(this,"meta.layout.columns")||0)+","+(this.items?this.items.length:0))),"yelp"===this.sourceId?s.lsrcid="ylp":"tripadvisor"===this.sourceId&&(s.lsrcid="ta"),this.inVertical&&this.includeVerticalInOpenPixel&&this.includeVerticalInOpenPixel[this.inVertical]&&(s["in-vertical"]=this.inVertical),this.data&&this.data.length>0)for(var o=0;o<this.data.length;o++)if(this.data[o].dataProviders&&this.data[o].dataProviders.hours){if("tripadvisor"==this.data[o].dataProviders.hours){s.hrs="ta";break}if("foursquare"==this.data[o].dataProviders.hours){s.hrs="fs";break}if("ddg"==this.data[o].dataProviders.hours){s.hrs="ddg";break}}return s},fire:function(t,i){i=Object.assign({id:this.id},i);var s=null;window.serpStore&&window.serpStore.getSnapshot&&(s=window.serpStore.getSnapshot().dataById[this.id]),Object.assign(i,this.getPixelData(s&&s.data?s.data.data:void 0,{searchExperiments:window.Bootstrap.searchExperiments,settings:e.settings,pixelKey:t})),i.fot=e.duckbar&&e.duckbar.openTypeState&&e.duckbar.openTypeState.byId&&e.duckbar.openTypeState.byId[this.id]&&e.duckbar.openTypeState.byId[this.id].first||"i",i.lot=e.duckbar&&e.duckbar.openTypeState&&e.duckbar.openTypeState.byId&&e.duckbar.openTypeState.byId[this.id]&&e.duckbar.openTypeState.byId[this.id].last||"i",window.utils&&window.utils.getLayoutContextPixelParams&&Object.assign(i,window.utils.getLayoutContextPixelParams(this.layoutContext)),e.pixel.fire(t,this.pixelId,this.openType,i)},engaged:function(e){this.fire("iae",e)},clickedExternalLink:function(t){var i=e.duckbar&&e.duckbar.openTypeState&&e.duckbar.openTypeState.byId&&e.duckbar.openTypeState.byId[this.id]&&e.duckbar.openTypeState.byId[this.id].last||"i";e.backData.set(this.pixelId,{ot:i,sexp:DDG.searchExperiments.getActiveAssignments(),timeExternalLinkClicked:Date.now()}),this.fire("iag",t)},updateModulePosition:function(t,i){var s=[this,t],a=e.Models.ModulesPositions.SIDE;s.forEach((function(e){var t={isSideModule:i===a,position:i};e.set?e.set(t):$.extend(e,t)}))},_addResponseToAnswer:function(e){this._updateMetaFromResponse(e),this._addItemsFromResponse(e)},_updateMetaFromResponse:function(t){t&&($.isEmptyObject(t)||this.meta.update({next:t.next,searchTerm:t.searchTerm,responseType:t.responseType,requery:t.requery||t.query,query:t.query,sourceUrl:t.url,geoip:t.geoip,response_type:t.response_type}),"images"!==this.id||t.next||e.footer&&e.footer.set("visible",!0))},_addItemsFromResponse:function(e){e&&(e.isEmptyResponse?this.set("failed",!0):this.addItems(e.results||e,{ads:e.ads}))},_updateCanExpand:function(){var t;t=e.device.isMobile?!this.meta.disableMobileGrid:!(this.meta.disableModeSwitch||this.meta.itemsExpand||this.meta.itemsWidthVaries)&&!!(this.items.length>=(this.meta.minItemsForModeSwitch||12)||this.canLoadMore()),this.set("canExpand",t)},_shouldBlockAdultResults:function(){return("images"===this.id||"videos"===this.id)&&e.search.isAdultQuery&&e.settings.safeSearch.isStrict()},_getSafeSearchURLParam:function(){var t;return t="news"===this.id||"videos"===this.id?e.settings.get("kp"):e.settings.safeSearch.isOff()?-1:1,"f"===this.openType&&(t=1),"&p="+t},requery:function(t){if(this.sources){if(this.set("isRequerying",1),this.hasRequeried=!0,this.meta.reset(),t&&t.query&&this.meta.update({query:t.query}),this.selectedItem&&this.selectedItem.unselect(),this._shouldBlockAdultResults())return this._onRequery({results:[]});this.failed&&this.set("failed");var i=this.sources.getRequeryURL(t);this.safeSearch&&(i+=this._getSafeSearchURLParam()),this.date&&(i+="&df="+e.search.dateFilterId),e.searchExperiments.hasActiveExperiments()&&(i=e.searchExperiments.addExperimentParameters(i)),$.ajax({type:"GET",url:i,dataType:"json",async:!0,success:this._onRequery.bind(this),error:this._onLoadError.bind(this)})}},_onLoad:function(e){this.set("isLoading"),this.serviceURL&&(this.set("serviceURL"),this._addResponseToAnswer(e))},_onRequery:function(e){this.set("isRequerying"),this.set("selectedItem"),this.items.forEach((function(e){e.removeAllListeners()})),this.items=[],this.itemsById={},this.itemsOnMap=[],this._addResponseToAnswer(e),["maps_maps","maps_places","maps_expanded"].indexOf(this.id)<0&&this.set("expanded",1),this.set("isSearchingMapArea",this.isSearchMapAreaPending&&this.items.length>1),this.set("isSearchMapAreaPending",!1),this.emit("requery-complete")},_onLoadedMore:function(e){this.set("isLoading"),this._addResponseToAnswer(e);var t={l:e.results.length,p:this.pageNo};this.fire("lm",t)},_onLoadError:function(){this.set("isLoading"),this.set("isRequerying"),this.items.length||this.set("failed",1)},_onItemSelectedChanged:function(e){delete this._selectedItemIdx,e&&e.selected?(this.highlightedItem&&this.highlightedItem.unhighlight(),this.selectedItem&&e!==this.selectedItem&&(this._pendingSelectedItem=e,this.selectedItem.unselect()),this.set("selectedItem",e)):this._pendingSelectedItem?delete this._pendingSelectedItem:this.set("selectedItem")},_onItemHighlightedChanged:function(e){delete this._highlightedItemIdx,e&&e.highlighted?(this.highlightedItem&&e!==this.highlightedItem&&(this._pendingHighlightedItem=e,this.highlightedItem.unhighlight()),this.set("highlightedItem",e)):this._pendingHighlightedItem?delete this._pendingHighlightedItem:this.set("highlightedItem")},_onTopicSelectedChanged:function(e){e&&e.selected?(this.selectedTopic&&e!==this.selectedTopic&&this.selectedTopic.unselect(),this.set("selectedTopic",e)):e!==this.selectedTopic||e.selected||this.set("selectedTopic")},_onTopicHighlightedChanged:function(e){e&&e.highlighted?(this.highlightedTopic&&e!==this.highlightedTopic&&this.highlightedTopic.unhighlight(),this.set("highlightedTopic",e)):e!==this.highlightedTopic||e.highlighted||this.set("highlightedTopic")}})}(DDG),function(e){var t,i=e.Models.Base;e.Models.AnswerMeta=t=function(e){i.call(this,e)},t.prototype=$.extend({},i.prototype,{options:{},loadedURLs:{},loadedNext:function(){this.next&&(this.loadedURLs[this.next]=!0,this.next=null)},reset:function(){this.loadedURLs={}},update:function(e){if(e&&"object"==typeof e)for(var t in e)"next"===t&&this.loadedURLs[e[t]]||"searchTerm"===t&&this.searchTerm||this.set(t,e[t])},useExpandTextButton:function(){return"images"===this.signal_from||"videos"===this.signal_from||"news"===this.signal_from},hasAttribution:function(){return!this.useExpandTextButton()&&this.developer&&$.isArray(this.developer)&&this.developer.length}})}(DDG),function(e){var t,i=e.Models.Base;e.Models.AnswerTemplates=t=function(t){t=t||{};var s,a=e.Data.templates,o={};t.group&&(s=a.groups[t.group])&&(t=$.extend(!0,{},s,t),o=s.options),i.call(this,t),this.options=$.extend(!0,{},a.defaultOptions,o,this.options||{}),this.elClass=this.elClass||{},this.variants&&this._applyVariants(this.variants)},t.prototype=$.extend({},i.prototype,{_applyVariants:function(t){if(t&&"object"==typeof t){var i=e.Data.templates.viewVariants;for(var s in t){var a=t[s],o=i[s],n=o&&o[a];if(n)if($.isArray(n))n.forEach(this._applyVariants.bind(this));else if("object"==typeof n)for(var r in n)this._applyVariant(r,n[r]);else this._applyVariant(s,n)}}},_applyVariant:function(e,t){this.elClass[e]?this.elClass[e]+=" "+t:this.elClass[e]=t}})}(DDG),function(e){var t=e.Models.Base;e.Models.AnswerItemTopic=function(e){t.call(this,e),this.items=[]},e.Models.AnswerItemTopic.prototype=$.extend({},t.prototype,{addItem:function(e){this.items.push(e),this._emitChange("items")},removeItem:function(e){var t=this.items.indexOf(e);t>-1&&(this.items.splice(t,1),this._emitChange("items"))},select:function(){this.unhighlight(),this.set("selected",1)},unselect:function(){this.set("selected")},highlight:function(){this.selected||this.set("highlighted",1)},unhighlight:function(){this.set("highlighted")},engaged:function(){this.set("engaged",1)}})}(DDG),function(e){(e.Models.DisInfoExp=function(t){if(e.Models.DisInfoExp._inst)return e.Models.DisInfoExp._inst;e.Models.DisInfoExp._inst=this,Object.assign(this,t),this.moreResultsClicked=0,this.pixels()}).prototype={getVariant:function(){return e.searchExperiments.getActiveVariant("infoboxexp")},pixels:function(){e.deep.on("load:initial",function(){e.pixel.fire("infoboxload",this.getPixelData()),document.addEventListener("click",function(t){if($(t.target).hasClass("result--more__btn")||t.target&&"more-results"===t.target.id)this.moreResultsClicked++;else{var i=$(t.target).closest('[data-nrn="result"]').get(0);if(i){var s=i.id,a=s?parseInt(s.split("-")[1]):-1,o=this.getResultDetails(a),n=Object.assign(this.getPixelData(),{rankClicked:a,originalRank:o.originalIndex,classification:o.classification});e.pixel.fire("infoboxresultclick",n)}}}.bind(this),!1)}.bind(this))},getPixelData:function(){var t=this.getResults()||{},i=t.visibleOrganics,s=t.pendingOrganics;return{isRequery:e.search.isRequery?1:0,isBounce:e.backData.isBounceBack()?1:0,lang:e.settings.region.getISOLocale(),location:JSON.stringify(this.location),resultsShown:this._serializeResults(i),pendingResults:this._serializeResults(s),mrc:this.moreResultsClicked}},_serializeResults:function(e){if(!e||!e.length)return"[]";var t=(e=e.slice(0,30)).reduce((function(e,t){return null!==t.originalIndex&&void 0!==t.originalIndex&&e.push([t.originalIndex,t.classification]),e}),[]);return JSON.stringify(t)},getResults:function(){if(e.deep&&e.deep.results&&e.deep.results.d){var t=e.deep.results&&e.deep.results.d||[],i=e.deep._pendingOrganics||[];return{visibleOrganics:t.map(this.extractDetailFromOrganic),pendingOrganics:i.map(this.extractDetailFromOrganic)}}},extractDetailFromOrganic:function(e){return{classification:e.dcl,originalIndex:e.doi}},getResultDetails:function(e){var t=this.getResults(),i=t&&t.visibleOrganics;return i&&i[e]}}}(DDG),function(e){var t=e.Models.Base;e.Models.OpenPixel=function(e){this._deep=e.deep,this._pageLoadTime=e.pageLoadTime,this._page=e.page,this._pixel=e.pixel},e.Models.OpenPixel.prototype=$.extend({},t.prototype,{getOpenType:function(e,t){var i="e";if(t.backButtonOpened?i="b":t.is_last_resort_tab?i="f":e&&e.isRequery?i="r":t.qsOpened?i="q":t.autoOpened?i="i":t.defaultOpened&&(i="d"),t&&t.reactReason)switch(t.reactReason){case"zci-image-fallback":case"extra-fallback":i="f";break;case"ia-qs-match":case"iax-qs-match":i="q";break;case"default-best":case"default-web":i="i"}return i},fire:function(t,i,s,a){var o,n=i||t.model.openType,r=null;if(window.serpStore&&window.serpStore.getSnapshot&&(r=window.serpStore.getSnapshot().dataById[t.id]),(o=t.model.getPixelData(r?r.data:void 0,{searchExperiments:window.Bootstrap.searchExperiments,settings:e.settings})).fot=e.duckbar&&e.duckbar.openTypeState&&e.duckbar.openTypeState.byId&&e.duckbar.openTypeState.byId[this.id]&&e.duckbar.openTypeState.byId[this.id].first||"i",o.lot=n,"i"===n){if(s)return;$.extend(o,this._getTimingData())}var l=this.getInstance("page");if(l.ads.hasAds()){var d=l.ads.getAds();o.adn=d.length,o.is_good_v8_0=d[0]&&d[0].relevancy&&d[0].relevancy.is_good_v8||0,o.is_good_v8_1=d[1]&&d[1].relevancy&&d[1].relevancy.is_good_v8||0}if(a){var c="iao"+n+t.pixelId;if(a[c])return;a[c]=!0}this.getInstance("pixel").fire("iao"+n,t.pixelId,o)},firePlaceholder:function(e){this.getInstance("pixel").fire("iaop",e,this._getTimingData())},_getTimingData:function(){var e=(new Date).getTime(),t=this.getInstance("deep");return{timeSincePageLoad:e-this._pageLoadTime,timeSinceDeepStarted:t.timeSinceStarted(),timeSinceDeepFinished:t.timeSinceFinished()}}})}(DDG),DDG.Models.ModulesPositions={TOP:-1,SIDE:-2,PENDING_SLOTTING:-4},function(e){var t=e.Models.Base,i={high:3,medium:2,low:1},s={about:1,climb:1,fueleconomy:1,lyrics:1,qa:1},a={maps_places_snippet:1},o={products:1,autoads:1,toursactivities:1,creditcards:1},n={answerType:"About",model:"About"},r=["lyrics","nlp_longtail","nlp_qa","deep_answer","nlp_fathead","deep_fathead"];e.Models.ModulesLayout=function(e){t.call(this,{}),this._device=e.device,this._history=e.history,this._openPixel=e.openPixel,this._settings=e.settings,this.modules={},this.signals={},this.slots={},this._currentIA=this.getInstance("history").get("ia")},e.Models.ModulesLayout.SLOTTING_CONTROLLED=o,e.Models.ModulesLayout.BING_SUPPLIED_CONTENT_MODULES=["images","videos","news"],e.Models.ModulesLayout.prototype=$.extend({},t.prototype,{addSignal:function(e){var t=this.signals[e.from]?this.signals[e.from]:0;this.signals[e.from]=Math.max(t,i[e.signal])},addModule:function(t,i){var n=this._getAnswerName(t),r=t.nameId||e.strip_non_alpha(n.toLowerCase()),l=t.id||r;t.name=n,t.nameId=r,t.id=l;var d=e.Data.answers.getById(t.id);t.isSpiceOrGoodie&&(d={onAdd:d.onAdd,onLoad:d.onLoad,sideModule:d.sideModule,topModule:d.topModule,answerTypeObj:d.answerTypeObj});var c=Object.assign({},t);if(Object.assign(t,d,c),"function"==typeof t.onAdd&&t.onAdd(t,i))return null;if(e.history.get("iax")!==r&&e.duckbar.validateRequery(e.hidden.get("iar"))!==r||null===r||!t.allowModuleIA||t.inVertical||(t.allowModuleIA=0,t.needsTab=!0),t.rt=rt,t.query=e.get_query(),t.queryEncoded=e.get_query_encoded(),t.shouldModuleBeRendered||(t.shouldModuleBeRendered=e.Data.answers.getShouldModuleBeRendered(t.id)),void 0!==t.sideModule&&(s[l]=t.sideModule),void 0!==t.topModule&&(a[l]=t.topModule),void 0!==t.bingSlotting&&(o[l]=t.bingSlotting),!(s[l]||a[l]||"maps_places"===l&&"b"===window.Bootstrap.searchExperiments.getActiveVariant("mapsexp")))return"static"===t.type||t.version&&"zero-click-info-v1"!==t.version||(t.isZci=!0,t.answerType&&e.Models.Answers[t.answerType]?t.model=new e.Models.Answers[t.answerType](t):t.model=new e.Models.Answer(t)),t;var h=this.modules[l];return t.id=l,t.isModule=!0,t.position=this._getPosition(l,t),t.isSideModule=t.position===e.Models.ModulesPositions.SIDE,h||(this._appendModel(t),this.modules[l]=h=t),h.triggered=!0,h.model.position=t.position,t.signal&&this.addSignal({from:l,signal:t.signal}),h.addedAfterDuckbarDone=!!e.duckbar.isDone,this._emitChange("modules"),t},_getAnswerName:function(e){var t=e.name||e.duckbar_topic||e.topic||"Answer";return"qa"===t?"Q/A":t},_getPosition:function(t,i){var n=i||this.modules[t],r=e.Models.ModulesPositions,l=e.Data.answers.getByIdOrFrom(t);return"maps_places"!==t||!n||n.isSingle||"high"!==n.signal||e.search.isNavigational?(o[t]||l.bingSlotting)&&"Bing"===e.getProperty(i,"meta.sourceName")?r.PENDING_SLOTTING:a[t]||l.topModule?r.TOP:s[t]||l.sideModule?this.canShowSideModules()?r.SIDE:r.TOP:void 0:r.TOP},canAddSignal:function(e){return!(r.indexOf(e.from)>-1&&this.canShowSideModules()&&!e.hasInfoSelector)},isTopModule:function(t){return this._getPosition(t)===e.Models.ModulesPositions.TOP},canShowSideModules:function(){var e=this.getInstance("device"),t=this.getInstance("settings");return!e.isMobileDevice&&t.isDefault("kw")&&t.isDefault("km")&&t.isDefault("kz")},canShowModule:function(t){if(e.duckbar.disinfoExp&&"j"===e.searchExperiments.getActiveVariant("infoboxexp"))return"news"===t;var i=this.getModule(t);return"low"!==i.signal||"maps_places_multiple"!==i.pixelId&&"maps_places_single"!==i.pixelId},getModule:function(e){return"web"===e&&(e=this.defaultId),this.modules[e]},getModules:function(t){var i,s=[];for(var a in this.modules)i=this.modules[a],t&&i.position===t&&s.push(i),t||s.push(i);return e.pageLayout&&t===e.Models.ModulesPositions.SIDE&&e.pageLayout.sortModulesBySlottedInSidebar(s),s},getModuleInfo:function(e){return this.getModules(e).map((function(e){return e.pixelId+":"+e.model.openType+":"+e.signal}))},isExpandedImages:function(e,t){return"images"===e&&"e"===t.activeTabOpenType},getDefaultTopModule:function(){return this.defaultId},setDefaultTopModule:function(e){this.set("defaultId",e)},setOpenType:function(e,t){var i=this.getModule(e);i&&(i.model.openType=t)},loadContent:function(t,i,s){(s=s||{}).fromDeep=!0;var a=e.Data.answers.getById(t);if("function"==typeof a.onLoad&&a.onLoad(i,s),"function"==typeof a.getPixelId){var o=a.getPixelId(i,{searchExperiments:window.Bootstrap.searchExperiments});a.pixelId=o,a.model.pixelId=o}var n=this.getModule(t);n&&(n.model.loaded=!0,i&&i.results?(n.model.addItems(i.results,s),i.layout&&n.model.set("layout",i.layout)):(this.getDefaultTopModule()===n.model.id||n.model.waitingForItems)&&n.model.emit("load"))},_appendModel:function(t){var i=t.answerTypeObj||n;if("function"==typeof t.getAnswerType){var s=t.getAnswerType(t,{searchExperiments:window.Bootstrap.searchExperiments});s&&(i={answerType:s,model:s})}$.extend(t,i);var a={};if(a=t.answerType&&e.Models.Answers[t.answerType]?new e.Models.Answers[t.answerType](t):new e.Models.Answer(t),!t.serviceURL&&!t.doNotCoerceData){a.meta.update(t.meta);var o=$.isArray(t.data)?t.data:[t.data||t];a.addItems(o,t.ads)}a.openType=this.getInstance("openPixel").getOpenType(t,{autoOpened:!this._currentIA,qsOpened:this._currentIA}),t.pixelId=a.pixelId,t.model=a},isAlreadySlotted:function(t){var i=e.page&&e.page.reactRenderedDataRef&&e.page.reactRenderedDataRef.current&&e.page.reactRenderedDataRef.current.slotted;return i&&i.has(t)},getModulesWithFeedbackReporting:function(){return this._getModulesWherePropertyEnabled("hasCarouselFeedbackReporting")},getModulesWithVisibilityFeedback:function(){return this._getModulesWherePropertyEnabled("hasCarouselVisibilityReporting")},_getModulesWherePropertyEnabled:function(e){var t=this.modules;return t?Object.keys(t).filter((function(i){return t[i].model[e]})).map((function(e){return t[e].model})):[]}})}(DDG),function(e){var t=e.Views.Base;e.Views.ModulesLayout=function(i){this._selectors=i.selectors?this._combineSelectors(i.selectors):{},this._selectorCache={},this._verticalId=i.verticalId,t.call(this,i),this.bindEvents([[this.model,"change:modules",this._render],[e.deep,"load:any",this._onDeepFinished.bind(this)]])},e.Views.ModulesLayout.prototype=$.extend({},t.prototype,{recalculateModuleSizes:function(){e.duckbar&&e.duckbar.isDone&&!this._hasRecalculatedModuleSizes&&(this._triggerCalculateSize(this.views),this._hasRecalculatedModuleSizes=!0)},_triggerCalculateSize:function(e){for(var t in e)$.isArray(e[t])?this._triggerCalculateSize(e[t]):(e[t].calculateSize&&e[t].calculateSize(),e[t].views&&this._triggerCalculateSize(e[t].views))},_getSelector:function(t,i){return this._selectorCache[t]||(this._selectorCache[t]=$(this._selectors[t])),i.allowModuleIA?e.duckbar.$topModuleWrapper:i.belowAds&&t===e.Models.ModulesPositions.TOP?e.duckbar.$moduleBelowAdsWrapper:this._selectorCache[t]},_render:function(){DDG.pageLayout&&DDG.pageLayout.sidebarReady&&this._renderSideModules()},_hasMapTab:function(e){var t=this.model.getModule(e.id);return"maps_maps"===t.id||"maps_places"===t.id},_appendView:function(t,i,s){var a=t.model.id;if(this.views[a])this.views[a].$el.is(":hidden")&&(this.views[a].$el.show(),t.allowModuleIA||t&&t.inVertical&&"web"!==t.inVertical&&e.openPixel.fire(t,"i"));else{var o=t.model.position,n=this._getSelector(o,t);if(i)n=i;else if(o===e.Models.ModulesPositions.SIDE&&t.slotted)n=".js-vertical-sidebar-slotted-modules";else if(!n.selector||!n[0])return;try{var r=new e.Utils.TabViewBuilder,l=r.build({model:t.model,appendTo:n});l.renderedPosition=o,l.show(),s?l.menuAdded=!0:t&&t.inVertical&&"web"!==t.inVertical&&e.openPixel.fire(t,"i"),this.views[a]=l,$.isFunction(t.model.canShowSnippet)&&t.model.canShowSnippet()&&(this.snippet=r.buildSnippet({prependTo:this._selectors[e.Models.ModulesPositions.TOP],answer:t.model}))}catch(d){e.isDev,e.pixel.fire("jse","serp",{msg:encodeURIComponent(d.message)})}}},_combineSelectors:function(t){var i={};for(var s in t){var a=e.Models.ModulesPositions[s];a&&(i[a]=t[s])}return i},_renderSideModules:function(){for(var t=this.model.getModules(e.Models.ModulesPositions.SIDE),i=0;i<t.length;i++){var s=t[i];s&&this.model.canShowModule(s.model.id)&&e.addClass("html",e.$html,"has-right-rail-module")}},_onDeepFinished:function(){this._render()}})}(DDG),function(e){var t=e.Views.Base;e.Views.ModuleContainer=function(e){t.call(this,e)},e.Views.ModuleContainer.prototype=$.extend({},t.prototype,{template:"module_container",_render:function(e){t.prototype._render.call(this,e)}})}(DDG),function(e){var t=e.Views.Base;e.Views.PrivacyMessage=function(e){t.call(this,e)},e.Views.PrivacyMessage.prototype=$.extend({},t.prototype,{template:"privacy_message"})}(DDG),function(e){var t=e.Models.Base;e.Models.AdReporting=function(e){this.endpoint={shoppingVertical:{},inlineAds:{}},this._hasTriedSendingCarouselAds=!1,t.call(this,{})},e.Models.AdReporting.prototype=$.extend({},t.prototype,{sendAdImpressions:function(t,i,s,a,o,n,r,l){var d=l?t:$.extend(!0,{},t),c=l?i:$.extend(!0,{},i);r&&r();var h=d.items&&d.items.length,p=this._hasAnyCarouselAds(c),u=h||p,m=c.mainline.hidden.map((function(e){return e.tid})),_=c.sidebar.hidden.map((function(e){return e.tid}));if(a&&u){var f,g,v="web"===o&&window.reactRenderedDataRef&&window.reactRenderedDataRef.current||{},w="web"===o&&window.serpStore&&window.serpStore.getSnapshot&&window.serpStore.getSnapshot()||{};"web"===o&&window.utils&&window.utils.isLayoutReady&&(f=window.utils.isLayoutReady(w.dataById||{},w.nSuccessfulDeepRequests,window.nNrjIaRequests,{strict:!1})),"web"===o&&f&&window.utils&&window.utils.isNonSlottedIaAboveMainlineAd&&(g=window.utils.isNonSlottedIaAboveMainlineAd(v,v.disambiguatedRecommendedLayouts||[],v.firstOpenedId,e.duckbar&&e.duckbar.openTypeState?e.duckbar.openTypeState.activeTabId:null));if("web"===o&&null==g&&(!l||l<50))return l=l?l+1:1,setTimeout(function(){this.sendAdImpressions.call(this,d,c,s,a,o,n,!1,l)}.bind(this),100),void(30===l&&e.pixel.fire("im","t",{r:l,t:100}));var y=a,b=y;if(y+="&impr="+this._getAdImpressionString(d,c),(m.length||_.length)&&!this._hasTriedSendingCarouselAds){var k=m.concat(_).join(",");y+="&rvf="+encodeURIComponent(k)}this._hasTriedSendingCarouselAds=!0;var S=!1;"web"===o&&1===n&&!0===g&&(S=!0,y+="&aba=1"),(h&&this._elementIsHidden('[data-layout="ad"]')||p&&this._elementIsHidden(".module--carousel-products"))&&"images"!==o&&(y+="&ads-hidden=1",e.tParam.isAffiliate()&&(y+="&t="+e.tParam.get())),this._sentImpressionFeedback[b]&&e.pixel.fire("adreporting.duplicated-error"),this._sendFeedbackRequest({url:y,errorPixel:"im",errorSubPixel:"x"},"web"===o?{vertical:o,retry:l||0,page:null==n?"na":n,layoutready:f?"1":"0",abaready:"boolean"==typeof g?"1":"0",aba:S?"1":"0"}:{vertical:o,retry:l||0}),this._sentImpressionFeedback[b]=!0}},_elementIsHidden:function(e){var t=document.querySelector(e);if(t){var i=window.getComputedStyle&&window.getComputedStyle(t)||{},s="none"===i.display,a="hidden"===i.visibility,o=["absolute","fixed","sticky"].includes(i.position),n=0===t.offsetWidth||0===t.offsetHeight,r="1"!==i.opacity;return s||a||o||n||r}return!1},_sentImpressionFeedback:{},getVisibilityObjectFromModules:function(e){var t=!(e&&e.length),i=this.createEmptyVisibilityObject();return t?i:1===e.length?function(e){return e[0].visibility}(e):e.length>1?function(e,t){var i=t;for(var s in e)for(var a in i)for(var o in i[a])i[a][o]=i[a][o].concat(e[s].visibility[a][o]);return i}(e,i):void 0},setVisibilityEndpointsForModules:function(e,t,i){e.length>0&&i&&e.forEach((function(e){e.adReporting.hasEndpoint(t,"visibility")||e.adReporting.setEndpoint(t,{visibility:i})}))},createEmptyVisibilityObject:function(){return{mainline:{visible:[],hidden:[]},sidebar:{visible:[],hidden:[]}}},sendShoppingImpressions:function(e,t){var i=this._shoppingItemImpressions(e),s="",a=[];if(i&&(s=i.impressionString,a=i.hiddenItems),t){var o=this._convertCarouselVisibilityObjectToShoppingImpressionFeedback(t);o.impressionString&&(s=o.impressionString+(""!==s?"|":"")+s),o.hiddenItems&&(a=[].concat(o.hiddenItems,a))}(i||t)&&this._sendFeedbackRequest({url:this.endpoint.shoppingVertical.impression,payload:{impr:s,rvf:a.join(",")},errorPixel:"im",errorSubPixel:"px"})},_convertCarouselVisibilityObjectToShoppingImpressionFeedback:function(e){var t=[],i=[],s="";if(e){i=(t=e.hidden.map((function(e){return e.model}))).map((function(e){return e.tid}));var a=e.visible.map((function(e){return e.model}));s=this._formatImpressionItems([].concat(a,t),"m")}return{impressionString:s,hiddenItems:i}},_shoppingItemImpressions:function(t){var i=[],s=t.filter((function(e){return!e.hasReportedImpression&&!e.free_listing})),a=this._formatImpressionItems(s,"c");return 0!==s.length&&(s.forEach((function(t){t.inViewport||(e.device.isMobileDevice&&(t.hasReportedMobileHidden=!0),i.push(t.tid)),t.hasReportedImpression=!0})),{impressionString:a,hiddenItems:i})},sendCarouselAdsVisibility:function(e){if(e.length&&this.endpoint.inlineAds.visibility){var t=this.endpoint.inlineAds.visibility,i=e.join(",");t+="&vis="+encodeURIComponent(i),this._sendFeedbackRequest({url:t,errorPixel:"vi",errorSubPixel:"x"})}},sendShoppingAdItemsForMobileVisibility:function(e){var t=e.filter((function(e){return e.inViewport&&!e.hasReportedMobileVisibility&&e.hasReportedMobileHidden})).map((function(e){return e.hasReportedMobileVisibility=!0,e.tid}));this.sendShoppingMobileVisibility(t)},sendShoppingMobileVisibility:function(e){e.length>0&&this._sendFeedbackRequest({url:this.endpoint.shoppingVertical.visibility,payload:{vis:e.join(",")},errorPixel:"vi",errorSubPixel:"px"})},sendShoppingHoverVisibility:function(e){if(e.unsentHoveredItems&&e.unsentHoveredItems.length>0||e.exploreByItemClickedIURL){var t={};for(var i in e.unsentHoveredItems.forEach((function(e){t[e.visibilityUrl]||(t[e.visibilityUrl]=[]),t[e.visibilityUrl].push(e.tid)})),t){var s=t[i],a={};s.length>0&&(a.vis=s.join(",")),e.exploreByItemClickedIURL&&(a.iurl=e.exploreByItemClickedIURL),this._sendFeedbackRequest({url:i,beacon:e.beacon,payload:a,errorPixel:"vi"+(e.exploreByItemClickedIURL?"ebi":""),errorSubPixel:"px"})}}},setEndpoint:function(e,t){if(this.endpoint[e])for(var i in t)!1===t[i]?delete this.endpoint[e][i]:this.endpoint[e][i]=t[i]},hasEndpoint:function(t,i){return!!e.getProperty(this,"endpoint."+t+"."+i)},_sendFeedbackRequest:function(t,i){if(t.url){var s={bfcache:e.backData&&e.backData.ready?e.backData.isLoadedFromBfCache?1:0:"na",bounce:e.backData&&e.backData.ready?e.backData.isBounceBack()?1:0:"na"},a=function(t){$.ajax({url:t.url,data:t.payload||null,async:!t.synchronousRequest,error:function(a,o,n){e.pixel.fire(t.errorPixel,t.errorSubPixel,Object.assign({status:o,error:a.responseText,code:a.status},s,i))},success:function(){"im"!==t.errorPixel&&"vi"!==t.errorPixel||"x"!==t.errorSubPixel||e.pixel.fire(t.errorPixel,"s",Object.assign({},s,i))},complete:t.complete||null})},o=function(e){var t={};return e.split("&").forEach((function(e){var i=e.split("="),s=i[0],a=i[1];t[s]=decodeURIComponent(a)})),t};t.beacon?function(e){if(navigator&&navigator.sendBeacon){var t=new FormData,i=e.url.split("?"),s=i[0],n=i[1],r=$.extend(e.payload||{},o(n));for(var l in r)t.append(l,r[l]);navigator.sendBeacon(s,t)}else a($.extend(e,{synchronousRequest:!0}))}(t):a(t)}else e.pixel.fire(t.errorPixel,"me",{error:"missing endpoint for: "+t.errorSubPixel})},_formatImpressionItems:function(e,t){return e.map(function(e){var i,s=e.tid||e;return i=this.isImageVerticalProductAds?s+"im":"string"==typeof s&&"v"===s.slice(-1)?s:s+(t||e.position).substring(0,1),e.visibleExtensions&&e.visibleExtensions.length>0&&(i+=":"+e.visibleExtensions.map((function(e){return encodeURIComponent(e)})).join(";")),i}.bind(this)).join("|")},_hasAnyCarouselAds:function(e){return!!(e.mainline.visible.length||e.mainline.hidden.length||e.sidebar.visible.length||e.sidebar.hidden.length)},_getAdImpressionString:function(e,t){var i="",s=this._hasAnyCarouselAds(t);if(!e.rendered.length&&!s)return i;if(i+=this._formatImpressionItems(e.rendered),s&&!this._hasTriedSendingCarouselAds){""!==i&&(i+="|");var a=[];for(var o in t){var n=t[o].visible.concat(t[o].hidden);n.length>0&&a.push(this._formatImpressionItems(n,o))}a.length>0&&(i+=a.join("|"))}return i=encodeURIComponent(i)}})}(DDG),function(e){var t=e.Models.Base,i={wikipedia_fathead:"about"},s={ad:1,products:1,autoads:1,toursactivities:1,creditcards:1,wikipedia_fathead:1},a="inlineAds";e.Models.PageLayout=function(i){this.organics={config:{count:0,slots:{}}},this.textAds={config:{count:0,slots:{}},rendered:[]},this.deviations={},t.call(this,{}),this.adReporting=new e.Models.AdReporting,this._reportedVisibleAds={}},e.Models.PageLayout.prototype=$.extend({},t.prototype,{sendAdImpressions:function(t,i,s){t.forEach((function(e){"ad"===e.type&&this.reportTextAdVisible(e,[{tid:e.logoData?e.logoData.tid:void 0},{tid:e.siteLinksData.tid},{tids:e.snippetsData.tids}])}),this),this.adReporting.sendAdImpressions(this.textAds,this.adReporting.getVisibilityObjectFromModules(e.modulesLayout.getModulesWithFeedbackReporting()),this.layout,this.adReporting.endpoint.inlineAds.impression,i,s,this.resetTextAdState.bind(this))},canSendSERPAdImpressions:function(){return!!(this.layout&&this.textAds.items&&this.adReporting.hasEndpoint(a,"impression"))},initialize:function(){},load:function(t,i,s){"a"===t?(this.textAds.items=i,s&&(this.adReporting.setEndpoint(a,{impression:s.page_load_url}),s.visibility_url&&this.adReporting.setVisibilityEndpointsForModules(e.modulesLayout.getModulesWithVisibilityFeedback(),a,s.visibility_url))):"d"===t&&(this.organics.items=i)},recordDeviation:function(t,i,s,a,o,n){var r=e.Data.answers.getById(t);if(t&&i&&!r.suppressDeviations)try{"module"===i&&a?(s=s||(a.isSideModule?"sidebar":"mainline"),this.deviations[t]={area:s,type:i}):"ia"===i?(s=s||"mainline",this.deviations[t]={area:s,type:i}):s&&(this.deviations[t]={area:s,type:i}),this.deviations[t]&&(this.deviations[t].reason=o||"unknown",null!=n&&(this.deviations[t].aboveAd=n))}catch(l){e.pixel.fire("devx","r",{msg:l})}},sendDeviations:function(t,i,s){if(t&&i){var a=(t.pole?[t.pole]:[]).concat(t.mainline||[]),o=t.sidebar||[],n=t.deviations;if(n){var r=a.findIndex((function(e){return"ad"===e.type})),l=o.findIndex((function(e){return"ad"===e.type}));Object.keys(n).forEach((function(e){var t=n[e];if(t){var s=a.findIndex((function(t){return t.id===e})),d=o.findIndex((function(t){return t.id===e})),c=i[e];if(!c||c&&(!c.data||!c.data.suppressDeviations)){var h=c&&"local-snippet"!==c.type?c.data&&"zero-click-info-v1"===c.data.version?"ia":"module":"other",p=!("ia"!==h&&"triggering"!==t.reason&&"relocated"!==t.reason||!(s>=0&&s<r||d>=0&&d<l));this.recordDeviation(e,h,"pole"===t.area?"mainline":t.area,null,t.reason,p)}}}),this)}}try{this.finalDeviations=$.extend({},this.deviations);var d="";if(!this.finalDeviations)return;for(var c in this.finalDeviations){""!==d&&(d+=",");var h=this.finalDeviations[c];d+=c+":"+h.type+":"+h.area+":"+h.reason+":"+(h.aboveAd?1:0)}e.isDev&&"true"!==e.history.get("hideDeviations")&&!e.device.isIE&&Object.keys(this.finalDeviations).length&&this._showDeviationsInConsole(),e.pixel.fire("dev",Object.assign({},s,d?{d:encodeURIComponent(d)}:void 0))}catch(p){e.pixel.fire("devx","s",{msg:p})}},_showDeviationsInConsole:function(){(function(e){return Object.keys(this.finalDeviations).reduce(function(e,t){var i;return e[t[0].toUpperCase()+t.slice(1)]=(i=this.finalDeviations[t],Object.keys(i).reduce((function(e,t){var s=t[0].toUpperCase()+t.slice(1);return"AboveAd"===s?e[s="Above Ad"]=!!i[t]:e[s]=i[t],e}),{})),e}.bind(this),{})}).bind(this);window.serpStore,window.reactRenderedDataRef},shouldExpandToVertical:function(t){var i=e.Data.answers.getByNameId(t);return!i.preventTab&&!i.expandInPlace&&(e.history.get("iax")===t||e.duckbar.validateRequery(e.hidden.get("iar"))===t&&null!==t)},reportTextAdVisible:function(e,t){if(!this._reportedVisibleAds[e.id]&&(this._reportedVisibleAds[e.id]=!0,e.adext&&e.adext.tid)){var i={tid:e.adext.tid,position:e.side?"sidebar":"mainline",visibleExtensions:[]};t&&t.forEach((function(e){e&&(e.tid&&i.visibleExtensions.push(e.tid),e.tids&&(i.visibleExtensions=i.visibleExtensions.concat(e.tids)))})),this.textAds.rendered.push(i)}},convertSlotToModuleName:function(e){return i[e]||e},isFirstValidSidebarItem:function(t){var i=e.getProperty(this,"layout.sidebar.items");if(i)for(var a in i)if(s[i[a][0]])return i[a][0]===t;return!1},sortModulesBySlottedInSidebar:function(t){var i=e.getProperty(this,"layout.sidebar.items");if(i){var s={};for(var a in i){var o=this.convertSlotToModuleName(i[a][0]);s[o]=a}t.sort((function(e,t){return s[e.id]-s[t.id]}))}},resetTextAdState:function(){this.adReporting.setEndpoint(a,{impression:!1}),this.textAds.rendered=[]},_injectSpreadCtaIntoSidebar:function(t){var i=decodeURIComponent(window.rq).toLowerCase().split(/\s+/),s=["google","facebook","privacy"];if(i.find((function(e){return s.includes(e)}))&&e.device.isEnglish&&!e.addToBrowser.canShowOnDesktopSerp()){var a=t.sidebar.items.findIndex((function(e){return e&&"ad"===e[0]}));a>-1?t.sidebar.items.splice(a,0,["spreadCTA"]):t.sidebar.items.push(["spreadCTA"]),e.duckbar.loadModule("spreadCTA",{})}},_maybeInjectSerpRetentionSurvey:function(t){window.utils&&window.utils.canShowSerpRetentionSurvey&&!window.utils.canShowSerpRetentionSurvey(e.settings,e.device,e.extension,e.opensearch)||(t.sidebar||(t.sidebar={items:[]}),t.sidebar.items.push(["serpRetentionSurvey"]),e.duckbar.loadModule("serpRetentionSurvey",{}))},_disinformationWarningExperiment:function(t){if(e.duckbar.disinfoExp){var i=e.searchExperiments.getExperimentGroup("infoboxexp");["e","g","i"].includes(i)&&!e.device.isMobile&&(t.sidebar=t.sidebar||{items:[]},t.sidebar.items.unshift(["infobox"]))}},createDdgLayoutAndHandleEffects:function(t,i,s,a){var o={mainline:[],sidebar:[]},n=i&&void 0!==i.start&&0===parseInt(i.start,10);return n&&DDG.deep.fallback&&DDG.deep.finished?(e.pixel.fire("ddr"),o):(e.deep.addResults("a",s),e.deep.addResults("d",a),n&&e.ads.setAds(s),n&&!e.device.isMobile&&t&&t.sidebar&&t.sidebar.items&&this._injectSpreadCtaIntoSidebar(t),n&&t&&this._disinformationWarningExperiment(t),t&&t.mainline&&t.mainline.items&&(o.mainline=t.mainline.items.map((function(e){return 1===e.length?"wikipedia_fathead"===e[0]?"Entities":e[0]:"Places"}))),t&&t.sidebar&&t.sidebar.items&&(o.sidebar=t.sidebar.items.map((function(e){return 1===e.length?"wikipedia_fathead"===e[0]?"Entities":e[0]:"Places"})),0===t.sidebar.items.length&&delete t.sidebar),t&&t.mainline&&Object.defineProperty(t.mainline,"hasAds",{get:function(){var t=e.page&&e.page.reactRenderedDataRef&&e.page.reactRenderedDataRef.current;if(t){var i=t.pole?[t.pole]:[],s=t.displayedMainline||[];return i.concat(s).some((function(e){return"ad"===e.type}))}},enumerable:!0,configurable:!0}),t&&t.sidebar&&Object.defineProperty(t.sidebar,"hasAds",{get:function(){var t=e.page&&e.page.reactRenderedDataRef&&e.page.reactRenderedDataRef.current;if(t)return(t.displayedSidebar||[]).some((function(e){return"ad"===e.type}))},enumerable:!0,configurable:!0}),this.set("layout",t),this.sidebarReady=!0,DDG.deep.started||DDG.deep.set("started",Date.now()),o)}})}(DDG),function(e){var t={high:3,medium:2,low:1},i={"item-selected":"onItemSelected","item-unselected":"onItemUnselected","item-shown":"onItemShown",show:"onShow",hide:"onHide"},s=DDG.get_now(),a={wikinlp:!0};e.Duckbar=function(){window.Bootstrap.searchExperiments.assign("duckchat_alpha",{filter:function(){if(!e)return!1;var t=window.location.search,i=/[?&]ia=chat(&|$)/.test(t);if("-1"===String(e.settings.get("kbg"))&&!i)return!1;if(1===window.dc_enabled)return!0;if(2===window.dc_enabled){var s=!!e.device&&e.device.ua||navigator.userAgent&&navigator.userAgent.toLowerCase(),a=navigator.duckduckgo&&("macos"===navigator.duckduckgo.platform||"windows"===navigator.duckduckgo.platform),o=navigator.duckduckgo&&"ios"===navigator.duckduckgo.platform,n=/DuckDuckGo\/[0-9]/i.test(s),r=navigator.duckduckgo&&"android"===navigator.duckduckgo.platform||n;return a||o||r}return!1}}),e.openPixel=new e.Models.OpenPixel({pageLoadTime:s}),this.modulesLayoutView=new e.Views.ModulesLayout({model:e.modulesLayout,verticalId:"web",selectors:{SIDE:".js-sidebar-modules",TOP:".js-ia-modules"}}),this.mapsPlacesTimer={},this.mapsPlacesTimer.pageLoadTime=s,this.pageLoadTime=s,this.prepareConvertedSpicesHooks(),this.hasOpenedAtLeastOnce=!1,this.openTypeState={activeTabId:null,activeReason:null,byId:{}},this.on("react-tab-event",(function(){var e=arguments[0],t=arguments[1],i=Array.prototype.slice.call(arguments,2);if(this.tabs){var s=this.tabs[e];if(s)switch(t){case"view-mounted":!s.view&&i[0]&&(s.view=i[0]);break;case"view-unmounted":s.view&&(s.view=null);break;default:s.emit.apply(s,[t].concat(i))}}}))},e.Duckbar.prototype=Object.assign({},EventEmitter2.prototype,{id:"duckbar",tabs:{},tabsByNameId:{},froms:{},activeTabId:null,futureSignals:[],futureSignalsById:{},failedIA:{},isReady:!1,areOrganicsShowing:!0,onReady:function(){if(this.isReady=!0,this.$zeroClickWrapper=$("#zero_click_wrapper"),this.$webContentWrapper=$("#web_content_wrapper"),this.$verticalWrapper=$("#vertical_wrapper"),this.$topModuleWrapper=$(".js-ia-modules"),this.$moduleBelowAdsWrapper=$(".js-ia-modules-below-ads"),this.$el=$("#duckbar"),e.keyboard.on("left",this._openNext.bind(this,"l")),e.keyboard.on("right",this._openNext.bind(this,"r")),e.Data.answers.shouldAddAutomatically().forEach((function(e){this.add(e)}),this),e.router.add("toggle-map",this._toggleExpandedMap.bind(this)),this.addOnReady&&this.addOnReady.forEach((function(e){this.add.apply(this,e)}),this),!window.__preventExecTriggerCache__)if(window.execTriggerCache)try{window.execTriggerCache()}catch(i){}else{var t=document.getElementById("trigger_cache_script");t&&t.addEventListener("load",(function(){if(!window.__preventExecTriggerCache__&&window.execTriggerCache)try{window.execTriggerCache()}catch(i){}}))}},getActiveTab:function(){return this.tabs[this.activeTabId]},setOrganicsVisibility:function(t,i){if(t)this.$webContentWrapper.removeClass("is-hidden"),"chat"===this.activeTabId?e.footer.set("visible",!1):e.footer.set("visible",e.settings.isDefault("kav")),this.modulesLayoutView.recalculateModuleSizes();else{"images"!==i&&"videos"!==i||e.footer.set("visible",!e.settings.isDefault("kc"));var s=e.getProperty(this,"tabs."+i+".view.modulesLayoutView");s&&s.recalculateModuleSizes(),this.$webContentWrapper.addClass("is-hidden")}this.areOrganicsShowing=t},tabIsActiveFullPage:function(e){return e&&e.model&&e.model.active&&("news"===e.model.id||e.model.expanded)&&e.model.isFullPage},open:function(t,i){var s={};i=i||{},this.reactAddTab(t);var a=!!i.reactReason,o="web"===t;o&&this.allTab&&"web"!==this.allTab&&(t=this.allTab.id);var n,r=this.tabs[t];if(!this.failedIA[r&&r.from||t]||"maps_maps"===t){if("images"===t&&"zci-image-fallback"===i.reactReason&&this.fallbackFromNonModule&&(r=new DDG.DuckbarTab(t,this.fallbackFromNonModule),this.tabs.images=r,r.model.openType=e.openPixel.getOpenType(r.model,i),e.openPixel.fire(r,r.model.openType,a,s)),e.deep.pending&&-1===$.inArray(t,e.Data.DeferredVerticals)&&e.deep.run(),"b"!==window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&(i.mapId||"maps_expanded"===t))return r=this.tabs.maps_expanded,i.isMapExpanded=!0,i.isDirections="directions"===e.history.get("iaxm")||!!(e.modulesLayout&&e.modulesLayout.modules&&e.modulesLayout.modules.directions),i.isMapStart=!("start"!==e.history.get("iaxm")),i.model=i.answer||r.model,this._toggleExpandedMap(i),r&&r.model&&(n=e.openPixel.getOpenType(r.model,i),r.model.openType=n,e.openPixel.fire(r,n,a,s),"q"===n&&e.pageLayout.recordDeviation(r.id,"vertical")),this.registerOpenTypeState(t,n,i.reactReason),this.isDone=!0,void(this.hasOpenedAtLeastOnce=!0);if(r&&!e.getProperty(r,"model.meta.hidden")&&("e"!==(n=e.openPixel.getOpenType(r.model,i))&&"d"!==n||e.device.scrollTop(0),(!i.autoOpened||!this.openedTab)&&(!i.autoOpened||e.settings.isDefault("kz")||"web"===t))){this.openedTab=1;var l=this.getActiveTab();if(l){var d=l.model.isModule&&(l.model.allowVertical||l.model.allowModuleIA);if(l.id===t&&!o&&(r.model.isAutoLoadingImages&&r.model.isAutoLoadingImages(n)||!d))return;l.model.openedFromModule&&e.device.isMobile||DDG.ImageLoader.loadMore(),l.hide(i.preventHistoryAction),l.model.allowModuleIA&&l.model.allowVertical&&(l.model.isModule=!0,l.isModule=!0)}this.activeTabId=t;var c=r.model.meta;if("web"!==r.pixelId&&"e"!==n&&"b"!==n&&(this.initialTabOpenType=n,this.initialTab=r,"i"===n&&r.isModule?this.allTab=r:this.allTab="web"),this.activeTabOpenType=n,void 0===c.autoExpand?c.autoExpand=is_mobile?1:0:c.autoExpand&&!is_mobile&&"e"!==n&&(c.autoExpand=0),c.autoExpand&&void 0===c.autoExpandRows){var h=DDG.history.get("iai");c.autoExpandRows=is_mobile&&(i.autoOpened||i.qsOpened&&!h)?1:0}r.model.allowVertical&&(r.isVertical||"r"!==n&&"e"!==n?r.isVertical=!1:(r.isVertical=r.model.isVertical=!0,r.isModule=r.model.isModule=r.isOrganicModule=r.model.isOrganicModule=!1,i.preventHistoryAction||e.history.set("iar",r.nameId)));var p,u="b"===n&&null!==r.id&&this.validateRequery(DDG.history.get("iar",!0))===r.id;"e"===n&&!o||"r"===n||!r.model.allowVertical&&!r.model.allowModuleIA||!r.module||u||(r=this.tabs[r.id].module),this.tabs[t].model.allowModuleIA&&"e"===n&&e.getProperty(this,"initialTab.id")===t&&e.device.isMobile&&r.model.meta&&(r.model.meta.autoExpand=1,r.model.meta.autoExpandRows=0),p=r.model.allowModuleIA&&("e"!==n||o)?this.$topModuleWrapper:r.isVertical?this.$verticalWrapper:this.$zeroClickWrapper,"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&"maps_expanded"===r.id?i.preventHistoryAction||(e.history.clearTimeout(),this.registerOpenTypeState(t,n,i.reactReason),window.utils.history.push(window.utils.sanitizeAndUpdateExpandedMapUrl(window.utils.history.location.search,i.to||window.location.href,DDG.get_query()),{title:document.title})):r.show({openType:n,minimizeHeight:r.isModule,loadVertical:!i.autoOpened||"f"===n,appendTo:p,preventHistoryAction:i.preventHistoryAction,onBeforeSetIa:function(){this.registerOpenTypeState(t,n,i.reactReason)}.bind(this)});var m=r.id;"ia-qs-match"===i.reactReason||!r.isModule||"e"===n&&!o||this.initialTab&&r.id!==this.initialTab.id||e.pageLayout.shouldExpandToVertical(r.model.nameId)||(m="web"),e.search.set("isVertical",r.isVertical),window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createSetActiveTabAction",params:[m]}),"web"===r.id&&"e"!==n||i.skipPixel||!r.model.active&&r.module||e.openPixel.fire(r,n,a,s),this.setOrganicsVisibility(!this.tabIsActiveFullPage(r),r.id),this.isDone=!0,this.hasOpenedAtLeastOnce=!0,(i.autoOpened||i.qsOpened)&&e.modulesLayout.set("autoOpenedId",r.id)}}},reactAddTab:function(e){var t=null;if("string"==typeof e?window.serpStore&&window.serpStore.getSnapshot&&(t=window.serpStore.getSnapshot().dataById[e]):t=e,t){var i=t.data&&t.data.model&&t.data.model.id,s=t.data&&t.data.id,a=i||s||t.id,o=this.tabs[a];if(!o){var n=window.reactRenderedDataRef&&window.reactRenderedDataRef.current;if(!n)return;try{window.utils.getItemsNeedingTabLabels(n).some((function(e){return e.id===t.id}))&&t.data&&"react-module-v2"===t.data.version&&(o=this.createTab(t,{fromReactItem:!0}),this.tabs[o.id]=o,this.tabsByNameId[o.nameId]=o,o.on("close",this.open.bind(this,"web",{defaultOpened:!0})))}catch(r){}if(!o)return}return o}},reactOpen:function(t,i,s){if("default-best"!==i&&"iax-qs-match"!==i&&"ia-qs-match"!==i&&"default-web"!==i&&"extra-fallback"!==i&&"zci-image-fallback"!==i||!this.hasOpenedAtLeastOnce){var a=t;if("web"!==t){var o=this.reactAddTab(t);o&&(a=o.id)}var n={reactReason:i,to:s};switch(i){case"iax-qs-match":case"ia-qs-match":n.qsOpened=!0;break;case"zci-image-fallback":case"extra-fallback":n.is_last_resort_tab=!0;break;case"default-best":case"default-web":n.autoOpened=!0;break;case"popstate":case"link-navigation":"maps_expanded"===t&&e.history.clearTimeout();break;case"toggle-assist":if(e.history.clearTimeout(),window.utils&&window.utils.history&&window.utils.updateSearchParams){var r=n.to&&/(?:\?|&)assist=true(?:&|$)/.test(n.to)?"true":n.to&&/(?:\?|&)assist=false(?:&|$)/.test(n.to)?"false":null;"false"!==r&&this.registerOpenTypeState("wikinlp","e",i);var l=window.history.state;window.utils.history.replace("/?"+window.utils.updateSearchParams(window.location.search,{assist:r})),window.history.replaceState(l,null,window.location.pathname+window.location.search),r?e.history.curState.assist=r:delete e.history.curState.assist}return}this.open(a,n)}},createTab:function(t,s){var a;(s=s||{}).fromReactItem?a=new DDG.NoOpDuckbarTab(t.id,{fromReactItem:t}):a=!("zero-click-info-v1"===t.version||t.isZci||"static"===t.type||t.allowVertical||t.allowModuleIA||t.needsTab)&&!e.pageLayout.shouldExpandToVertical(t.nameId)?new DDG.NoOpDuckbarTab(t.id):new DDG.DuckbarTab(t.id,t);for(var o in i){var n=t[i[o]];n&&"function"==typeof n&&a.on(o,n)}return a},addTab:function(e){var i=e.signal||"low",s=this.tabs[e.id];return e.from&&(this.froms[e.from]=!0),s?t[i]>t[s.signal]&&(s.signal=i):(s=this.createTab(e),"images"===e.id&&this.addFallbackData(e),this.tabs[s.id]=s,this.tabsByNameId[s.nameId]=s,s.on("close",this.open.bind(this,"web",{defaultOpened:!0}))),"maps_expanded"===e.id||e.serviceURL||s.append(e),s},addFallbackData:function(t){this.fallbackFromNonModule=Object.assign({},t,{allowModuleIA:!1,isModule:!1,preventModule:!0,isNonModuleFallback:!0},e.device.isMobile?{isFullPage:!1,meta:{autoExpand:1}}:{})},scheduleIAOpen:function(t){var i=e.history.get("ia"),s=e.history.get("iaxm")&&"maps_expanded"===t.id;null!==t.nameId&&(t.nameId===this.validateRequery(e.hidden.get("iar"))||t.nameId===i&&("chat"===t.nameId||this.validateRequery(i)&&e.history.get("iax")===i))?this.open(t.id,{qsOpened:1}):!s||this.activeTabId&&this.getActiveTab().nameId===i||setTimeout(this.open.bind(this,t.id,{qsOpened:1}),1)},add:function(t,i,s,a,o){if(s=s||"unknown",!this.isReady)return this.addOnReady||(this.addOnReady=[]),this.addOnReady.push(arguments),null;t.activeTabOpenType=this.activeTabOpenType;var n=e.modulesLayout.addModule(t,a);if("function"==typeof i&&i(),n?window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createAddDataSuccessAction",params:[t,{fromDuckbar:!0,addSource:s,deepReqId:o,searchExperiments:window.Bootstrap.searchExperiments,answers:e.Data.answers}]}):window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createAddDataErrorAction",params:[t,"canceled",e.Data.answers,{addSource:s,deepReqId:o,searchExperiments:window.Bootstrap.searchExperiments}]}),n&&n.model&&n.model.id&&n.model.on("change:items",(function(){window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createUpdateItemCountAction",params:[n.model.id,n.model.items.length]})})),!n)return null;var r=this.addTab(n);return this.scheduleIAOpen(n),r},add_array:function(e,t){if(e)for(var i=0;i<e.length;i++)this.add(e[i],void 0,void 0,void 0,t)},add_local:function(t,i){var a=DDG.localAPI.getPlacesResponse(t),o=e.deep&&e.deep.pageLayoutSummary&&!!e.deep.pageLayoutSummary.match(/^.{0,3}([p][1-9])/);if(!a||!a.results||!a.results.length)return o&&(this.mapsPlacesTimer.hasLocalTriggered=!0,e.pixel.fire("lclf",{timer:DDG.get_now()-s})),this.failed("maps_places");if("b"!==window.Bootstrap.searchExperiments.getActiveVariant("mapsexp")){var n=1===a.results.length,r={name:"Places",id:"maps_places",pixelId:n?"maps_places_single":"maps_places_multiple",allowMultipleCalls:!0,data:a.results,signal:a.signal,proximity:a.proximity,local_source:a.local_source,geoip:a.geoip,obfusLoc:a.obfusLoc,distance:a.distance,biz_score:a.biz_score,location_string:a.location_string,cat_score:a.cat_score,chain_score:a.chain_score,delta:a.delta,isSingle:n,matches_location:a.matches_location,review_count:a.review_count,trigger_count:a.trigger_count,wiki_entity:a.wiki_entity,sourceName:a.sourceName,sourceId:a.sourceId,sourceUrl:a.sourceUrl,query_special_symbols:a.query_special_symbols,places_filtered:a.places_filtered,placesMultipleLayout:a.places_multiple_layout,meta:{idField:"itemId",developer:[{name:"DDG Team"}],signal_from:"maps_places"}};this.add(r,void 0,void 0,void 0,i);var l=this.modulesLayoutView&&this.modulesLayoutView.model&&!!this.modulesLayoutView.model.isTopModule("maps_places"),d=a.signal&&"high"===a.signal;(o||l&&d)&&(this.mapsPlacesTimer.hasLocalTriggered=!0,e.pixel.fire("lclt",{timer:DDG.get_now()-s}))}else window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createAddDataSuccessAction",params:[{id:"maps_places",from:"maps_places",data:t},{fromDuckbar:!1,searchExperiments:window.Bootstrap.searchExperiments,answers:e.Data.answers}]})},add_directions:function(t,i){var s=e.localAPI.getDirectionsResponse(t);if(!s||!s.results||!s.results.length)return this.failed("directions");this.add({id:"directions",data:s.results},void 0,void 0,void 0,i)},failed:function(t,i){var s=(new Date).getTime(),a=e.page&&e.page.serpStore&&e.page.serpStore.getSnapshot(),o=!1;if(a&&a.dataById){var n=a.dataById[t];n&&(o=!n.isAdding&&!n.hasTimedOut&&!n.error)}return o||(this.failedIA[t]=s,this.tabs[t]&&this.tabs[t].failed()),window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createAddDataErrorAction",params:[{id:t},!i||!i.error||i.error,e.Data.answers,{searchExperiments:window.Bootstrap.searchExperiments}]}),!1},future_signal_tab:function(i,s,o,n){i&&i.from&&(a[i.from]||("high"===i.signal&&"maps_places"===i.from&&(e.duckbar.mapsPlacesTimer.hasHighSignal=!0),e.modulesLayout.canAddSignal(i)&&(DDG.search&&DDG.search.isNavigational&&"news"===i.from&&this.tabs&&this.tabs.news||(i.signal||(i.signal="high"),i.timeout?i.timeout=parseInt(i.timeout,10):i.timeout="high"===i.signal?3e3:1500,i.now=DDG.get_now(),this.failedIA[i.from]||(window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createAddDataStartAction",params:[i,{signalSource:o||"unknown",deepReqId:n,answers:e.Data.answers,searchExperiments:window.Bootstrap.searchExperiments}]}),"maps_places"===i.from&&i.hasInfoSelector&&(i.from+="_snippet"),this.futureSignals.push(i),this.futureSignalsById[i.from]=i.signal,this.futureSignals=this.futureSignals.sort((function(e,i){return t[e.signal]>t[i.signal]?-1:1})))))))},removeFutureSignal:function(e){this.futureSignals=this.futureSignals.filter((function(t){return t.from!==e}))},getNameId:function(t){var i=e.strip_non_alpha(t.toLowerCase());return"all"!==i?i:"web"},loadAnswer:function(e,t,i,s){var a=this.tabs[e],o={keepServiceURL:!0};this.loadModule(e,t,o,i,s),a&&!a.model.noModuleItems&&a.loadContent(t,o)},load:function(e,t,i,s){return i=i||"unknown",this.loadAnswer(e,t,i,s)},loadModule:function(t,i,s,o,n){if(o=o||"unknown",!a[t]){var r=e.Data.answers.getById(t);if(r&&0!==Object.keys(r).length)i&&void 0!==i.belowAds&&(r.belowAds=i.belowAds),i&&i.results||"function"!=typeof r.load?this.add(r,(function(){e.modulesLayout.loadContent(t,i,s||{})}),o,i,n):r.load(function(e){this.add(Object.assign(r,{data:e}),null,o,e,n)}.bind(this),i,s)}},disinformationExperiment:function(t,i){this.disinfoExp=new e.Models.DisInfoExp(t),this.loadModule("infobox",{results:t},{},void 0,i);var s=e.searchExperiments.getActiveVariant("infoboxexp"),a=["d","f","h"].includes(s);"j"===s?(this.futureSignals=[],this.future_signal_tab({from:"news",signal:"high"},void 0,void 0,i)):a||this.removeFutureSignal("disinformation_label")},resetActiveTab:function(){var t=e.duckbar.activeTabId;e.getProperty(this,"initialTab.id")===t&&e.getProperty(this,"tabs."+t+".isModule")&&(t="web")},_openNext:function(t){if(!e.keyboard.namespaced(/^autocomplete|modal$/)&&!e.keyboard.focusedOnInput()){var i=this.getActiveTab();!i||i.model.selectedItem}},_toggleExpandedMap:function(t){if("b"!==window.Bootstrap.searchExperiments.getActiveVariant("localexp")){t=t||{};var i=this.tabs.maps_expanded;i.expandedMap||(i.expandedMap=new e.Views.Verticals.VerticalMap({answer:t.model,directionsModel:t.directionsModel,isDirections:t.isDirections,appendTo:"body"}));var s=e.getProperty(this,"tabs.products.model");s&&s.emit("metabar-reset"),i.expandedMap.toggleExpandedMap(t)}},validateRequery:function(e){return window.Bootstrap.validateRequery(e)},prepareConvertedSpicesHooks:function(){var t=e.Data.answers.convertedFromSpice();Object.keys(t).forEach((function(i){window["ddg_spice_"+i]=function(s){var a=t[i].id,o=t[i].name,n=t[i].from;if(null==s)return e.duckbar.failed(n||i);window.DDH.add({id:a,name:o,data:s,signal:s.signal,pixelId:a,convertedFromSpice:!0})}}))},registerOpenTypeState:function(e,t,i){"popstate"===i&&(t="b"),this.openTypeState.activeTabId=e,this.openTypeState.activeReason=i||null,this.openTypeState.byId[e]?this.openTypeState.byId[e].last=t:this.openTypeState.byId[e]={first:t,last:t,timeFirstOpened:Date.now()}},loadTabModelData:function(e){var t=this.tabs[e];t&&t.model&&t.model.allowVertical&&t.module&&(t=t.module),t&&t.model&&"static"===t.type&&0===t.numItems()&&!t.model.waitingForItems&&(t.model.waitingForItems=!0,t.model.emit("load"))}})}(DDG),function(e){e.DuckbarTab=function(t,i){-1!==["videos","images"].indexOf(i.id)&&e.modulesLayout.getModule(i.id)&&!i.preventModule?this.model=e.modulesLayout.getModule(i.id).model:i.answerType&&e.Models.Answers[i.answerType]?i.isZci&&i.model?this.model=i.model:this.model=new e.Models.Answers[i.answerType](i):i.isZci&&i.model?this.model=i.model:this.model=new e.Models.Answer(i),this.id=this.model.id,this.name=this.model.name,this.nameId=this.model.nameId,this.type=this.model.type,this.signal=this.model.signal,this.pixelId=this.model.pixelId,this.from=this.model.from,this.isModule=this.model.isModule,this.isSideModule=this.model.isSideModule,this.isNonModuleFallback=i.isNonModuleFallback,this.isZci=i.isZci,this.timeAdded=(new Date).getTime(),this.items=this.model.items,this.model.isFullPage&&(this.model.isRequery=e.hidden.get("iar")===this.nameId&&!e.history.get("iax"),this.model.expanded=e.hidden.get("iar")===this.nameId),(i.allowVertical||i.allowModuleIA)&&(this.module=new DDG.NoOpDuckbarTab(t))},e.DuckbarTab.prototype=$.extend({},EventEmitter2.prototype,{append:function(t){t&&(this.model.active&&this.model.items.length&&e.history.get("iaf")||(this.model.meta.update(t.meta),t.data=$.isArray(t.data)?t.data:[t.data||t],this.model.addItems(t.data,t.ads)))},numItems:function(){return this.model.items.length},show:function(t){if(t=t||{},!this.model.active&&(this.$parent=t.appendTo,"web"===this.id||this.view||this._createView()))if(this.model.set("openType",t&&t.openType),t.loadVertical&&(DDG.deep.isBingV7()&&"r"==t.openType?this.model.on("load",this._onLoadedFromDeep.bind(this)):this.model.load()),this.emit("show"),!this.isSideModule||this.model.isFullPage){this.model.set("active",1),t.preventHistoryAction||e.history.clear("iac"),this._stashedHistory&&(t.preventHistoryAction||e.history.set(this._stashedHistory),delete this._stashedHistory),this._stashedHidden&&(e.hidden.set("iaf",this._stashedHidden),delete this._stashedHidden),t&&t.onBeforeSetIa&&t.onBeforeSetIa(),t.preventHistoryAction||e.history.set({ia:this.nameId});var i=e.Data.answers.getById(this.id);i&&"function"==typeof i.onShow&&i.onShow(this)}else this.view&&this.view.show&&this.view.show()},hide:function(t){t=t||{},this.model.active&&(this.isSideModule||(this._stashedHistory=e.history.getNamespace("ia"),t.preventHistoryAction||e.history.clearNamespace("ia"),e.hidden.get("iaf")&&(this._stashedHidden=e.hidden.get("iaf"),e.hidden.clear("iaf"))),this.model.set("active"),this.emit("hide"))},getHeight:function(e){return this.view&&this.view.getHeight&&this.view.getHeight(e)},destroyView:function(){this.view&&(this.view.destroy&&this.view.destroy(),delete this.view),this.model.set("active")},failed:function(){this.model.set("failed",!0)},loadContent:function(t,i){i=i||{},t&&t.results&&("news"===this.id&&(this.model.initialLoad=!0,e.search.spelling&&(this.model.spellingCorrected=!0,this.model.queryEncoded=e.search.spelling.parsedQuery,this.model.vqd=e.search.spelling.suggestionVqd)),this.model.addItems(t.results,i)),this.model.emit("load")},_createView:function(){var t,i=new e.Utils.TabViewBuilder;return this.$parent&&(t=this.$parent.get?this.$parent.get(0):this.$parent),t&&"zero_click_wrapper"===t.id&&this.isZci&&!this.isNonModuleFallback?{destroy:function(){}}:(this.view=i.build({model:this.model,appendTo:this.$parent,events:{close:this.emit.bind(this,"close"),"item-selected":this.emit.bind(this,"item-selected"),"item-unselected":this.emit.bind(this,"item-unselected"),"item-shown":this.emit.bind(this,"item-shown")}}),!!this.view)},_onLoadedFromDeep:function(){this.model.load()}})}(DDG),function(e){e.NoOpDuckbarTab=function(t,i){if((i=i||{}).fromReactItem){this._fromReactItem=!0;var s=i.fromReactItem,a=window.Bootstrap.searchExperiments,o=window.utils.getNameId;this.id=s.id,this.type="react-tab-shim";var n={id:s.id,type:"react-tab-shim",name:s.getName({searchExperiments:a}),nameId:o(s.getName({searchExperiments:a})),pixelId:s.getPixelId({searchExperiments:a})},r=new DDG.Models.Answers.ReactAnswer(n);Object.defineProperty(this,"name",{get:function(){var e=null;return window.serpStore&&window.serpStore.getSnapshot&&(e=window.serpStore.getSnapshot().dataById[n.id]),e?e.getName({searchExperiments:a}):n.name},enumerable:!0,configurable:!0}),Object.defineProperty(this,"nameId",{get:function(){var e=null;return window.serpStore&&window.serpStore.getSnapshot&&(e=window.serpStore.getSnapshot().dataById[n.id]),e?o(e.getName({searchExperiments:a})):n.nameId},enumerable:!0,configurable:!0}),Object.defineProperty(this,"pixelId",{get:function(){var e=null;return window.serpStore&&window.serpStore.getSnapshot&&(e=window.serpStore.getSnapshot().dataById[n.id]),e?e.getPixelId({searchExperiments:a}):n.pixelId},enumerable:!0,configurable:!0}),["name","nameId","pixelId"].forEach((function(e){var t=Object.getOwnPropertyDescriptor(this,e);Object.defineProperty(r,e,t)}),this),r.getPixelData=function(){var i=null;return window.serpStore&&window.serpStore.getSnapshot&&(i=window.serpStore.getSnapshot().dataById[t]),i?i.getPixelData({searchExperiments:a,settings:e.settings}):{}},this.model=r,this.timeAdded=Date.now(),this.items=this.model.items}else this.model=e.modulesLayout.getModule(t).model,this.id=t,this.name=this.model.name,this.nameId=this.model.nameId,this.type=this.model.type,this.signal=this.model.signal,this.pixelId=this.model.pixelId,this.from=this.model.from,this.isModule=this.model.isModule,this.isSideModule=this.model.isSideModule,this.timeAdded=(new Date).getTime(),this.items=this.model.items},e.NoOpDuckbarTab.prototype=$.extend({},EventEmitter2.prototype,{append:function(e){},numItems:function(){return this.model.items.length},show:function(t){if(t=t||{},this._fromReactItem||(e.modulesLayout.setOpenType(this.id,t.openType),"i"!==t.openType&&"q"!==t.openType||e.modulesLayout.setDefaultTopModule(this.id)),this._stashedHistory&&(t.preventHistoryAction||e.history.set(this._stashedHistory),delete this._stashedHistory),t&&t.onBeforeSetIa&&t.onBeforeSetIa(),t.preventHistoryAction||e.history.set({ia:this.nameId}),!this._fromReactItem){var i=e.Data.answers.getById(this.id);i&&"function"==typeof i.onShow&&i.onShow(this)}},hide:function(t){t=t||{},this._stashedHistory=e.history.getNamespace("ia"),t.preventHistoryAction||e.history.clearNamespace("ia"),e.hidden.get("iaf")&&(this._stashedHidden=e.hidden.get("iaf"),e.hidden.clear("iaf"))},getHeight:function(e){},destroyView:function(){},failed:function(){this._fromReactItem||this.model.set("failed",!0)}})}(DDG),function(e){var t=e.Models.AnswerSelectLists,i=e.Models.SelectList;t.Parameter=function(e){i.call(this,e)},t.Parameter.prototype=$.extend({},i.prototype,{serialize:function(){return this.selected&&this.selected.id&&!this.disabled?this.key+":"+this.selected.id:""}})}(DDG),function(e){var t=e.Models.AnswerSelectLists,i=e.Models.SelectList;t.Source=function(e){e.key="src",i.call(this,e)},t.Source.prototype=$.extend({},i.prototype,{getParameterQueryString:function(){if(!this.parameters)return"";var e="";return"local"===this.selected.id?e+=this.parameters.map((function(e){return e.key+"="+e.selected.id})).join("&"):(e="f=",e+=this.parameters.map((function(e){return e.serialize()})).join(",")),e},hasActiveFilters:function(){return this.parameters&&this.parameters.some((function(e){return e.selected&&e.selected.id}))},getRequeryURL:function(t){var i=this.selected.requeryURL;return"function"==typeof i&&(i=i()),-1===(i+=("local"===this.selected.id&&t&&t.queryParsed?t.queryParsed.what:t&&t.query?t.query:e.get_query_encoded())+"&vqd="+(t&&t.vqd||window.vqd)).indexOf("?")?i+="?":i+="&",i+=this.getParameterQueryString(),t&&(delete t.query,delete t.vqd),$.isEmptyObject(t)||(i+="&"+$.param(t)),i}})}(DDG),function(e){var t=e.Models.AnswerSelectLists,i=e.Models.SelectList;t.DirectionSource=function(t){(t=t||{}).values=this._getSources(),t.selectedId=e.settings.get("kam"),i.call(this,t),e.settings.on("change:kam",this.select.bind(this))},t.DirectionSource.prototype=$.extend({},i.prototype,{_getSources:function(){var e=DDG.Data.Settings.directionSources;return Object.keys(e).map((function(t){return $.extend({},e[t],{id:t})}))},_createURLForLocation:function(e,t){var i;return e&&t&&t.address&&t.lat&&t.lon&&(i=(i=(i=(i=e).replace(/\{\{addr\}\}/g,t.address)).replace(/\{\{lat\}\}/g,t.lat)).replace(/\{\{lng\}\}/g,t.lon)),i},getDirectionsURL:function(e){return this.selected?this._createURLForLocation(this.selected.directionsURL,e):""},getMapURL:function(e){return this.selected?this._createURLForLocation(this.selected.mapURL,e):""},getMapTitleText:function(){var e=this.selected.name;return lp("open_in_third_party_app","Open in %s",e)},getSourcesForLocation:function(e){return this._getSources().map(function(t){var i=this._createURLForLocation(t.mapURL,e);return{id:t.id,name:t.name,mapURL:this._createURLForLocation(t.mapURL,e),directionsURL:this._createURLForLocation(t.directionsURL,e),faviconURL:t.faviconURL||i}}.bind(this))},getNonDefaultSourcesForLocation:function(e){return this.getSourcesForLocation(e).filter(function(e){return!this.selected||e.id!==this.selected.id}.bind(this))}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Maps=function(e){t.call(this,e)},e.Models.Answers.Maps.prototype=$.extend({},t.prototype,{answerItemModel:"MapLocation",addItems:function(e){t.prototype.addItems.call(this,e),this.items.length&&!this.selectedItem&&"MapLocation"===this.answerItemModel&&this.items[0].select()}})}(DDG),function(e){var t=e.Models.Answer,i={bing:[],you:[]},s="bing",a=!1,o="bing",n="",r=null;e.Models.Answers.News=function(i){t.call(this,i),this.linkSeparator=!e.device.isMobile,this.model&&this.bindEvents([[this.model,"load",this._load],[e.pageLayout,"getModuleData",this._onGetModuleData]])},e.Models.Answers.News.prototype=$.extend({},t.prototype,{answerItemModel:"News",_load:function(){!this.items.length&&this.model.waitingForItems&&this.model.load()},load:function(){this.isVertical?(this.setPreferredNewsSource("bing"),this.setDisplayedNewsSource("bing"),t.prototype.load.call(this)):t.prototype.load.call(this,2e3,function(e,t){e?this.onLoadError():t&&t.query_category&&(n=t.query_category)}.bind(this))},onLoadError:function(){this.showPlaceholder=!1,this.switchToSource("bing",{})},switchToSource:function(e,s){return o=e,this.items=[],this.itemsById={},this.setAttribution(e),t.prototype.addItems.call(this,i[e],s)},setAttribution:function(e){"you"===e?(this.sourceUrl="https://api.you.com",this.sourceName="you.com",this.openLinkTag='<a href="'+this.sourceUrl+'">',this.closeLinkTag="</a>"):(this.sourceUrl="",this.sourceName="",this.openLinkTag="",this.closeLinkTag="")},setPreferredNewsSource:function(e){e&&(s=e)},setYouStronglyPreferred:function(e){a=e},getPreferredNewsSource:function(){return s||"bing"},setDisplayedNewsSource:function(e){e&&(o=e)},getDisplayedNewsSource:function(){return o},getQueryCategory:function(){return n},addItems:function(n,r){if(e.searchExperiments.isActive("you_news_high_conf_exp")||e.searchExperiments.isActive("you_news_low_conf_exp")||(a?e.searchExperiments.assign("you_news_high_conf_exp",{postEnrollment:function(){return Math.random()<.01?"a":"b"}}):"you"===s&&e.searchExperiments.assign("you_news_low_conf_exp")),!("b"===e.searchExperiments.getAssignedVariant("you_news_high_conf_exp")||"b"===e.searchExperiments.getAssignedVariant("you_news_low_conf_exp")))return t.prototype.addItems.call(this,n,r);if(!r.fromDeep){this.showPlaceholder=!1;var l=n.length&&(n[0].syndicate||"").toLowerCase();return l?(i[l]=i[l].concat(n),"you"===l&&i.you.length<3&&i.bing.length>i.you.length?this.switchToSource("bing",r):l!==o?this.switchToSource(l):t.prototype.addItems.call(this,n,r)):this.switchToSource("bing",r)}o="you",this.setAttribution("you"),i.bing=n,this.items=[],this.itemsById={},this.showPlaceholder=!0},usePageQuery:function(i){return"you"===this.serviceUpstream()&&e.search.spelling?i+encodeURIComponent(e.search.spelling.parsedQuery)+"&vqd="+e.search.spelling.suggestionVqd:t.prototype.usePageQuery.call(this,i)},_onGetModuleData:function(t){t.module&&"news"===t.module&&!this.items.length&&(this.model.manuallyLoaded=!0,this.model.load(),this.model.waitingForItems=!0,t.signal&&e.duckbar.future_signal_tab({signal:"high",from:"news"}))},serviceUpstream:function(){return this.isVertical?"bing":s||"bing"},clickedExternalLink:function(i,s,a){try{var n=new URL(a).hostname;i.hostname=n;var l=this.items.find((function(e){return e.url===a}));l&&(i.source=l.source,i.age="d"===l.relativeTimeShort.slice(-1)?l.relativeTimeShort.slice(0,-1):0,i.ageInHours="h"===l.relativeTimeShort.slice(-1)?l.relativeTimeShort.slice(0,-1):i.age?"na":0,i.numDisplayedArticles=this.items.length);var d=this.getQueryCategory();d&&(i.queryCategory=d),"you"===o&&r&&e.pixel.fire("news_article_clicked",{request_id:r,position:this.items.findIndex((function(e){return e.url===a}))})}catch(c){}return t.prototype.clickedExternalLink.call(this,i,s,a)},_setFailed:function(){this.set("failed",!0),Spice.failed(this.pixelId)},_filterOutOldArticles:function(e){this.resultNum=e.results.length,this.isVertical||(e.results=$.grep(e.results,(function(e){return!e.is_old}))),this.filteredNum=this.resultNum-e.results.length},_onLoad:function(i){i&&i.results&&(i=$.extend({},i,!0),e.searchExperiments.isActive("you_news_high_conf_exp")||e.searchExperiments.isActive("you_news_low_conf_exp")||this._filterOutOldArticles(i),i.you_id&&(r=i.you_id));t.prototype._onLoad.call(this,i),"news"!==this.id||"e"!==this.openType&&"r"!==this.openType||e.pixel.fire("nv",{o:this.openType,p:e.page&&e.page.showingSpelling?1:0,t:e.get_query().match(/\"/)?1:0,l:this.items.length,r0:0===this.items.length?1:0,r1:this.items.length<3?1:0,r2:this.items.length<5?1:0,r3:this.items.length<10?1:0})}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.About=function(e){t.call(this,e)},e.Models.Answers.About.prototype=$.extend({},t.prototype,{hasContentHeight:function(){var e=this.items&&this.items[0];return e&&e.hasPredictableExpandableContent()}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Forecast=function(e){t.call(this,e)},e.Models.Answers.Forecast.prototype=$.extend({},t.prototype)}(DDG),function(e){var t=e.Models.Answer,i=e.device.isMobile?2:8;e.Models.Answers.Images=function(e){e.detailScrollOffset=40,e.tileMarginBottom=59,t.call(this,e)},e.Models.Answers.Images.prototype=$.extend({},t.prototype,{getModuleRow:function(t,s,a){for(var o=[],n={},r=0,l=t=t||0;l<this.items.length&&this.items[l];l++){(n=this.items[l]).rq=rq,n.kurl=kurl||"";var d=n.width<=n.height,c=n.width/n.height;n.scaledHeight=a-i,n.divHeight=n.scaledHeight,n.scaledWidth=Math.floor(n.scaledHeight*c),n.divWidth=d?n.scaledWidth:2*n.scaledWidth/3,r+=n.divWidth;var h=n.answerMeta&&n.answerMeta.signal_from?n.answerMeta.signal_from:"images",p={token:n.thumbnail_token,origin:h};if(DDG.deep.isBingV7()){var u=n.thumbnail+"&h=160";n.moduleThumbnail=e.getImageProxyURL(u,p)}else n.moduleThumbnail=e.getImageProxyURL(n.thumbnail,$.extend({height:160},p));if(o.push(n),r>s)break}var m=i*(o.length-1),_=s-(r+m),f=Math.ceil(_/o.length);for(r=0,l=0;l<o.length;l++)(n=o[l]).divWidth+=f,n.divWidth>n.scaledWidth&&(n.divWidth=n.scaledWidth),n.divWidth=Math.max(n.divWidth,10),r+=n.divWidth,n.lastOfRow=l===o.length-1;return _=s-(r+m),n.scaledWidth>n.divWidth+_&&(n.divWidth+=_),o},isAutoLoadingImages:function(e){return"q"===e&&!1!==this.expanded&&this.isModule}})}(DDG),function(e){var t=e.Models.Answer,i=["streetaddress","hours","phone"];e.Models.Answers.Places=function(e){t.call(this,e),this.proximity&&!this.isSingle&&"b"===DDG.searchExperiments.getActiveVariant("locstr_exp")&&(DDG.userLocator.hasLocation()?(this.location_info=DDG.userLocator.userLocation.desc,this.pul=!0):(this.location_info=this.location_string,this.pul=!1)),this.staticMapTitle=this._getStaticMapTitle(),this.moreAtExternalServiceText=this._getMoreAtExternalServiceText(),this.infoSelector=this._getInfoSelector(this.query_special_symbols),this.isFunctionalLayout="functional"===this.placesMultipleLayout,this.on("change:expanded",this._togglePrimaryPlace)},e.Models.Answers.Places.prototype=$.extend({},t.prototype,{addItems:function(e){t.prototype.addItems.call(this,e),this.items&&this.items.length>0&&(this.primaryPlace=this.items[0],this.topPlaces=this.items.slice(0,3),this.topPlaces=this.topPlaces.map(function(e){return e.set("isSideModule",this.isSideModule),e}.bind(this)),this.isSingle=1===this.items.length,this.set("isMoreAtVisible",!this.isSingle),this.canExpand=!this.isSideModule&&this.isSingle&&this.primaryPlace&&$.isFunction(this.primaryPlace.isExpandable)&&this.primaryPlace.isExpandable())},isExpandable:function(){return this.canExpand},toggleExpand:function(){this.set("expanded",!this.expanded)},_togglePrimaryPlace:function(){this.primaryPlace&&this.primaryPlace.toggleExpand()},_getStaticMapTitle:function(){return lp("maps_places","Open Expanded Map")},_getMoreAtExternalServiceText:function(){var e=this.sourceName;return l("More at %s ",e)},_getInfoSelector:function(e){return $.isArray(e)&&e.filter((function(e){return-1!==i.indexOf(e)})).sort((function(e,t){return i.indexOf(e)-i.indexOf(t)}))[0]||""}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.AdsCarousel=function(i){t.call(this,i),this.on("change:position",this._onUpdatePosition.bind(this)),(i.hasCarouselFeedbackReporting||i.hasHoverFeedbackReporting||i.hasShoppingMobileFeedbackReporting)&&(this.adReporting=new e.Models.AdReporting,"images"===this.inVertical&&(this.adReporting.isImageVerticalProductAds=!0),this.visibility=this.adReporting.createEmptyVisibilityObject())},e.Models.Answers.AdsCarousel.prototype=$.extend({},t.prototype,{reportProductAdVisibility:function(e,t,i){var s=[];return t.forEach(function(t){if(t.model.tid){var i=t.model.tid;if(!this._hasTid(this.visibility[e].visible,i)){var a={tid:i,visibleExtensions:this._getExtensions(t.model)};this.visibility[e].visible.push(a),s.push(i)}var o=this.visibility[e].hidden.findIndex((function(e){return e.tid===i}));-1!==o&&this.visibility[e].hidden.splice(o,1)}}.bind(this)),i&&i.forEach(function(t){var i=this._hasTid(this.visibility[e].hidden,t.model.tid),s=this._hasTid(this.visibility[e].visible,t.model.tid);if(t.model.tid&&!i&&!s){var a={tid:t.model.tid,visibleExtensions:this._getExtensions(t.model)};this.visibility[e].hidden.push(a)}}.bind(this)),s},_hasTid:function(e,t){return-1!==e.findIndex((function(e){return e.tid===t}))},_getExtensions:function(e){return Array.isArray(e.extensions)&&e.extensions&&e.extensions.length>0?e.extensions.map((function(e){return e.tid})):"object"==typeof e.extensions?Object.keys(e.extensions).map((function(t){return e.extensions[t].tid})):[]},clickedExternalLink:function(e,i){if(!i||!i.target)return t.prototype.clickedExternalLink.call(this,e);var s=$(i.target),a=$(i.target.parentElement);s.hasClass("tile__media")?e.clk="i":a.hasClass("tile__title--brand")?e.clk="b":a.hasClass("tile__title")?e.clk="d":e.clk="o",this.emit("clicked-external-link"),t.prototype.clickedExternalLink.call(this,e)},_hasInitializedImpressionFeedback:!1,_onUpdatePosition:function(){if(!e.device.isMobile&&this.position===e.Models.ModulesPositions.SIDE&&this.bing){var t=e.getProperty(this,"layout.columns")||3;this.gridColumns=t&&Math.min(t,3),!this.items||2!=this.items.length&&4!=this.items.length||(this.gridColumns=2),this.gridColumns&&!0===e.pageLayout.isFirstValidSidebarItem(this.id)&&(this.isSlottedFirst=1)}}})}(DDG),function(e){var t=e.Models.Answers.AdsCarousel,i={Price:!0,SortBy:!0};e.Models.Answers.Products=function(i){i.isAffiliate=1,i.bing="Bing"===i.meta.sourceName,i.hasHiddenVertical=i.meta.hidden,i.canShowSidebarFilters=i.hasSidebarFilters&&!e.device.isMobile,i.isProducts=!0,i.isSvExperiment=e.Utils.Answer.isSvImageExperimentActive(),i.svImageExperimentClassName=this._getSvImageExperimentClassName(),i.bing&&(i.meta.idField="url"),t.call(this,i),this.on("change:expanded",this._onExpandedChanged.bind(this)),this._unsentHoveredItems=[]},e.Models.Answers.Products.prototype=$.extend({},t.prototype,{answerType:"Products",answerItemModel:"Product",extraLoadRequestParameters:function(){var t="";return e.extension.isInstalled()&&(t+="&ext=1"),""!==window.ra&&(t+="&a="+window.ra),window.shrl&&(t+="&mkt="+window.shrl),t},setExploreByItemClicked:function(e){this._exploreByItemClickedIURL=e},isFreeListings:function(){return!!e.getProperty(this,"items.0.free_listing")},_onExpandedChanged:function(){if(1===this.expanded&&this.bing&&!this._hasInitializedImpressionFeedback){var e=function(){this.adReporting.sendShoppingHoverVisibility({beacon:!1,unsentHoveredItems:this._unsentHoveredItems,exploreByItemClickedIURL:this._exploreByItemClickedIURL||!1}),this._resetSentValues()}.bind(this),t=function(){this.adReporting.sendShoppingHoverVisibility({beacon:!0,unsentHoveredItems:this._unsentHoveredItems,exploreByItemClickedIURL:this._exploreByItemClickedIURL||!1}),this._resetSentValues()}.bind(this);this.on("change:highlightedItem",this._reportShoppingItemHovered.bind(this)),this.on("clicked-external-link",e),this.on("change:isLoading",(function(t){t&&e()})),this.on("change:isRequerying",(function(t){t&&e()})),this.on("added-items",function(){1===this.expanded&&(this.adReporting.sendShoppingImpressions(this.items,this.inVerticalCarouselVisibility),delete this.inVerticalCarouselVisibility)}.bind(this)),this.on("change:active",e),$(window).on("beforeunload",t),setTimeout(e,33e5),this.on("clicked-explore-by-item",e),this._hasInitializedImpressionFeedback=!0,this._setupEBIExperiments()}},_onRequery:function(e){this._resetFreeListingsState(),t.prototype._onRequery.call(this,e)},_setupEBIExperiments:function(){for(var t=["related","related_click","related_done","related_requery"],i=0;i<t.length;i++){var s=t[i];if(e.searchExperiments&&e.searchExperiments.isActive(s)){this._currentActiveExperimentGroup=e.searchExperiments.getActiveVariant(s),"related"===s?(this._nextRequeryExperiment="related_requery",this._nextEBIClickExperiment="related_click"):(this._nextRequeryExperiment="related_done",this._nextEBIClickExperiment="related_done");break}}e.hidden.set(this._nextRequeryExperiment,this._currentActiveExperimentGroup)},_appendCarouselAdsFlagToFilters:function(e){return e.map((function(e){for(var t in e){e[t].forEach((function(e){e.url&&(e.url=e.url.replace("m.js?","m.js?show_carousel_ads=1&"))}))}return e}))},_addResponseToAnswer:function(s){if(this.bing&&s&&s.feedback&&this.adReporting.setEndpoint("shoppingVertical",{impression:s.feedback.impression,visibility:s.feedback.visibility}),e.device.isMobile&&s.ads&&s.ads.results&&s.ads.results.length>0&&delete this.meta.MetabarContentView,s.filters&&s.filters.length>0){if(s.sort_options){var a={};a[lp("shopping_vertical","Sort by")]=s.sort_options,s.filters.unshift(a)}"b"!==e.searchExperiments.getActiveVariant("svpadexp")&&"b"!==e.searchExperiments.getActiveVariant("svpamexp")||(s.filters=this._appendCarouselAdsFlagToFilters(s.filters));var o=s.filters.map(function(e){var t=Object.keys(e)[0],s=e[t],a=s.filter((function(e){return e.is_selected})).map((function(e){return e.url})),o=this._filterNameToType(t),n=[{id:"",name:t,isHeader:!0}];return{key:t,pixelName:this._formatKeyPixelName(t),header:t,type:o,selectedId:a.length>1&&a||a[0]||!1,values:n.concat(s.map((function(e){return{id:e.url,name:e.display_text}}))),singleChoice:!!i[o],bing:!0}}.bind(this));o=o.map((function(t){return new e.Models.AnswerSelectLists.Parameter(t)})),this.set("parameters",o)}var n=!e.settings.isDefault("kn");if(this.hasExploreByItemsEnabled&&s.explore_by_items&&s.explore_by_items.length>0){var r="&iar=shopping&"+this._nextEBIClickExperiment+"="+this._currentActiveExperimentGroup;this.set("exploreByItems",s.explore_by_items.map((function(e){var t=e.url.match(/(iurl\=)([^&]+)/),i=t&&t[2],s=e.text;try{s=decodeURIComponent(s)}catch(a){}return{text:s,openInNewTab:n,clickUrl:"https://"+window.location.host+"/?q="+encodeURIComponent(e.text)+r,iurl:i}})))}s.results&&s.results.length>0?(t.prototype._updateMetaFromResponse.call(this,s),this._addAds(s,s.feedback&&s.feedback.visibility),this._addFreeListings(s)):t.prototype._addResponseToAnswer.call(this,s)},_getAds:function(e){var t={beforeFreeListings:[],afterFreeListings:[]},i=!1;return e.forEach((function(e){e.free_listing?i=!0:t[i?"afterFreeListings":"beforeFreeListings"].push(e)})),t},_addAds:function(e,i){var s=this._getAds(e.results);if(this.hasRenderedFreeListings)(s.beforeFreeListings.length>0||s.afterFreeListings.length>0)&&this._reportWronglyOutputtedAds([].concat(s.beforeFreeListings,s.afterFreeListings));else if(s.afterFreeListings.length>0&&this._reportWronglyOutputtedAds(s.afterFreeListings),s.beforeFreeListings.length>0){var a=s.beforeFreeListings;i&&(a=a.map((function(e){return e.visibilityUrl=i,e}))),t.prototype._addItemsFromResponse.call(this,$.extend({},e,{results:a})),this.set("hasRenderedAds",!0)}},_reportWronglyOutputtedAds:function(t){var i=t.map((function(e){return e.tid}));e.pixel.fire("adreporting.shopping-ads-wrongly-outputted",{tids:i.join(",")}),this.emit("ads-wrongly-after-free-listings")},_addFreeListings:function(e){var i=e.results.filter((function(e){return e.free_listing}));i.length>0&&(this.hasRenderedAds&&!this.hasRenderedFreeListingsDivider&&this.set("hasRenderedFreeListingsDivider",!0),t.prototype._addItemsFromResponse.call(this,$.extend({},e,{results:i})),this.set("hasRenderedFreeListings",!0))},_resetFreeListingsState:function(){this.set("hasRenderedAds",!1),this.set("hasRenderedFreeListings",!1),this.set("hasRenderedFreeListingsDivider",!1),this.set("hasScrolledPastFreeListings",!1)},_exploreByItemClickedIURL:!1,_resetSentValues:function(){this._unsentHoveredItems=[],this._exploreByItemClickedIURL=!1},_reportShoppingItemHovered:function(t){var i=t||this.highlightedItem;!i||i.free_listing||i.hasHovered||e.device.isMobileDevice||(Math.random()>.5?this._unsentHoveredItems.push(i):this._unsentHoveredItems.unshift(i),i.hasHovered=!0)},_filterNameToType:function(e){var t="Price",i="Color",s="Size";if(e===lp("shopping_vertical","Sort by"))return"SortBy";var a={AT:{Preis:t},AU:{Price:t,Colour:i,Size:s},CA:{Price:t,Color:i,Size:s},CH:{Preis:t},DE:{Preis:t,"Größe":s},DK:{Pris:t},ES:{Precio:t},FI:{Hinta:t},FR:{Prix:t,Taille:s},GB:{Price:t,Colour:i,Size:s},IE:{Price:t,Colour:i,Size:s},IN:{Price:t,Colour:i,Size:s},IT:{Prezzo:t},NL:{Prijs:t},NO:{Pris:t},SE:{Pris:t},US:{Price:t,Color:i,Size:s}};return a[window.ct]&&a[window.ct][e]||!1},_formatKeyPixelName:function(e){return"sv_"+e.replace(" ","-").toLowerCase()},shouldShowProductsCarouselAdExtensions:function(){return"images"===this.inVertical&&!e.device.isMobile||!this.inVertical},shouldShowSeeMoreCardOverride:function(){var e=!this.meta.hidden,t="images"===this.inVertical||!this.inVertical;return!this.isSideModule&&t&&e},shouldShowPreviewOverride:function(){return!this.isSideModule},_getSvImageExperimentClassName:function(){var t=e.Utils.Answer.getSvImageExperiment(),i=t.name,s=t.variant,a=i===e.Utils.Answer.SV_EXPERIMENT_NAME_MOBILE;return null==s?"":"sv-exp-"+(a?"mobile":"desktop")+"-"+s}})}(DDG),function(e){var t=e.Models.Answers.AdsCarousel;e.Models.Answers.AutoAds=function(e){e.meta.idField="url",e.bing=1,t.call(this,e)},e.Models.Answers.AutoAds.prototype=$.extend({},t.prototype,{answerType:"AutoAds",answerItemModel:"AutoAd"})}(DDG),function(e){var t=e.Models.Answers.AdsCarousel;e.Models.Answers.ToursActivities=function(e){e.meta.idField="url",e.bing=1,t.call(this,e)},e.Models.Answers.ToursActivities.prototype=$.extend({},t.prototype,{answerType:"ToursActivities",answerItemModel:"TourActivity"})}(DDG),function(e){var t=e.Models.Answers.AdsCarousel;e.Models.Answers.CreditCards=function(e){e.meta.idField="url",e.bing=1,t.call(this,e)},e.Models.Answers.CreditCards.prototype=$.extend({},t.prototype,{answerType:"CreditCards",answerItemModel:"CreditCard"})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Recipes=function(e){t.call(this,e)},e.Models.Answers.Recipes.prototype=$.extend({},t.prototype,{answerType:"Recipes",answerItemModel:"Recipe"})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.ExpandedMap=function(i){this.id="maps_expanded",this.name=i.name,this.nameId=i.nameId,this.answerItemModel=i.answerItemModel,this.isMapExpanded=!0,this.firstRun=!0,this.isDirectionsActive=!1,this.isMapStartActive=!1,this.queryEncoded=i.queryEncoded,this.hasContentHeight=!0,this.mapLocation=i.mapLocation,this.hasExampleSearches=null,this.hasNoResults=null,this.hasExternalDirectionsProvider=!1,this.sourceId=i.sourceName,this.local_source=i.localSource,this.sourceName=i.sourceName,this.sourceUrl=i.sourceUrl;var s={id:"local",requeryURL:e.services.getURL("local")};i.sources=[s],i.parameters=[{key:"tg",values:[{id:"maps_places"}]},{key:"rt",values:[{id:"D"}]},{key:"mkexp",values:[{id:"b"}]},{key:"wiki_info",values:[{id:"1"}]}],i.meta=i.meta||{},i.meta.idField="itemId",this._metaTokens=[],this.moreAtExternalServiceText=this._getMoreAtExternalServiceText(),e.router.add("map-start",this._handleMapStart.bind(this)),t.call(this,i),i.data&&this.addItems(i.data)},e.Models.Answers.ExpandedMap.prototype=$.extend({},t.prototype,{addItems:function(e){this.sourceName="",this.sourceId="",this.local_source="";var i=e[0]||e;i&&("About"===this.answerItemModel?this.sourceName=i.AbstractSource:"Place"===this.answerItemModel&&(this.sourceName=i.source,this.sourceId=i.sourceId,this.local_source="api")),t.prototype.addItems.call(this,e),this.items.length&&!this.selectedItem&&"MapLocation"===this.answerItemModel&&this.items[0].select()},requery:function(i){var s={is_requery:"1"};s.query=i.query||i.q||this.meta.requery,s.query===decodeURIComponentSafe(s.query)&&(s.query=encodeURIComponent(s.query)),i.queryParsed&&(s.queryParsed=i.queryParsed);var a=this.geo_bbox||this._glMapModel.getApproximateGeoBBox();if(i&&i.bbox){var o=i.bbox.split(",");s.bbox_tl=o[0]+","+o[1],s.bbox_br=o[2]+","+o[3]}else!a||i&&i.isFromHistory||(s.bbox_tl=a.top_left,s.bbox_br=a.bottom_right);var n=e.userLocator.hasLocation()&&e.userLocator.userLocation.getObfuscatedLoc();if(n&&(s.latitude=n.lat,s.longitude=n.lon,s.location_type=n.type),s.strict_bbox=i&&i.strict_bbox||"0",i&&i.iai&&(this.selectedItemIdRequery=i.iai),i.suggestion){var r=i.suggestion;if(!r.coordinate&&r.where&&r.where.match(lp("vertical_map","Search Near My Location"),"i")&&(delete s.bbox_tl,delete s.bbox_br),r.coordinate){var l=r.coordinate.latitude,d=r.coordinate.longitude,c=parseFloat(l)+5e-5,h=parseFloat(d)-5e-5,p=parseFloat(l)-5e-5,u=parseFloat(d)+5e-5;s.bbox_tl=c+","+h,s.bbox_br=p+","+u}r.metadata&&(s.metadata=r.metadata)}i.metatoken&&(s.metadata=this.getMetadata(i.metatoken)),this.shouldMapViewportUpdate=!i.hasOwnProperty("shouldMapViewportUpdate")||i.shouldMapViewportUpdate,this.isSearchMapAreaPending=!!i.hasOwnProperty("isSearchMapAreaPending")&&i.isSearchMapAreaPending,this.isRequerying||t.prototype.requery.call(this,s)},onMapStartAction:function(){e.router.navigate("map-start")},_handleMapStart:function(t){this.set("isDirectionsActive",!1),this.set("isMapStartActive",!0),e.history.clear("start"),e.history.clear("end"),e.history.clear("transport"),e.history.clear("bbox"),e.history.clear("strict_bbox"),e.history.set("iaxm","start")},saveMetadata:function(e){for(var t=0;t<this._metaTokens.length;t++)if(this._metaTokens[t]===e)return t.toString();return this._metaTokens.push(e),(this._metaTokens.length-1).toString()},getMetadata:function(e){if((e=parseInt(e,10))<this._metaTokens.length)return this._metaTokens[e]},_getMoreAtExternalServiceText:function(){if(this.sourceName){var e=this.sourceName;return l("More at %s ",e)}},getFeedbackCategory:function(){var e;return this.hasNoResults?e="map_no_results":"Place"===this.answerItemModel?e=this.items&&1===this.items.length||this.selectedItem?"places_single":"places_multiple":"About"===this.answerItemModel?e="wikipedia":["MapLocation","Maps"].indexOf(this.answerItemModel)>-1?e="maps":this.isDirectionsActive&&(e="directions"),e},getCurrentItemName:function(){return this.selectedItem&&this.selectedItem.name||this.meta&&this.meta.requery||this.query},_onRequery:function(i){var s;if("places"===i.response_type)s=DDG.localAPI.getPlacesResponse(i),this.answerItemModel="Place",this.sourceName=s.sourceName,this.sourceUrl=s.sourceUrl,this.moreAtExternalServiceText=this._getMoreAtExternalServiceText(),this.set("proximity",s.proximity);else if("map"===i.response_type)s=DDG.localAPI.getMapsResponse(i),this.answerItemModel="MapLocation";else if("geowiki"===i.response_type){(s=i.wiki_info).query=i.query,s.queryEncoded=i.queryEncoded;var a=i.features&&i.features[0];if(a&&a.center){s.lat=a.lat=a.center[1],s.lon=a.lon=a.center[0];var o=e.localAPI.getMapsResponse(i);s.location=o&&o.results&&o.results[0]}this.answerItemModel="About"}else s=DDG.localAPI.getEmptyResponse(i);t.prototype._onRequery.call(this,s)}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Directions=function(e){if(t.call(this,e),this.data&&this.data[0]&&this.data[0].user_location){var i=this.data[0].user_location;i.lat=i.lat?parseFloat(i.lat):null,i.lon=i.lon?parseFloat(i.lon):null,this.userLocation=i}},e.Models.Answers.Directions.prototype=$.extend({},t.prototype,{answerItemModel:"DirectionsItem",addItems:function(e){t.prototype.addItems.call(this,e)}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.ReactAnswer=function(e){t.call(this,e)},e.Models.Answers.ReactAnswer.prototype=Object.assign({},t.prototype,{removeFromSerp:function(){this.emit("destroyReactModule")},createFeedbackPromptView:function(e){return function(t){return new DDG.Views.Feedback.FeedbackPrompt(Object.assign({appendTo:$(t)},e))}}})}(DDG),function(e){var t,i=e.Models.Base;e.Models.AnswerItems.Base=t=function(e){this.transform&&(e=this.transform(e)),i.call(this,e),this._updateId()},t.extend=function(e){var i=function(e){t.call(this,e)};return i.prototype=$.extend({},t.prototype,e||{}),i},t.prototype=$.extend({},i.prototype,{select:function(){this.unhighlight(),this.set("selected",1),this.topic&&this.topic.select&&this.topic.select()},unselect:function(){this.set("selected"),this.topic&&this.topic.unselect&&this.topic.unselect()},highlight:function(){this.selected||(this.set("highlighted",1),this.topic&&this.topic.highlight&&this.topic.highlight())},unhighlight:function(){this.set("highlighted"),this.topic&&this.topic.unhighlight&&this.topic.unhighlight()},toTemplateObject:function(){return $.extend({},this,{meta:this.meta?$.extend({},this.answerMeta,this.meta):this.answerMeta})},_updateId:function(){return"string"==typeof this.idField&&this[this.idField]?this.id=this[this.idField]:$.isArray(this.idField)&&(this.id=this.idField.map((function(e){return this[e]}),this).join(""),this.id)?this.id:this.id=this.UUID()},getItemTemplate:function(){var t=this.templates,i=t.item;return e.device.isMobile&&(i=t.item_mobile||i),i},getDetailTemplate:function(){var t=this.templates,i=t.detail;return e.device.isMobile&&(i=t.detail_mobile||i),i},getItemDetailTemplate:function(){var t=this.templates,i=t.item_detail||t.detail;return e.device.isMobile&&(i=t.item_detail_mobile||t.detail_mobile||i),i},canShowItemDetail:function(){return!!this.getItemDetailTemplate()}})}(DDG),function(e){e.Models.AnswerItems.Audio=e.Models.AnswerItems.Base.extend({idField:"url"})}(DDG),function(e){e.Models.AnswerItems.FatheadListItem=e.Models.AnswerItems.Base.extend({idField:"FirstURL"})}(DDG),function(e){var t=e.Models.AnswerItems.Base,i=["Blizzard","BlowingDust","Breezy","Clear","Clear-night","Cloudy","Drizzle","Flurries","Foggy","Foggy-night","FreezingDrizzle","FreezingRain","Frigid","Haze","Haze-night","Hail","HeavyRain","HeavySnow","Hot","Hot-night","Hurricane","IsolatedThunderstorms","MostlyClear","MostlyClear-night","MostlyCloudy","MostlyCloudy-night","PartlyCloudy","PartlyCloudy-night","Rain","ScatteredThunderstorms","Sleet","Smoky","Smoky-night","Snow","StrongStorms","SunFlurries","SunFlurries-night","SunShowers","Thunderstorms","TropicalStorm","Windy","WintryMix"],s=["Clear","Foggy","Haze","Hot","MostlyClear","MostlyCloudy","PartlyCloudy","Smoky","SunFlurries"],a=["Blizzard","Drizzle","Flurries","FreezingDrizzle","FreezingRain","Hail","HeavyRain","HeavySnow","IsolatedThunderstorms","Rain","ScatteredThunderstorms","Sleet","Snow","StrongStorms","SunShowers","Thunderstorms","TropicalStorm","WintryMix"],o=[0,4,8,12,16,20],n={metric:"c",imperial:"f"},r=[lp("forecast","N"),lp("forecast","NE"),lp("forecast","E"),lp("forecast","SE"),lp("forecast","S"),lp("forecast","SW"),lp("forecast","W"),lp("forecast","NW"),lp("forecast","N")],l={Blizzard:lp("Weather IA","Blizzard"),BlowingDust:lp("Weather IA","Blowing Dust"),BlowingSnow:lp("Weather IA","Blowing Snow"),Breezy:lp("Weather IA","Breezy"),Clear:lp("Weather IA","Clear"),Cloudy:lp("Weather IA","Cloudy"),Drizzle:lp("Weather IA","Drizzle"),Flurries:lp("Weather IA","Flurries"),Foggy:lp("Weather IA","Foggy"),FreezingDrizzle:lp("Weather IA","Freezing Drizzle"),FreezingRain:lp("Weather IA","Freezing Rain"),Frigid:lp("Weather IA","Frigid"),Haze:lp("Weather IA","Haze"),Hail:lp("Weather IA","Hail"),HeavyRain:lp("Weather IA","Heavy Rain"),HeavySnow:lp("Weather IA","Heavy Snow"),Hot:lp("Weather IA","Hot"),Hurricane:lp("Weather IA","Hurricane"),IsolatedThunderstorms:lp("Weather IA","Isolated Thunderstorms"),MostlyClear:lp("Weather IA","Mostly Clear"),MostlyCloudy:lp("Weather IA","Mostly Cloudy"),PartlyCloudy:lp("Weather IA","Partly Cloudy"),Rain:lp("Weather IA","Rain"),ScatteredThunderstorms:lp("Weather IA","Isolated Thunderstorms"),Sleet:lp("Weather IA","Sleet"),Smoky:lp("Weather IA","Smoky"),Snow:lp("Weather IA","Snow"),StrongStorms:lp("Weather IA","Strong Storms"),SunFlurries:lp("Weather IA","Sunflurries"),SunShowers:lp("Weather IA","Sunshowers"),Thunderstorms:lp("Weather IA","Thunderstorms"),TropicalStorm:lp("Weather IA","Tropical Storm"),Windy:lp("Weather IA","Windy"),WintryMix:lp("Weather IA","Wintry Mix")},d={unknown:0,minor:1,moderate:2,severe:3,extreme:4};e.Models.AnswerItems.Forecast=function(e){t.call(this,e)},e.Models.AnswerItems.Forecast.prototype=$.extend({},t.prototype,{transform:function(t){if(t&&t.currentWeather&&t.forecastDaily){var i=e.get_query().toLowerCase().includes("tomorrow");this.location=t.location;var s=t.currentWeather;this._data=t,this.unit=this._getInitialUnit(),this.isMetric=this.unit===n.metric,this.isSpeedMetric=this._getIsSpeedMetric(),this.timezone=t.timezone,this.sunriseHour=this._getSunriseSunsetHour(t.forecastDaily.days[0].sunrise,6),this.sunsetHour=this._getSunriseSunsetHour(t.forecastDaily.days[0].sunset,22),this._setDailyWeather(t),this.selected=i?1:0,this.isIE11=e.device.isIE11p,this._setCurrentWeather(s),this._mapData(t,this.isMetric,this.isSpeedMetric),this.updateSelected(this.selected,!i);var a=this.days[this.selected]||{};this.hours=this._getHoursData(t,this.selected,a.time),this.moreAtUrl="https://weatherkit.apple.com/legal-attribution.html",this.weatherAlert=this._getAlert(this._data.weatherAlerts)}},_getAlert:function(e){if(!e||!e.alerts||!e.alerts.length)return!1;var t,i={0:[],1:[],2:[],3:[],4:[]};e.alerts.forEach((function(e){var t=d[e.severity]||0;i[t].push(e)}));for(var s=4;s>=0;s--)if(i[s].length>0){t=i[s].pop();break}return t.title=t.description,t.uri=t.detailsUrl,"unknown"!==t.severity&&"minor"!==t.severity||(t.isAdvisory=!0),t},_calculatePercent:function(e){return Math.round(100*e)},_setCurrentWeather:function(e){e&&(this.humidity=this._calculatePercent(e.humidity),this.iconName=e.conditionCode,this.icon=this._getIcon(this.iconName),this.summary=l[e.conditionCode])},_setDailyWeather:function(t){var i={},s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(t&&t.forecastDaily&&t.forecastDaily.days){this.days=[];for(var a=t.forecastDaily.days.slice(0,8),o=0;o<a.length;o++){var n=new Date;i={};var r=a[o],d=t.currentWeather,c=r.restOfDayForecast?r.restOfDayForecast.conditionCode:r.daytimeForecast.conditionCode;if(i.index=o,i.iconName=c,i.icon=this._getIcon(c),i.summary=l[c],i.humidity=0===o?d.humidity:r.daytimeForecast.humidity,0===o&&(i.currentSummary=l[d.conditionCode]),n.setDate(n.getDate()+o),e.Utils.ParseDate.toLocaleStringSupportsLocales()){var h=locale.replace("_","-");i.day=n.toLocaleString(h,{weekday:"short"}),i.dayLong=n.toLocaleString(h,{weekday:"long"})}else{var p=n.getDay();i.day=s[p].substring(0,4),i.dayLong=s[p]}this.days.push(i)}}},_getInitialUnit:function(){var t=e.geo.getUOM();return n[t]||n.imperial},_getIsSpeedMetric:function(){return"metric"===e.geo.getRoadDistanceUOM()},updateUnit:function(e){var t=this.days[this.selected]||{},i=t.rawHourly||this._data;this.isMetric=e===n.metric,this._mapData(this._data,this.isMetric),this.hours=this._getHoursData(i,this.selected,t.time),t.hours=this.hours,this.set("unit",e)},updateSelected:function(t,i){var s=this.days[t];i||(this.summary=s.currentSummary||s.summary,this.wind=s.wind,this.precipitation=s.precipitation,this.humidity=this._calculatePercent(s.humidity),this.icon=this._getIcon(s.iconName),this.temperature=s.high,this.temperature=0===t?s.temperature:s.high),this.days[this.selected].selected=!1,this.days[t].selected=!0,this.dayLong=e.capitalize(s.dayLong);var a=s.rawHourly||this._data;s.hours=this._getHoursData(a,t,s.time),this.hours=s.hours,this.set("selected",t)},_mapData:function(e,t,i){if(e.currentWeather){var s=e.currentWeather;this.wind=this._convertWindSpeed(s.windSpeed,i),this.wind+=" "+this._convertWindDirection(s.windDirection);for(var a=0;a<this.days.length;a++){var o=e.forecastDaily.days[a];this.days[a].high=this._convertTemperature(o.temperatureMax,t),this.days[a].low=this._convertTemperature(o.temperatureMin,t),this.days[a].time=new Date(o.forecastStart),this.days[a].temperature=0===a?this._convertTemperature(s.temperature,t):this.days[a].high;var n=o.restOfDayForecast?o.restOfDayForecast.conditionCode:o.daytimeForecast.conditionCode,r=o.restOfDayForecast?o.restOfDayForecast.precipitationChance:o.daytimeForecast.precipitationChance;this.days[a].precipProbability=this._getPrecipitationProbability(n,r),0===a&&this.wind?this.days[a].wind=this.wind:(this.days[a].wind=this._convertWindSpeed(o.daytimeForecast.windSpeed,i),this.days[a].wind+=" "+this._convertWindDirection(o.daytimeForecast.windDirection))}this.temperature=this.days[this.selected].temperature}},_getHoursData:function(e,t,i){var s,a,n,r,d,c,h,p,u={labels:[],mobileLabels:[]},m=1,_=0;if(e&&e.forecastHourly&&e.forecastHourly.hours){var f=new Date(i);s=(n=e.forecastHourly.hours).length;for(var g=0;g<s;g+=m)if((r=n[g])&&(d=new Date(r.forecastStart),!(f&&d<i))){var v=new Date;if(v>d){if((v-d)/6e4>60)continue;1===m&&(m=3,_=g,s=g+24)}h=(c=this._getSingleHourInfo(r,d)).hourString,p=c.temperatureLabel,u.labels.push(this._getSingleHourLabel({temperatureLabel:p,hourString:h,icon:r.conditionCode,precipProbability:r.precipitationChance,summary:l[r.conditionCode],dateTime:new Date(r.forecastStart)})),t||1!==m||(u.firstHour=h),1===m&&(m=3,_=g,s=g+24)}return a=o.map((function(e){return n[_+e]})),u.mobileLabels=this._getMobileHoursLabels(a),u}},_getSingleHourLabel:function(e){return e.hourString?(e.precipProbability=10*Math.round(10*e.precipProbability)||!1,{temperature:e.temperatureLabel+"°",hour:e.hourString,icon:this._getIcon(e.icon,e.hourString),precipProbability:e.precipProbability,summary:e.summary}):null},_getMobileHoursLabels:function(e){if(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];if(s){var a=new Date(s.forecastStart),o=this._getSingleHourInfo(s,a),n=o.hourString,r=o.temperatureLabel;t.push(this._getSingleHourLabel({temperatureLabel:r,hourString:n,icon:s.conditionCode,precipProbability:s.precipitationChance,summary:l[s.conditionCode],dateTime:new Date(s.forecastStart)}))}}return t}},_getSingleHourInfo:function(t,i){if(t){i=i||new Date(1e3*t.time);var s,a="en-US",o=this._convertTemperature(t.temperature),n=this._convertTemperature(t.temperature,this.isMetric);try{s=new Intl.DateTimeFormat(a,{timeZone:this.timezone,hour:"numeric",hour12:!!e.device.isEnglish}).format(i)}catch(r){if(e.Utils.ParseDate.toLocaleStringSupportsLocales())s=i.toLocaleString(a,{hour:"numeric",hour12:e.device.isEnglish});else{if(s=i.getHours(),e.device.isEnglish){s=(s&&12!==s?s%12:12)+" "+(s>=12?"PM":"AM")}s=s.toString()}}return{hourString:s,temperature:o,temperatureLabel:n}}},_convertWindSpeed:function(e,t){return t?Math.round(e)+" "+lp("forecast","kph"):Math.round(.6213711922*e)+" "+lp("forecast","mph")},_convertWindDirection:function(e){var t=Math.round(e/45);return r[t]||r[0]},_convertTemperature:function(e,t){return t||(e=Math.round(1.8*e+32),e=0===Math.abs(e)?Math.abs(e):e),Math.round(e)},_getIcon:function(e,t){if(t){var a=t.match(/(\d+)\s+(AM|PM)/i);if(a){var o=a[1],n=a[2];if(o=parseInt(o),isNaN(o))return;o="PM"===n&&o<12?o+12:o,((o="12 AM"===t?24:o)<=this.sunriseHour||o>this.sunsetHour)&&s.indexOf(e)>-1&&(e+="-night")}}return-1===i.indexOf(e)&&(e="Cloudy"),"/assets/weather/icons/weatherkit/"+e+".svg"},_getPrecipitationProbability:function(e,t){return a.includes(e)&&10*Math.round(10*t)||!1},_getSunriseSunsetHour:function(e,t){try{var i=new Date(e),s=new Intl.DateTimeFormat("en-US",{timeZone:this.timezone,hour:"numeric",hour12:!1});return parseInt(s.format(i))}catch(a){return t}}})}(DDG),function(e){var t=e.Models.AnswerItems.Base,i="START",s="DONE",a=[{idx:0,abbr:"Sun",plural:lp("maps_places","Sundays")},{idx:1,abbr:"Mon",plural:lp("maps_places","Mondays")},{idx:2,abbr:"Tue",plural:lp("maps_places","Tuesdays")},{idx:3,abbr:"Wed",plural:lp("maps_places","Wednesdays")},{idx:4,abbr:"Thu",plural:lp("maps_places","Thursdays")},{idx:5,abbr:"Fri",plural:lp("maps_places","Fridays")},{idx:6,abbr:"Sat",plural:lp("maps_places","Saturdays")}],o="AM",n="PM",r="h",d=new RegExp("[ap]\\.?m\\.?","i");e.Models.AnswerItems.Place=function(s){t.call(this,s),"applemaps"!==s.sourceId||this.embed||(this.embedLoading=i,this._fetchEmbedData()),this.priceSymbol=this.getPriceSymbols(),this.directions=this.getDirectionsURL(),this.directionsTitle=this.getDirectionsTitle(),this.staticMapTitle=lp("maps_places","Open Expanded Map"),this.mapURL=e.directionSource.getMapURL(this),this.shortAddress=this.getShortAddress(),this.formattedLocation=this.getFormattedLocation(),this.canDisplaySubheader=!!this.formattedLocation||!!this.ddg_category,this.currentWeekDayNumber=(new Date).getDay(),this.currentWeekDayAbbr=a[this.currentWeekDayNumber].abbr,$.isEmptyObject(this.hours)||(this.openHoursData=this._transformHours(this.hours),this.openHoursDisplay=this.formatOpenHoursForDisplay(this.openHoursData),this.openHoursDisplayToday=this.openHoursDisplay[0],this.hoursStatus=this._getHoursStatus(this.hours)),!$.isEmptyObject(this.popular_hours)&&this.popular_hours[this.currentWeekDayAbbr]&&this.openHoursData&&(this.popularHoursData=this._transformHours(this.popular_hours),this.popularHoursOnWeekday=this.getPopularHoursOnWeekday()),this.embed&&(this._onEmbedDataFetched(this.embed),this.embed.image&&(this.isScrapedImage=!0)),this.ratingClass=!!this.rating&&this.rating.toString().replace(".","-"),this.morePhotosText=this._getPhotosOnProviderText(),this.moreAtExternalServiceText=this.getMoreAtExternalServiceText(),this.moreOnExternalServiceText=this.getMoreOnExternalServiceText(),this.viewOnExternalServiceText=this.getViewOnExternalServiceText(),this.moreReviewsOnExternalServiceText=this.getMoreReviewsOnExternalServiceText(),this.distanceStr=this.getDistanceString(),this.snippetInfoMap=this.getSnippetInfoMap(),this.showMapCta=!e.device.isMobile&&"maps_expanded"!==this.parentId,this.isMobile=e.device.isMobileDevice,this.showTabs=this.isMobile&&this.reviews,this.showAttribution="applemaps"===this.sourceId&&this.url,this.hasPriceOrCategory=!!this.priceSymbol||!!this.categories,this.titleUrl=this.url,"applemaps"===this.sourceId&&this.website&&(this.titleUrl=this.website,this.viewOnExternalServiceText=this.getOpenPlaceWebsiteText()),this.showPriceCategoryNewLine="maps_expanded"===this.parentId||this.isMobile,(e.device.is2x||e.device.is3x)&&(this.ratingImage=this.ratingImageRetina?this.ratingImageRetina:this.ratingImage),this.socialMedia=this._processSocialMedia(s),this.canDisplayPhoneAndSocialMediaLine=!!this.phone||!!this.socialMedia,this._setReviews(this.reviews),this.functionalLayoutOptions=this._getFunctionalLayoutOptions(),this.hasMultipleCtas=!!(this.functionalLayoutOptions&&this.functionalLayoutOptions.length>1)},e.Models.AnswerItems.Place.prototype=$.extend({},t.prototype,{select:function(){t.prototype.select.call(this),"Yelp"!==this.source||this.reviews||this._loadReviews()},getSubtitle:function(){var e=this.getPriceSymbols(),t=this.getCategories();return e?t?e+" · "+t:e:t},getPriceSymbols:function(){if(this.price){for(var e="",t=0;t<this.price;t++)e+="$";return e}},getCategories:function(){if(this.categories&&this.categories.length)return this.categories.map((function(e){return e.name})).join(", ")},getFirstCategory:function(){if(this.categories&&this.categories.length)return this.categories[0].name},getDirectionsTitle:function(){return e.directionSource.getMapTitleText()},getDirectionsURL:function(){return e.directionSource.getDirectionsURL(this)},getShortAddress:function(){return this.addressLines?this.addressLines[0]:null},getFormattedLocation:function(){var e;return this.neighborhood&&this.neighborhood.length>0&&(e=this.neighborhood[0]),e&&this.city?e+", "+this.city:e||this.city||null},getDistanceString:function(){var t;if(this.distance)return"metric"===e.geo.getUOM()?(t=e.geo.metersToKilometers(this.distance))?l("%s km",t):"":(t=e.geo.metersToMiles(this.distance))?l("%s mi",t):""},_processSocialMedia:function(e){var t=[];return(e.twitter_id||e.facebook_id||e.instagram_id)&&(e.twitter_id&&t.push({platform:"twitter",platformDisplay:"Twitter",id:e.twitter_id,base_url:"https://twitter.com/"}),e.facebook_id&&t.push({platform:"facebook",platformDisplay:"Facebook",id:e.facebook_id,base_url:"https://facebook.com/"}),e.instagram_id&&t.push({platform:"instagram",platformDisplay:"Instagram",id:e.instagram_id,base_url:"https://instagram.com/"})),t},_convertHoursToDate:function(e,t){var i=t?new Date(t):new Date,s=i.getUTCFullYear(),a=i.getUTCMonth(),o=i.getUTCDate(),n=e.split(":"),r=n.length>=1?n[0]:e,l=n.length>=2?n[1]:"";return new Date(s,a,o,r,l)},_transformHours:function(e,t){if(!e)throw"Missing hours data";var i={};return a.forEach(function(s){if(e[s.abbr]){var a=e[s.abbr].split(","),o=[];a.forEach(function(e){var i=e.split("–");o.push({start:i.length>0?this._convertHoursToDate(i[0].trim(),t):null,end:i.length>1?this._convertHoursToDate(i[1].trim(),t):null})}.bind(this)),i[s.abbr]=o}}.bind(this)),i},formatOpenHoursForDisplay:function(t){var i=e.device.getLocale(),s=a.slice(0,this.currentWeekDayNumber),l=a.slice(this.currentWeekDayNumber).concat(s).map(function(e,i){var s=lp("maps_places","Closed"),a=!1;t[e.abbr]&&(a=!0,s=t[e.abbr][0].end-t[e.abbr][0].start>=8634e4?lp("maps_places","Open 24 hours"):t[e.abbr].reduce(function(e,t){var i=t.start?this._formatHour(t.start):"",s=t.end?this._formatHour(t.end):"",a=e.length>0?" & ":"";return-1!==i.indexOf(o)&&-1!==s.indexOf(o)?i=i.replace(o,"").trim():-1!==i.indexOf(n)&&-1!==s.indexOf(n)?i=i.replace(n,"").trim():i.indexOf(r)&&(i=i.replace(r,"").trim()),e+a+i+"–"+s}.bind(this),""));return e.idx===this.currentWeekDayNumber&&(this.hoursToday=s),{weekDay:e.abbr,weekDayPlural:e.plural,hours:s,isToday:e.idx===this.currentWeekDayNumber,isOpen:a}}.bind(this));return"en"!==i.slice(0,2)&&e.Utils.ParseDate.toLocaleStringSupportsLocales()&&(l=this._translateWeekDays(l,i)),l},_formatHour:function(e,t,i){var s;return t=t||[],i=i||DDG.device.isEnglish,s=(s=e.toLocaleTimeString(t,{hour:"numeric",minute:"2-digit"})).replace(":00",""),i&&!d.test(s)&&(s+=r),s},_translateWeekDays:function(e,t){var i=t.replace("_","-");return e.map((function(e,t){var s=new Date;s.setDate(s.getDate()+t);var a=s.toLocaleString(i,{weekday:"short"}).replace(".","");return a=a[0].toUpperCase()+a.substr(1),e.weekDay=a,e}))},_getHoursStatus:function(t,i,s){var a={},o="";if(!t)return a;if(t.state_switch_time&&this.timezone){var n=i||new Date,r=t.state_switch_time.split(":"),l=r[0],d=r[1],c=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),l,d));try{var h=e.Utils.ParseDate.initDateInTimezone(c,s||this.timezone)-n,p=Math.floor(h/6e4)}catch(u){}}return t.state_switch_time&&(o=this._formatHour(this._convertHoursToDate(t.state_switch_time))),t.is_open?(a.textStatus=lp("maps_places","Open"),a.style="on",t.closes_soon&&e.device.isDesktop&&p?a.textHour=p?lp("maps_places","Closing in %s mins",p):"":e.device.isMobile?a.textHour=" "+lp("maps_places","till %s",o):a.textHour=o?lp("maps_places","Closes at %s",o):""):(a.textStatus=lp("maps_places","Closed"),a.style="off",e.device.isDesktop&&(a.textHour=o?lp("maps_places","Opens at %s",o):"")),a},toggleHoursExpand:function(){this.hours&&this.set("hoursExpanded",!this.hoursExpanded)},toggleReviewsExpand:function(){this.reviews&&this.set("reviewsExpanded",!this.reviewsExpanded)},_getPhotosOnProviderText:function(){var e=this.source;return l("Photos on %s",e)},getViewOnExternalServiceText:function(){var e=this.provider||this.source;return l("View on %s",e)},getOpenPlaceWebsiteText:function(){var e=this.name;return l("Open %s website",e)},getMoreAtExternalServiceText:function(){var e=this.provider||this.source;return l("More at %s ",e)},getMoreOnExternalServiceText:function(){var e=this.source;return l("More on %s ",e)},getMoreReviewsOnExternalServiceText:function(){var e=this.source;return lp("more_reviews_on_external_website","More Reviews on %s ",e)},getUserOnServiceText:function(e){var t=e.name,i=this.source;return lp("maps_places","%s on %s",t,i)},getPopularHoursOnWeekday:function(){var e=this.openHoursDisplayToday.weekDayPlural;return lp("maps_places","Popular hours on %s",e)},getSnippetInfoMap:function(){return{hours:this.hoursToday||!1,streetaddress:this.address||!1,phone:this.displayPhone||!1}},isExpandable:function(){return void 0===this.canExpand?this.canExpand=!this.isSideModule&&(!!this.moreAtExternalServiceText||this.review_detail&&this.review_detail.length>0):this.canExpand},toggleExpand:function(){this.set("expanded",!this.expanded)},_loadReviews:function(){this._loadedReviews||(this._loadedReviews=!0,$.ajax({dataType:"jsonp",url:"/local.js?q="+encodeURIComponent(this.name)+"&tg=maps_places&id="+this.itemId+"&strong_hint="+this.itemId+"&fsh=1&l="+e.settings.region.getId(),success:function(t){if((t=e.localAPI.getPlacesResponse(t)).results&&t.results.length){var i=t.results.filter(function(e){return e.itemId===this.itemId}.bind(this));i&&i[0]&&this._setReviews(i[0].reviews)}}.bind(this),error:function(){}}))},_setReviews:function(t){t&&t.length&&(t.forEach(function(t){t.formattedDate=new Date(1e3*t.timeCreated).toLocaleDateString(!1,{year:"numeric",month:"short",day:"numeric"}),t.user.userOnServiceText=this.getUserOnServiceText(t.user),(e.device.is2x||e.device.is3x)&&(t.ratingImage=t.ratingImageRetina?t.ratingImageRetina:t.ratingImage),t.ratingClass=t.rating?t.rating.toString().replace(".","-"):""}.bind(this)),this.set("reviews",t))},_fetchEmbedData:function(){if(this.website){var e="";this.timezone&&(e="&tz="+this.timezone),$.getJSON("/f.js?vqd="+window.vqd+"&o=json&ldata=1&u="+this.website+e,this._onEmbedDataFetched.bind(this)).error(this._onEmbedDataFailed.bind(this))}else this.set("embedLoading",s)},_onEmbedDataFetched:function(t){if("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&window.utils&&window.utils.createEmbedUrl&&window.utils.cacheEmbedResponse&&t){var i=window.utils.createEmbedUrl({vqd:window.vqd,website:this.website,timezone:this.timezone},window.Bootstrap.searchExperiments);window.utils.cacheEmbedResponse(i,t)}if(t.image){var a=e.getImageProxyURL(t.image,{noFallback:!0});this.set("image",a)}t.additional_images&&this.set("thumbnails",t.additional_images),t.description&&this.set("description",t.description.length<301?t.description:t.description.substr(0,300)+"..."),t.hours&&(this.set("hours",t.hours),this.hours=this._transformHours(t.hours),this.hoursStatus=this._getHoursStatus(t.hours)),this.set("embedLoading",s)},_onEmbedDataFailed:function(){this.set("embedLoading",s)},_getFunctionalLayoutOptions:function(){var e=[];return this.website&&e.push({id:"website",href:this.website,isMapExpanded:this.isMapExpanded,text:lp("maps_places","Website")}),e.push({id:"directions",text:lp("maps_places","Directions")}),e}})}(DDG),function(e){var t=e.Models.AnswerItems.Base,i={mobile:220,desktop:275};e.Models.AnswerItems.Product=t.extend({idField:["ASIN","img_m","img"],_getImageDimensionString:function(t,s){var a=e.Utils.Answer.getSvImageExperiment(),o=a.name,n=a.variant,r=o===e.Utils.Answer.SV_EXPERIMENT_NAME_MOBILE;return"a"===n||null==n?"&h=120":t>s?"&w="+Math.min(i[r?"mobile":"desktop"],t):"&h="+Math.min(i[r?"mobile":"desktop"],s)},transform:function(t){t.image=t.img,t.title=t.heading,t.showImage=t.image,t.containImage=1,t.hideSource=1;var i=t.answerMeta&&t.answerMeta.signal_from?t.answerMeta.signal_from:"products";t.imageProxyOps={origin:i};var o=s(t),n=a(t);if(t.onlyGrayText=o||n,n&&o&&(t.onlyGrayText=o+" - "+n),"Bing"===t.answerMeta.sourceName){if(t.bing=1,t.onlyGrayText=s(t,20),t.shouldShowSyndicationExtensions=!(e.device.isMobile&&-1!==window.location.search.indexOf("ia=images"))&&null!=t.extensions&&t.fromDeep,null!=t.extensions){t.visibleExtensions=[];var r=t.extensions.merchant_promotion,l=t.extensions.merchant_badge,d=t.extensions.product_rating,c=t.extensions.label_annotation,h=t.extensions.local_inventory;if(t.shouldShowSyndicationExtensions)null!=h&&t.visibleExtensions.push(h.tid),null!=l&&t.visibleExtensions.push(l),null!=d?(t.bottomRowExtension="productRating",t.visibleExtensions.push(d.tid)):null!=r?(t.bottomRowExtension="merchantPromotion",t.visibleExtensions.push(r.tid)):null!=c?(t.bottomRowExtension="labelAnnotation",t.visibleExtensions.push(c.tid)):t.bottomRowExtension="",c&&"labelAnnotation"!==t.bottomRowExtension&&(t.shouldShowLabelOnImage=!0,t.labelAnnotationId="FreeShipping"===c.type?"free-shipping":"PriceDropAlert"===c.type?"price-drop":"",t.visibleExtensions.push(c.tid));else{var p=t.extensions.price_drop,u=t.extensions.free_shipping;p&&p.text&&p.tid?(t.promotion=p.text,t.visibleExtensions.push(p.tid)):r&&r.text&&r.tid&&(t.promotion=r.text,t.visibleExtensions.push(r.tid)),u&&u.tid&&t.visibleExtensions.push(u.tid),d&&d.tid&&t.visibleExtensions.push(d.tid)}}t.img=t.img+this._getImageDimensionString(t.img_w,t.img_h)}return t}});var s=function(e,t){return e.brand?(t=t||14,e.brand.length>t?e.brand.substr(0,t-2)+"…":e.brand):""},a=function(e){return"string"!=typeof e.price?"":e.price}}(DDG),function(e){var t=e.Models.AnswerItems.Base;e.Models.AnswerItems.AutoAd=function(e){t.call(this,e)},e.Models.AnswerItems.AutoAd.prototype=$.extend({},t.prototype,{transform:function(t){t.image=t.img,t.title=t.heading,t.condition=t.item_condition,t.bing=1,t.imageProxyOps={height:190};var i=-1!==["GB","US"].indexOf(window.ct),s=t.location,a=!!t.mileage&&e.Utils.Formatting.formatNumberForLocale(parseInt(t.mileage))+(i?" mi":" km"),o=t.year,n=[],r=!1;if(t.assets){r=t.assets;var l=[],d="DE"===window.ct;d&&["Auto_CO2Emission","Auto_FuelEfficiencyAverage"].forEach((function(e){r[e]&&(l.push(r[e]),delete r[e])})),r=Object.keys(t.assets).filter((function(e){var i="Auto_Year"===e,o=a&&t.assets[e]==t.mileage,n=s&&t.assets[e]===s,r=t.brand&&t.assets[e]===t.brand;return!(i||o||n||r)})).map((function(e){return t.assets[e]})),d&&l.length>0&&(r=l.concat(r)),r=r.join(" • ")}return t.assets=r,o&&n.push(o),a&&n.push(a),t.yearMileage=n.join(" • "),t.brand&&(t.isOnlineDealer=/^(www\.|)(carvana|vroom)(\.com|$)/i.test(t.brand.replace(/\s/g,""))),t}})}(DDG),function(e){var t=e.Models.AnswerItems.Base;e.Models.AnswerItems.TourActivity=function(e){t.call(this,e)},e.Models.AnswerItems.TourActivity.prototype=$.extend({},t.prototype,{transform:function(e){return e.image=e.img,e.title=e.heading,e.condition=e.item_condition,e.bing=1,e.ratings=e.ratings/2,e.reviews=e.number_of_reviews,e.duration=this._convertTime(e.durations),e.imageProxyOps={height:130},e.displayPrice="<b>"+e.price+"</b>",e},_convertTime:function(e){var t=e.split(":"),i=parseInt(t[0]),s=parseInt(t[1]),a=parseInt(t[2]);return(i?i+"d ":"")+(s?s+"h ":"")+(a?a+"min":"")}})}(DDG),function(e){var t=e.Models.AnswerItems.Base;e.Models.AnswerItems.CreditCard=function(e){t.call(this,e)},e.Models.AnswerItems.CreditCard.prototype=$.extend({},t.prototype,{transform:function(e){return e.image=e.img,e.title=e.heading,e.bing=1,e.extensions&&e.extensions.length>0&&(e.offers=this.getOffers(e.extensions)),e.imageProxyOps={height:130},e},getOffers:function(e){var t=[];return e.forEach((function(e,i,s){if(e.text.includes(";")){var a=2;s.length>1&&(a=1),t.push(e.text.split(";").slice(0,a).map((function(e){return e.trim()})).join(" • "))}else t.push(e.text)})),t.join(" • ")}})}(DDG),function(e){e.Models.AnswerItems.Recipe=e.Models.AnswerItems.Base.extend({idField:"id",transform:function(e){e.excerpt=e.description,e.showImage=e.image||e.fetch_image,e.source=e.ratingText,e.hideSource=0,e.showRating=0,e.showDescription=1,e.oneRowTitle=1;var t=e.answerMeta&&e.answerMeta.signal_from?e.answerMeta.signal_from:"recipes";return e.imageProxyOps={origin:t},e}})}(DDG),function(e){var t=e.Models.AnswerItems.Base,i=e.Utils.ParseDate,s=["YouTube"],a={YouTube:{videoId:{match:/embed\/([^?]+)/,group:1},embedURL:"https://www.youtube-nocookie.com/embed/",searchURL:"https://www.youtube.com/results?search_query=",userURL:"https://www.youtube.com/channel/",url:"https://www.youtube.com/watch?v=",params:{wmode:"transparent",iv_load_policy:3,autoplay:1,html5:1,showinfo:0,rel:0,modestbranding:1,playsinline:0,theme:"light"}},Vimeo:{embedURL:"https://player.vimeo.com/video/",searchURL:"https://www.vimeo.com/search?q=",userURL:"https://vimeo.com/",url:"https://vimeo.com/",params:{api:0,autoplay:1}},Bing:{}};e.Models.AnswerItems.Video=t.extend({idField:"id",transform:function(t){if("Bing"==t.provider)return this._getBingAttrs(t);var i=a[t.provider];return t.embedURL=encodeURIComponent(i.embedURL+t.id+"?"+$.param(i.params)),t.faviconURL=e.get_favicon_url(t.provider.toLowerCase()),t.musicVideoData=n(t),t.url=i.url+t.id,t.searchURL=i.searchURL+rq,t.userURL=i.userURL+t.channel_id,t.username=t.display_name,t.viewCount=o(t),t.publishedDate=r(t.published),t.image=t.images.medium,t.imageToken=t.image_token,t.showImage=t.image||t.fetch_image,t.onlyGrayText=t.viewCount,t},getITunesData:function(e){var t=this.musicVideo();if(!t)return e();if(this._iTunesData)return e(null,this._iTunesData);var i=this,s="/iit/"+encodeURIComponent(t.title);$.ajax({url:s,dataType:"json",success:function(t){i._iTunesData=t,e(null,t)},error:function(){e()}})},canShowItemDetail:function(){var i,s=t.prototype.canShowItemDetail.call(this);return i=e.device.supportsDuckPlayer&&e.device.duckPlayer?e.device.duckPlayer.privatePlayerMode.hasOwnProperty("enabled")||e.device.duckPlayer.privatePlayerMode.hasOwnProperty("disabled"):"2"===e.settings.get("k5"),s&&!i},isEmbeddable:function(){var e=this.embedURL?decodeURIComponent(this.embedURL):"";return!(!e||0!==e.indexOf(a.YouTube.embedURL))},_formatEmbedURL:function(e,t){var i=a[e],s=!!i&&i.videoId;if(t&&s){var o=t.match(s.match),n=!(!o||!o[s.group])&&o[s.group];if(n)return encodeURIComponent(i.embedURL+n+"?"+$.param(i.params))}return!1},_getBingAttrs:function(t){t.provider=t.publisher,t.embedURL=this._formatEmbedURL(t.provider,t.embed_url),t.isBing=!0,t.faviconURL=e.get_favicon_url(t.publisher.toLowerCase()),t.url=t.content,t.idField="url",t.username=t.uploader,t.labelIcon=!("2"===e.settings.get("k5")||!t.embedURL)&&"play",t.statistics&&t.statistics.viewCount&&"0"!=t.statistics.viewCount&&(t.viewCount=o(t)),t.publishedDate=r(t.published),t.relativeTimeShort=i.getRelativeDate(t.published),t.image=t.images.medium+"&h=120",t.imageToken=t.image_token,t.showImage=t.image||t.fetch_image,t.textOnlySource=t.publisher,t.centerImage=1,t.extraRow=t.viewCount;var s=t.answerMeta&&t.answerMeta.signal_from?t.answerMeta.signal_from:"videos";t.imageProxyOps={token:t.imageToken,origin:s};var n=e.getProperty(a,t.publisher+".searchURL");return n&&(t.searchURL=n+rq),t.duckPlayerURL=this._getDuckPlayerURL(t.provider,t.url),t},_duckPlayerSupports:function(e){return-1!==s.indexOf(e)},_getDuckPlayerURL:function(t,i){if(e.device.supportsDuckPlayer&&this._duckPlayerSupports(t)){var s=i.split("v=")[1];if(!s)return;return"duck://player/"+s}},getDuckPlayerOverlayOverrideURL:function(e){return e+"#ddg-play"}});var o=function(t){var i=0;return t.statistics&&t.statistics.viewCount&&(i=parseInt(t.statistics.viewCount,10),$.isNumeric(i)||(i=0)),!i&&t.duration.match(/\d+:\d+:\d+/)?lp("video","Preview"):e.abbrevNumber(i)+" view"+(1!==i?"s":"")},n=function(e){if(e.category&&"Music"===e.category){var t=e.title.replace(/\(.*\)|\[.*\]/g,""),i=(t=(t=t.replace(/\s+f(?:ea|)t\..*$/g,"")).replace(/^\s+|\s+$/g,"")).split(" - "),s=i[0],a=i[1]||s,o=a!==s?a+" "+s:a;return{title:t,artist:s,song:a,iTunesURL:"/iit/"+encodeURIComponent(t),amazonURL:encodeURIComponent("!a "+o),spotifyURL:encodeURIComponent("!spotify "+o)}}},r=function(e){var t=DDG.getDateFromString(e);return t?t.toDateString().substr(4):""}}(DDG),function(e){var t=e.Models.AnswerItems,i=t.Base,s={desktop:{module:110,vertical:130},mobile:{module:110,vertical:80}};t.News=i.extend({idField:"url",transform:function(t){t.showImage=t.image||t.fetch_image,t.relative_time&&(t.relativeTimeShort=t.relative_time.replace(/(\d+) ([a-z]).*/,"$1$2")),t.favicon_url||(t.favicon_url=t.url),e.device.isMobile||"fr-fr"!==window.kl||(t.noExcerpt=1);var i=t.answerMeta&&t.answerMeta.signal_from?t.answerMeta.signal_from:"news";return t.imageProxyOps={height:this._getImageHeight(t.pageNo),noFallback:!e.device.isIE,token:t.image_token,origin:i},this.on("change:visible",this._onVisibleChanged.bind(this)),t},_getImageHeight:function(t){var i=e.device.isMobile?"mobile":"desktop";return s[i][1===t?"module":"vertical"]},_fetchImage:function(e){this._fetchedImage||(this._fetchedImage=!0,$.getJSON("/f.js?vqd="+window.vqd+"&o=json&i=1&u="+e,this._onImageFetched.bind(this)))},_onVisibleChanged:function(){this.visible&&this.fetch_image&&!this.image&&this._fetchImage(this.url)},_onImageFetched:function(e){e&&e.image&&this.set("image",e.image)}})}(DDG),function(e){var t=e.Models.AnswerItems.Base;e.Models.AnswerItems.About=function(i){t.call(this,i),this.hasInfobox&&(this.infobox=new e.Models.Modules.AboutInfoBox({Infobox:this.Infobox,RelatedTopics:this.RelatedTopics,minimizeHeight:i.minimizeHeight})),this.infobox&&this.infobox.maps.length&&(this.headerImage=this.Image&&!this.ImageIsLogo,this.headerType=this.headerImage?2:1,this.header=new e.Models.Modules.AboutHeader({imageURL:this.headerImage?this.Image:null,imageWidth:this.ImageWidth,imageHeight:this.ImageHeight,mapURL:this.infobox.maps[0].value,location:this.location})),this.header&&(this.showDirectionsButton=!0),this.infobox&&this.infobox.profiles.length&&(this.infobox.profiles.push({data_type:"wikipedia",value:this.AbstractURL}),this.OfficialUrl&&this.infobox.profiles.push({data_type:"official_site",value:this.OfficialUrl}),this.profiles=new e.Models.Modules.AboutProfiles({title:this.Heading,entity:this.Entity,data:this.infobox.profiles}));var s=this.answerMeta;s&&(s.id&&"wikihow"===s.id||s.is_stackexchange&&1===s.is_stackexchange)&&(this.hasClickableHeader=!0)},e.Models.AnswerItems.About.prototype=$.extend({},t.prototype,{headerType:0,isTooHigh:!1,toggleExpand:function(){this.infobox&&this.infobox.toggleExpand(),this.set("expanded",!this.expanded)},expand:function(){this.expanded||this.toggleExpand()},collapse:function(){this.expanded&&this.toggleExpand()},hasPredictableExpandableContent:function(){return this.infobox&&this.infobox.canExpand()||this.shortAbstract!==this.fullAbstract},canModuleExpand:function(){return this.hasPredictableExpandableContent()||this.isTooHigh},getAbstract:function(){return this.expanded?this.fullAbstract:this.shortAbstract},showMoreAtBottom:function(){return!this.infobox&&(!this.canModuleExpand()||!!this.isTooHigh)},transform:function(t){if(t.Results&&t.Results.length&&(t.OfficialUrl=t.Results[0].FirstURL),t.minEllipsisHeight=t.minimizeHeight?80:160,t.ImageHeight=t.ImageHeight||0,t.Image&&t.ImageWidth&&t.ImageHeight){var i=e.device.width<=1100?.7:1,s=e.scaleToFit(t.ImageWidth,t.ImageHeight,120,160);t.ImageWidth=parseInt(s.width,10),t.ImageHeight=parseInt(s.height,10),t.defaultTextHeight=Math.max(t.minEllipsisHeight,t.ImageHeight*i/2)}else t.Image&&delete t.Image;t.Image&&window.iqbi&&!e.settings.safeSearch.isOff()&&delete t.Image,t.AbstractSource?t.moreAtText=t.AbstractSource:t.meta&&(t.moreAtText=t.meta.src_name),t.Abstract=e.Utils.Strings.removeUnwantedHtml(t.Abstract)||"",t.hasCode=t.Abstract.match(/\<code/i),t.hasMarkup=t.Abstract.match(/\<\//),t.fullAbstract=t.Abstract,t.shortAbstract=this.trimParagraphs(t),t.hasInfobox=t.Infobox;var a=DDG.parseAbstract(t.Heading);return t.title=a.main?a.main.trim():t.title,t.subTitle=a.subTitle,t},trimParagraphs:function(e){if(!e.Abstract)return"";if(e.hasMarkup)return e.Abstract;var t,i=e.Abstract.length,s=/\.\s/g,a=i,o=e.minimizeHeight?1.4:1.8,n=Math.max(e.minEllipsisHeight,e.ImageHeight)*o;if(e.Abstract.length<=n)return e.Abstract;for(;t=s.exec(e.Abstract);){var r=t.index;Math.abs(n-r)<i&&(i=Math.abs(n-r),a=r)}var l=e.Abstract.substring(0,a+1);return e.Abstract.length-l.length<150&&(l=e.Abstract),l}})}(DDG),function(e){var t=e.Models.AnswerItems.Base;e.Models.AnswerItems.MapLocation=function(i){t.call(this,i),this.hasValidLatLon()&&e.search.isLatLonQuery()&&(this.displayLatLon=this._getDisplayLatLon()),this.latLng=[this.lat,this.lon]},e.Models.AnswerItems.MapLocation.prototype=$.extend({},t.prototype,{hasValidLatLon:function(){return this.lat&&!isNaN(this.lat)&&this.lon&&!isNaN(this.lon)},_getDisplayLatLon:function(){var e='"';return(this.lat>0?this.lat+e+" N, ":-1*this.lat+e+" S, ")+(this.lon>0?this.lon+e+" E":-1*this.lon+e+" W")}})}(DDG),function(e){var t=e.Models.AnswerItems.Base;e.Models.AnswerItems.DirectionsItem=function(e){t.call(this,e)},e.Models.AnswerItems.DirectionsItem.prototype=$.extend({},t.prototype,{})}(DDG),function(e){var t=e.Models.Base;e.Models.Header=function(i){t.call(this,i),this._headerHeight=e.get_header_height()+1},e.Models.Header.prototype=$.extend({},t.prototype,{updateScrollPosition:function(t){var i,s,a=t<this._previousScroll?1:0;this.scrolledToTop=e.device.isMobile?t<42:0===t,this.scrolledPastHeaderThreshold=t>this._headerHeight+300,this.scrolledPastHeader=t>this._headerHeight,this.canUpdateHeaderPosition=!1,this.newHeaderPosition=-this._headerHeight,this.scrolledToTop&&(this._scrollBuffer=0,this._showingFloatedHeader=!1,this.newHeaderPosition=0),i=a&&!this._showingFloatedHeader,s=!a&&this._showingFloatedHeader,this.scrolledPastHeaderThreshold&&(i||s)&&this._pastScrollBuffer(t,a)&&(this.newHeaderPosition=a?0:-this._headerHeight,this.canUpdateHeaderPosition=!0,this._scrollBuffer=0,this._showingFloatedHeader=!this._showingFloatedHeader),e.device.isMobile&&!this.scrolledToTop&&(this.newHeaderPosition-=42),this._previousScroll=t,this._previousScrollDirection=a},_pastScrollBuffer:function(e,t){return this._previousScrollDirection!==t&&(this._scrollBuffer=0),this._scrollBuffer||(this._scrollBuffer=e+(t?-50:100)),t?e<this._scrollBuffer:e>this._scrollBuffer},isFloated:function(){return this._showingFloatedHeader}})}(DDG),function(e){var t=e.Models.Base;e.Models.Footer=function(e){t.call(this,e)},e.Models.Footer.prototype=$.extend({},t.prototype,{})}(DDG),function(e){var t=e.Models.Base,i="geoip",s="manual",a="precise",o="obfuscated";e.Models.UserLocation=function(e){"string"==typeof(e=e||{})&&(e=this._fromString(e)||{}),this._isValidLatLon(e.lat,e.lon)||(e.lat=null,e.lon=null),this._isValidLocationType(e.type)||(e.type=a),t.call(this,e),this.isValid()&&(this.timestamp||(this.timestamp=Date.now()))},e.Models.UserLocation.GEOIP_LOCATION=i,e.Models.UserLocation.MANUAL_LOCATION=s,e.Models.UserLocation.PRECISE_LOCATION=a,e.Models.UserLocation.OBFUSCATED_LOCATION=o,e.Models.UserLocation.prototype=$.extend({},t.prototype,{isValid:function(){return this._isValidLatLon(this.lat,this.lon)},isSameAs:function(e){return this.lat===e.lat&&this.lon===e.lon&&this.desc===e.desc},isExpired:function(){return!!this.timestamp&&(!(!this.desc||"Antarctica, Antarctica"!==this.desc)||(new Date).getTime()-this.timestamp>(e.device.isMobile?9e5:18e6))},intoString:function(){return[this.lat,this.lon,this.desc,this.timestamp,this.type].join("|")},intoObj:function(e){var t=e||this;return{lat:t.lat,lon:t.lon,desc:t.desc,timestamp:t.timestamp,type:t.type||a,how_this_works:"https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/"}},setDescByGeocoding:function(e){this._geocode(function(t){if(t){var i=t.text;if(t.context&&t.context.length)for(var s=0;s<t.context.length;s++)if(t.context[s].id.match(/(neighborhood|locality|place)/)){i=t.context[s].text;break}i=i.split("  ").join(" "),this.set("desc",i)}$.isFunction(e)&&e()}.bind(this))},getObfuscatedLoc:function(t){var i=null;if(this.isValid())try{var s=e.geo.getRandomCoordsNearby(this.lat,this.lon);i={lat:s.newLatLon[0],lon:s.newLatLon[1],type:o},e.pixel.fire("cos")}catch(a){e.pixel.fire("coe","valid",{error:encodeURIComponent(a.message)})}else e.pixel.fire("coe","invalid");return t&&i?{type:"obfuscatedPrecise",latitude:i.lat,longitude:i.lon,timeAdded:Date.now()}:i},_fromString:function(e){var t;try{(t=JSON.parse(e))&&delete t.how_this_works}catch(o){}if(t)t.type=this._isValidLocationType(t.type)?t.type:a;else{var i=e.split("|"),s=this._isValidLocationType(i[4])?i[4]:a;t={lat:parseFloat(i[0]),lon:parseFloat(i[1]),desc:i[2],timestamp:parseInt(i[3],10),type:s},this._convertToNewStyle(t)}return t},_isValidLatLon:function(e,t){return!("number"!=typeof e||"number"!=typeof t||isNaN(e)||isNaN(t))},_isValidLocationType:function(e){return-1!==[i,s,a,o].indexOf(e)},_geocode:function(e){var t=encodeURIComponent(this.lon+", "+this.lat);$.ajax({url:"/local.js?ha=1&q="+t,dataType:"jsonp",success:function(t){if(!t||!t.features||!t.features.length)return e();e(t.features[0])},error:function(){e()}})},_convertToNewStyle:function(t){try{window.localStorage.setItem(e.settings.USER_LOC_LOCAL_STORAGE_KEY,JSON.stringify(t)),e.settings.set(e.settings.LOCATION_SETTING_KEY,1),e.geo.fetchBucketData(t,(function(t){t?e.pixel.fire("lcce","fetch",{error:encodeURIComponent(t.message)}):e.pixel.fire("lcco")}))}catch(i){e.pixel.fire("lcce","convert",{error:encodeURIComponent(i.message)})}}})}(DDG),function(e){var t=e.Models.Base,i=6e5;e.Models.UserLocator=function(i){if(t.call(this,i),this.userLocation=new e.Models.UserLocation,this.errorGettingLocation=!1,this.waitingForLocation=!1,this.problemUpdatingLocation=!1,this._updateClickCount=0,this._retries=0,this._checkedForUpdate=!1,this._waitTimeout=null,this.lastRegionData=null,this._isLocationFetching=!1,this._locationFetchWaitList=[],!e.settings.isDefault(e.settings.LOCATION_SETTING_KEY)){var s,a,o=e.settings.get(e.settings.LOCATION_SETTING_KEY);if(s=o&&"1"===o?e.settings.storageAvailable("localStorage")?window.localStorage.getItem(e.settings.USER_LOC_LOCAL_STORAGE_KEY):null:o,a=new e.Models.UserLocation(s),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&e.geo&&e.geo._getBucketData){var n=e.geo._getBucketData();this.lastRegionData=n}a.isValid()&&(a.desc||a.setDescByGeocoding(function(){this.setLocation(a)}.bind(this)),this.setLocation(a,!1))}},e.Models.UserLocator.prototype=$.extend({},t.prototype,{canGetLocation:function(){return!!(w.navigator&&w.navigator.geolocation&&w.navigator.geolocation.getCurrentPosition)},canShowPUL:function(){return!!this.hasLocation()||(e.device.isChromiumBased?0===document.cookie.length||e.settings.storageAvailable("localStorage"):e.settings.storageAvailable("localStorage",{bypassCookieCheck:!0}))},hasLocation:function(){return this.userLocation.isValid()},updateLocation:function(t,s){if(t=t||{},s="function"==typeof s?s:null,this.set("lastUpdateType",t.updateType||"na"),("cta"===t.updateType||"user"===t.updateType)&&(this._updateClickCount+=1,3===this._updateClickCount))return e.pixel.fire("lupp"),this.set("problemUpdatingLocation",!0),this._updateClickCount=0,void(s&&s());if(!this.canGetLocation()||this.userLocation.type!==e.Models.UserLocation.PRECISE_LOCATION&&!t.force||!t.force&&this._checkedForUpdate||!t.force&&this.userLocation.isValid()&&!this.userLocation.isExpired())s&&s();else{t.retry||e.pixel.fire("lupd",t.updateType),this._stopWaitTimeout();var a="implicit"===t.updateType?250:150;this._waitTimeout=this._setTimeoutWrapper(function(){this._waitTimeout=null,this.set("waitingForLocation",!0),this.set("errorGettingLocation",!1)}.bind(this),a);var o=Date.now();w.navigator.geolocation.getCurrentPosition(function(e){this._locationSuccess(e,t,s)}.bind(this),function(e){this._locationError(e,t,o,s)}.bind(this),{enableHighAccuracy:!this._retries,timeout:1e4,maximumAge:this._retries?36e5:i})}},_locationSuccess:function(t,i,s){e.settings.set(e.settings.LOCATION_SETTING_KEY,1,{saveToCookie:!0});var a={lat:t.coords.latitude,lon:t.coords.longitude};e.geo.fetchBucketData(a,function(e){this._locationSuccessWrapUp(t,i,s)}.bind(this))},_locationSuccessWrapUp:function(t,i,s){if(this._waitTimeout||this.waitingForLocation){this._stopWaitTimeout();var a=new e.Models.UserLocation({lat:t.coords.latitude,lon:t.coords.longitude,type:e.Models.UserLocation.PRECISE_LOCATION});this._checkedForUpdate=!0,this.set("errorGettingLocation",!1),this.set("waitingForLocation",!1),a.setDescByGeocoding(function(){var t=this.setLocation(a);e.pixel.fire("lups",i.updateType,{di:t}),this.emit("successGettingLocation"),s&&s()}.bind(this))}else s&&s()},_locationError:function(t,i,s,a){var o="sys";if(this._waitTimeout||this.waitingForLocation){if(this._stopWaitTimeout(),(3===t.code||2===t.code)&&this._retries<1)return this._retries+=1,i.retry=!0,void this.updateLocation(i,a);1===t.code&&(Date.now()-s>150&&(o="user"),this.hasLocation()?(this.userLocation.timestamp=Date.now(),this.setLocation(this.userLocation)):this.disableLocAsk(o)),this._checkedForUpdate=!0,this.set("errorGettingLocation",t.code),this.set("waitingForLocation",!1),e.pixel.fire("lupe",i.updateType,t.code,o),a&&a()}else a&&a()},cancelLocation:function(){this._stopWaitTimeout(),this.set("waitingForLocation",!1),this.set("errorGettingLocation",!1)},clearLocation:function(){this._stopWaitTimeout(),this.set("userLocation",new e.Models.UserLocation),this.set("errorGettingLocation",!1),this.set("waitingForLocation",!1),e.settings.clear(e.settings.LOCATION_SETTING_KEY,{saveToCookie:!0,saveToCloud:!1}),e.pixel.fire("lcx"),this.emit("meaningfulUserLocationChange")},_setTimeoutWrapper:function(e,t){return window.setTimeout(e,t)},_stopWaitTimeout:function(){this._waitTimeout&&(w.clearTimeout(this._waitTimeout),this._waitTimeout=null)},disableLocAsk:function(t){var i={saveToCookie:!0,saveToCloud:!1};if("sys"===(t=t||"user")){var s=new Date;s.setDate(s.getDate()+7),i.expires=s}e.settings.set("kat","-1",i)},setGeoIPLocation:function(t){t&&t.type===e.Models.UserLocation.GEOIP_LOCATION&&t.isValid()&&(this.geoipLocation=t)},setLocation:function(t,i){i=void 0===i||i;var s=0,a=!1;if(this.hasLocation()&&this.userLocation.type!==t.type&&(a=!0,e.pixel.fire("lstc",t.type)),this.userLocation.isSameAs(t)&&!this.userLocation.isExpired()||(s=e.geo.distance(this.userLocation,t),this.set("userLocation",t)),i){e.settings.clear("kat"),e.settings.set(e.settings.LOCATION_SETTING_KEY,1,{saveToCookie:!0,saveToCloud:!1});try{var o=this.userLocation.intoObj();window.localStorage.setItem(e.settings.USER_LOC_LOCAL_STORAGE_KEY,JSON.stringify(o))}catch(n){e.settings.clear(e.settings.LOCATION_SETTING_KEY),e.pixel.fire("lsle",this.lastUpdateType||"manual",{error:encodeURIComponent(n.message)})}}return(a||s&&s>1)&&this.emit("meaningfulUserLocationChange",s),this.emit("reactSyncUserLocation",this.userLocation,this.lastRegionData),s},fetchGeoIPLocation:function(t){var i=function(e,t){this._locationFetchWaitList.forEach((function(i,s){$.isFunction(i)&&i(e,t)}))}.bind(this);this._isLocationFetching?this._locationFetchWaitList.push(t):this.geoipLocation?t(this.geoipLocation):(this._isLocationFetching=!0,this._locationFetchWaitList.push(t),$.ajax({url:e.services.getURL("local")+"&get_obfus_loc=1",dataType:"jsonp",success:function(t){var s=null;t&&"number"==typeof t.obfus_lat&&"number"==typeof t.obfus_lon&&(s=new e.Models.UserLocation({lat:t.obfus_lat,lon:t.obfus_lon,type:e.Models.UserLocation.GEOIP_LOCATION}),this.setGeoIPLocation(s)),i(s)}.bind(this),error:function(e,t,s){i(null,s)},complete:function(){this._locationFetchWaitList=[],this._isLocationFetching=!1}.bind(this)}))}}),e.userLocator=new e.Models.UserLocator}(DDG),function(e){var t=e.Models.Base;e.Models.ModuleImageHeader=function(i){if(i=i||{},this.images=i.images||[],this.loadMoreImages=i.loadMoreImages||!1,this.maxNumberOfImages="xs"===e.device.widthBreakpoint()?2:4,this.loadMoreImages?this.numberOfImages=this.maxNumberOfImages:this.images&&this.images.length&&(this.numberOfImages=this.images.length>this.maxNumberOfImages?this.maxNumberOfImages:this.images.length),this.layout=i.layout||this._getLayout(),i.morePhotosText?this.morePhotosText=i.morePhotosText:this.morePhotosText=l("More Images"),t.call(this,i),this.loadMoreImages&&this.images.length<this.maxNumberOfImages){this.imagesModel=e.duckbar.tabs.images.model,this.bindEvents([[this.imagesModel,"change:items",this._updateImages],[this.imagesModel,"change:failed",this._updateImages]]);var s={};s.query=i.query,s.vqd=i.imagesVqd,this.imagesModel.requery(s)}},e.Models.ModuleImageHeader.prototype=$.extend({},t.prototype,{_getLayout:function(){var e={};return e["layout_"+this.numberOfImages]=!0,e},_updateImages:function(){if(this.imagesModel.items.length&&!this._loadedImages){this._loadedImages=!0;for(var e=this.maxNumberOfImages-this.images.length,t=0;t<e;t++)this.images.push({url:this.imagesModel.items[t].thumbnail});this.set("imagesLoaded",!0)}}})}(DDG),function(e){var t=e.Views.Base;e.Views.SpellingMessage=function(e){this.model=e.model,this.ia=e.ia,t.call(this,e)},e.Views.SpellingMessage.prototype=$.extend({},t.prototype,{template:"spelling_",_render:function(e){this.template+=this.model.type,t.prototype._render.call(this,{spellingSuggestionLink:'<a class="js-spelling-suggestion-link"></a>',spellingSuggestionSlot:'<span class="js-spelling-suggestion-link"></span>',spellingRecourseLink:'<a class="js-spelling-recourse-link"></a>'}),this._showSpellingMessage()},_showSpellingMessage:function(){e.pixel.fire("spd",this.model.type),"nmrc"===this.model.type?this.$el.find(".js-spelling-suggestion-link").html(this.model.suggestion):this.$el.find(".js-spelling-suggestion-link").attr({href:this.model.makeSpellingURL(this.model.link,!1,this.ia),"data-query":this.model.query}).html(this.model.suggestion).click(this._onSpellingLinkClick.bind(this,this.model.query)),this.$el.find(".js-spelling-recourse-link").attr({href:this.model.makeSpellingURL(this.model.recourseLink,!0,this.ia),"data-query":this.model.recourseQuery}).html(this.model.recourseText).click(this._onSpellingLinkClick.bind(this,this.model.recourseQuery))},_onSpellingLinkClick:function(t,i){DDG.pixel.fire("sp",this.model.type),e.settings.isDefault("kg")||(i.preventDefault(),e.page.searchbar.updateQuery(t))}})}(DDG),function(e){var t=e.Views.Base,i="set-header--floating";e.Views.Header=function(i){t.call(this,i),e.deep.on("deep:upstreamFailed",this._onDeepUpstreamFailed.bind(this)),this.views.headerTextPromo=new e.Views.TextPromo({appendTo:".js-header-aside",content:"header",slug:"updates-2024-q1",parts:[{type:"badge",text:"New!"},{type:"text",text:"Explore DuckDuckGo's latest updates"}],uri:"https://duckduckgo.com/updates",start:Date.UTC(2024,4,24,0,0),end:Date.UTC(2024,5,1,0,0),filter:function(){return"m"!==e.settings.get("km")&&(e.device.isDesktop&&e.device.isEnglish)}}),e.serpPromotions.activeContains("browserPopover")||(this._reactDOMRoot||(this._reactDOMRoot=document.createElement("div"),this._reactDOMRoot.className="header--aside__item header--aside__item--hidden-lg",document.querySelector(".js-header-aside").prepend(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot)),this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{pixel:e.pixel},window.React.createElement(window.components.SerpHeaderLink,{text:l("Privacy, simplified."),href:"/updates",minWidth:e.device.isEnglish?910:1200})))),(e.serpPromotions.activeContains("productMenu")||e.serpPromotions.activeContains("browserPopover"))&&(this._reactDOMRoot||(this._reactDOMRoot=document.createElement("div"),this._reactDOMRoot.className="header--aside__item header--aside__item--hidden-lg",document.querySelector(".js-header-aside").prepend(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot))),e.serpPromotions.activeContains("browserPopover")&&this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{device:e.device,history:e.history,pixel:e.pixel,searchExperiments:e.searchExperiments,serpPopover:e.serpPopover,serpPromotions:e.serpPromotions,settings:e.settings,deep:e.deep},window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:{UPGRADE_BROWSER:lp("Browser Promo Popover","Upgrade to our Private Browser for Mac"),BROWSER_TAGLINE:lp("Browser Promo Popover","Fast. Secure. Free."),SEARCH_PRIVATELY:lp("Browser Promo Popover","Search privately and block trackers"),BLOCK_COOKIE_POPUPS:lp("Browser Promo Popover","Block annoying cookie pop-ups"),YOUTUBE_WITHOUT_TARGETED_ADS:lp("Browser Promo Popover","Watch YouTube without targeted ads"),HIDE_EMAIL:lp("Browser Promo Popover","Hide your email address"),INSTALL_MAC_BROWSER:lp("Browser Promo Popover","Install DuckDuckGo Mac Browser"),INSTALL_DUCKDUCKGO_MAC:lp("Browser Promo Popover","Install DuckDuckGo for Mac"),UPGRADE_BROWSER_WINDOWS:lp("Browser Promo Popover","Upgrade to our Private Browser for Windows"),INSTALL_DUCKDUCKGO_WINDOWS:lp("Browser Promo Popover","Install DuckDuckGo for Windows"),CLEAR_COOKIES:l("Clear your cookies often?"),COOKIE_HOMEPAGE_MESSAGE:l("Try our homepage that never shows these messages:"),DOWNLOAD_FREE:lp("Browser Promo Popover","Free"),DOWNLOAD_BROWSER:lp("Browser Promo Popover","Download Browser"),TRY_THE_BROWSER:lp("Browser Promo Popover","Try the %sDuckDuckGo Browser.%s Fast. Free. Private.","<strong>","</strong>"),UPGRADE_TO_OUR_BROWSER:lp("Browser Promo Popover","Upgrade to our browser."),ERASE_IN_A_FLASH:lp("Browser Promo Popover","Erase your browsing data in a flash with our %sFire Button%s","<strong>","</strong>"),DOWNLOAD_DUCKDUCKGO_BROWSER:lp("Browser Promo Popover","Download DuckDuckGo Browser")}},window.React.createElement(window.components.SerpBrowserPromo,{})))),e.serpPromotions.activeContains("productMenu")&&this._reactRoot.render(window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:{ADD_DDG_BROWSER:function(e){return l("Add DuckDuckGo to %s",e)},ADD_EXTENSION_TO:lp("homepage ATB modal","Add our extension to help protect personal data"),CLICK_ADD_THEN_OKAY:lp("install-duckduckgo","%sClick %sAdd%sCheck %sAllow%s, then click %sOkay%s","<li>","<b>","</b></li><li>","<b>","</b>","<b>","</b></li>"),CLICK_ALLOW_THEN_ADD_THEN_ALLOW:lp("install-duckduckgo","%sClick %sAllow%sClick %sAdd%sCheck %sAllow%s, then click %sOkay%s","<li>","<b>","</b></li><li>","<b>","</b></li><li>","<b>","</b>","<b>","</b></li>"),CLICK_CONTINUE_THEN_ADD_THEN_ALLOW:lp("install-duckduckgo","%sClick %sContinue To Installation%sClick %sAdd%sCheck %sAllow%s, then click %sOkay%s","<li>","<b>","</b></li><li>","<b>","</b></li><li>","<b>","</b>","<b>","</b></li>"),EXTENSION_INSTALL_PERMISSIONS_POLICY:l("As per our privacy policy, we do not collect or share any personal information ourselves. All of this privacy protection happens on your device."),EXTENSION_INSTALL_PERMISSIONS:l("These browser permissions are used to add privacy protection on websites you visit by blocking hidden trackers, encrypting connections where possible, and by making DuckDuckGo your default search engine."),MORE_ON_FIREFOX:lp("homepage ATB modal","Learn More at Firefox Add-Ons"),SEARCH_HISTORY_PRIVATE:lp("homepage ATB modal","Your DuckDuckGo search history is private"),SEARCH_HISTORY_STOP:lp("homepage ATB modal","We stop anyone from getting your search history, including us."),TAKE_CONTROL_PERSONAL_DATA:lp("homepage ATB modal","Take control of your personal data!"),WE_BLOCK_TRACKERS:lp("homepage ATB modal","We'll block trackers trying to collect your data as you browse.")}},window.React.createElement(window.contexts.DdgInstanceProvider,{device:e.device,extension:e.extension,opensearch:e.opensearch,pixel:e.pixel},window.React.createElement(window.components.ProductMenuButton,{})))),this.bindEvents([[e.device,"scroll",this._onScroll]])},e.Views.Header.prototype=$.extend({},t.prototype,{destroy:function(){this._reactRoot&&(this._reactRoot.unmount(),this._reactRoot=null),this._reactDOMRoot&&(this._reactDOMRoot.remove(),this._reactDOMRoot=null),t.prototype.destroy.call(this)},_onScroll:function(t){"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&document.documentElement.classList.contains("react-expanded-map")||(this.model.updateScrollPosition(e.device.scrollTop()),this.model.scrolledToTop?this._reset():(this.model.scrolledPastHeaderThreshold&&!e.hasClass(this.$el[0].id,i)&&(this._updateHeaderPosition(),setTimeout(function(){e.addClass(this.$el[0].id,e.$html,i)}.bind(this),20)),this.model.canUpdateHeaderPosition&&this._updateHeaderPosition()))},_updateHeaderPosition:function(){this.$el.css("top",this.model.newHeaderPosition),this.model.emit("updatingHeaderPosition")},_reset:function(){this.$el.css("top",0),e.removeClass(this.$el[0].id,e.$html,i)},_onDeepUpstreamFailed:function(){this.views&&this.views.headerTextPromo&&this.views.headerTextPromo.destroy()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Footer=function(i){t.call(this,i),this.views.footerTextPromo=new e.Views.TextPromo({after:".js-footer-tagline",context:"footer",slug:"updates-2024-q1",parts:[{type:"badge",text:"New!"},{type:"text",text:"Explore DuckDuckGo's latest updates"}],uri:"https://duckduckgo.com/updates",start:Date.UTC(2024,4,24,0,0),end:Date.UTC(2024,5,1,0,0),filter:function(){return e.device.isMobile&&e.device.isEnglish}}),this.bindEvents([[this.model,"change:visible",this._toggleVisibility]]),e.settings.isDefault("kav")&&this.model.set("visible",!0),e.device.getCountry(function(){this._showReactFooter({countryCode:e.device.countryCode})}.bind(this))},e.Views.Footer.prototype=$.extend({},t.prototype,{template:"footer",destroy:function(){this._reactRoot&&(this._reactRoot.unmount(),this._reactRoot=null),this._reactDOMRoot&&(this._reactDOMRoot.remove(),this._reactDOMRoot=null),t.prototype.destroy.call(this)},_render:function(i){i.showPrivacySimplified=!!e.device.isMobileDevice,t.prototype._render.call(this,i),this._showFeedbackBtn()},_showFeedbackBtn:function(){!this.views.feedback&&e.device.isMobileDevice&&e.duckbar&&(this.views.feedback=new e.Views.Feedback.Button({appendTo:".js-footer-feedback-btn-wrap",clickPixel:"fbpm"}))},_showReactFooter:function(t){this._reactDOMRoot||(this._reactDOMRoot=document.createElement("div"),document.querySelector(".footer").prepend(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot)),this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{pixel:e.pixel,device:e.device,settings:e.settings},window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:{BROWSER_DESC_FOOTER:lp("SERP footer content","Protect your data as you search and browse."),BROWSER_LINK_FOOTER:lp("SERP footer content","About Browser"),BROWSER_TITLE_FOOTER:lp("SERP footer content","Switch to Our Browser"),BROWSER_TITLE_FOOTER_MAC:lp("SERP footer content","Get Our Mac Browser"),BROWSER_TITLE_FOOTER_WINDOWS:lp("SERP footer content","Get Our Windows Browser"),COMPARE_PRIVACY_LINK_FOOTER:lp("SERP footer content","Compare Privacy"),DOWNLOAD:lp("SERP footer content","Download"),EMAIL_LINK_FOOTER:lp("SERP footer content","Email Protection"),HELP_PAGES:lp("Generic Help Pages button","Help Pages"),LEARN_MORE:l("Learn %sMore%s","",""),NEWSLETTER_LINK_FOOTER:lp("SERP footer content","Newsletter"),PRIVACY_PRO_DESC_FOOTER:lp("SERP footer content","Get a VPN + two more protections in one easy subscription."),PRIVACY_PRO_LINK_FOOTER:lp("SERP footer content","Privacy Pro"),PRIVACY_PRO_TITLE_FOOTER:lp("SERP footer content","DuckDuckGo Privacy Pro"),SHORTCUTS_NEW_LINK_FOOTER:lp("SERP footer content","Search Shortcuts"),WHATS_NEW_DESC_FOOTER:lp("SERP footer content","Explore DuckDuckGo’s latest product updates."),WHATS_NEW_LINK_FOOTER:lp("SERP footer content","What's New"),WHATS_NEW_TITLE_FOOTER:e.device.isEnglish?"See What’s DuckDuckNew":lp("SERP footer content","See What’s New"),GET_MORE_HEADING_FOOTER:lp("SERP footer content","Get More"),EMAIL_TITLE_FOOTER:lp("SERP footer content","Protect Your Inbox"),EMAIL_DESC_FOOTER:lp("SERP footer content","Block email trackers and hide your address."),HELP_TITLE_FOOTER:lp("SERP footer content","Have Questions?"),HELP_DESC_FOOTER:lp("SERP footer content","Get answers at DuckDuckGo Help."),SPREAD_TITLE_FOOTER:lp("SERP footer content","Help Spread DuckDuckGo"),SPREAD_DESC_FOOTER:e.device.isEnglish?lp("footer_card","Help your friends and family take back their privacy!"):lp("showcase_spread","Help your friends and family join the Duck Side!"),PRIVACY_NEWSLETTER:lp("SERP footer content","Privacy Newsletter"),COURSE_DESC_FOOTER:lp("SERP footer content","Stay protected and informed with our privacy newsletter."),GET_IT_ON_APP_STORE:lp("SERP footer content","Get It on the App Store"),GET_IT_ON_GOOGLE_PLAY:lp("SERP footer content","Get It on Google Play")}},window.React.createElement(window.components.SerpFooterPromotion,t))))},_toggleVisibility:function(t){t?(e.$html.addClass("has-footer"),this.$el.show()):(e.$html.removeClass("has-footer"),this.$el.hide()),this._hasShownFooter||(this._setContentMinHeight(),e.device.on("resize",this._setContentMinHeight.bind(this)),this._hasShownFooter=!0)},_setContentMinHeight:function(){this.$after.css("min-height",e.device.height)}})}(DDG),function(e){var t=e.Views.Base;e.Views.ClickableItem=function(e){t.call(this,e)},e.Views.ClickableItem.prototype=$.extend({},t.prototype,{_render:function(e){t.prototype._render.call(this,e),this.bindEvents([[this.$el,"click",this._onClick],[this.$el,"mousedown",this._onMouseDown]])},_onMouseDown:function(t){if(!$(t.target).is("a")){t.stopPropagation();var i=0;e.device.isIE&&(nkdc(t)||nkdm(t))&&(i=1);var s=t.which&&2==t.which,a=t.which&&3==t.which;i||s||a?(fm=1,a||this._onClick(t,1)):fm=0}},_onClick:function(t,i){var s;if(t.stopPropagation(),this.answer.engaged(),t.target&&"A"===t.target.nodeName?s=t.target:(s=this.$el[0]).href=this.$el.attr("data-link"),s.href)return e.history.set({iai:this.answer.getQuerystringItemId(this.model)},function(){DDG.isInternalURL(s.href)||this.answer.clickedExternalLink({},t,s.href);var a=this.answer&&"products"===this.answer.id&&e.device.isDesktop;(!i&&"1"===e.settings.get("kn")||a)&&(i=1),nrg(null,null,t,i,s)}.bind(this)),t.preventDefault();this.model.select()},_onExternalLinkClick:function(i){if(i.stopPropagation(),this.answer.engaged(),this.answer.clickedExternalLink({},i,i.target&&i.target.href),i.ctrlKey)return e.history.set({iai:this.answer.getQuerystringItemId(this.model)}),t.prototype._onExternalLinkClick.call(this,i);e.history.set({iai:this.answer.getQuerystringItemId(this.model),pn:this.model.pageNo},function(){t.prototype._onExternalLinkClick.call(this,i)}.bind(this))}})}(DDG),function(e){var t=e.Views.Base;e.Views.ModuleImageHeader=function(i){if(this.answer=i.answer,this.model=new e.Models.ModuleImageHeader({images:this._getImages(i.model),loadMoreImages:"About"===this.answer.answerItemModel,isMapExpanded:this.answer.isMapExpanded,query:this.answer.meta.requery,imagesVqd:i.imagesVqd,morePhotosText:i.model&&i.model.morePhotosText}),this.model.imageURL=i.model.imageURL,this.answer.isMapExpanded){var s=this._improvedImagesQuery(this.answer)||(this.answer.meta.requery?encodeURIComponent(this.answer.meta.requery):this.answer.queryEncoded);this.model.imageIAURL="/?q="+s+"&ia=images&iax=images"+(w.kurl?w.kurl:"")}var a=$.extend(!0,{},i);a.model=this.model,t.call(this,a),this.bindEvents([[this.model,"change:imagesLoaded",this._onImagesLoaded]])},e.Views.ModuleImageHeader.prototype=$.extend({},t.prototype,{template:"module_image_header",_render:function(e){t.prototype._render.call(this,$.extend({},this.model,{hideTitle:"applemaps"===this.answer.sourceId})),this.bindEvents([[this.$el,"click",this._onClick]])},_getImages:function(e){var t=[],i=e.image||e.imageURL;if(i&&t.push({url:i}),e.thumbnails)for(var s=0;s<e.thumbnails.length;s++)t.push({url:e.thumbnails[s]});return t},_onImagesLoaded:function(){this._rerender()},_onClick:function(t){"about"!==this.answer.nameId||this.answer.isMapExpanded||(t.preventDefault(),e.duckbar.open("images"),this.answer.set("isMapExpanded",!1))},_improvedImagesQuery:function(e){var t=e.items&&e.items[0];if(t){var i=t.Infobox&&t.Infobox.content;if(i&&i.length){var s=i.find((function(e){return e&&"wd_description"===e.data_type})),a=t.Heading;return a&&s&&s.value?a+" "+s.value:void 0}}}})}(DDG),function(e){var t=e.Views.Base;e.Views.NoResults=function(e){this.vertical=e.vertical||"web",this.resultType=e.resultType||l("Results"),this.skipPixel=e.skipPixel,this.resetFilters=e.resetFilters,t.call(this,e)},e.Views.NoResults.prototype=$.extend({},t.prototype,{template:"no_results",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){var i=!e.deep.bn||e.deep.bn.ivc?1:0,s=e.deep.is506&&Math.random()<.1,a=!e.history.get("norrc")&&(!i||s)||this.resetFilters;t.prototype._render.call(this,{query:rqd,is506:e.deep.is506,openClickHere506WrapperTag:'<a class="no-results__link js-no-results-retry" href="#">',closeClickHere506WrapperTag:"</a>",resultType:this.resultType.toLowerCase(),showWebLink:"web"!==this.vertical,showRetryMessage:a,resetFilters:this.resetFilters,minHeight:e.device.height-160,openClickHereWrapperTag:'<a class="no-results__link js-no-results-retry" href="#">',closeClickHereWrapperTag:"</a>",openWrapQueryTag:"<b>",closeWrapQueryTag:"</b>"}),this._pixelData={r:a?1:0,i506:e.deep.is506?1:0,ivc:i,irt:e.history.get("norrc")?1:0,v:this.vertical},this.skipPixel||e.pixel.fire("nor",this._pixelData),this.bindEvents([[".js-no-results-retry","click",this._onRetryClick],[".js-no-results-web","click",this._onWebClick]])},_onRetryClick:function(){this._pixelData.age=e.vqd.age(),e.pixel.fire("norrc",this._pixelData),e.history.set("norrc",1),setTimeout((function(){window.location.reload()}),250)},_onWebClick:function(t){t.preventDefault(),e.pixel.fire("norwc",this._pixelData),e.duckbar.open("web")}})}(DDG),function(e){var t=e.Views.Base;e.Views.NoMoreResults=function(e){this.vertical=e.vertical,t.call(this,e)},e.Views.NoMoreResults.prototype=$.extend({},t.prototype,{template:"no_more_results",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){t.prototype._render.call(this,{query:rqd,openWrapQueryTag:"<b>",closeWrapQueryTag:"</b>"}),e.pixel.fire("nomoreresults",{v:this.vertical})}})}(DDG),function(e){var t=e.Views.Base,i={euandroid:{template:"welcome_message_eu",pixels:{impression:"wceui",dismiss:"wceud",cta:"wceuo"},dismissCookieCallback:function(){e.settings.set("kea","1")}},extensionInstall:{template:"welcome_message",pixels:{impression:"wcmi",dismiss:"wcmd"}}};e.Views.WelcomeMessage=function(e){t.call(this,e)},e.Views.WelcomeMessage.prototype=$.extend({},t.prototype,{_render:function(s){this.config=i[s.type||"extensionInstall"],this.template=this.config.template,e.pixel.fire(this.config.pixels.impression),setTimeout(function(){this.$parent.addClass("is-showing")}.bind(this),1e3),t.prototype._render.call(this,$.extend(s,{queryString:e.get_query_encoded()})),this._cacheElems(".js-welcome",["dismiss","cta"]),this.bindEvents([[this.$dismiss,"click",this._onClick.bind(this,"dismiss")],[this.$cta,"click",this._onClick.bind(this,"cta")]])},_onClick:function(t){t&&this.config.pixels[t]&&e.pixel.fire(this.config.pixels[t]),this.config.dismissCookieCallback&&this.config.dismissCookieCallback(),this.$el.hide()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Tooltip=function(e){e.isAlignedLeft="left"===e.align,this.preventHide=!1,this.content=e.content,t.call(this,e)},e.Views.Tooltip.prototype=$.extend({},t.prototype,{template:"tooltip",_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-tooltip",["triangle-outer","triangle-inner"]),this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[e.device,"resize",this._onResize]]),this.content&&this.content.$el.appendTo(this.$el)},show:function(t){var i=t.tooltipLeft,s=t.tooltipTop;this.$el.addClass("tooltip--"+t.position),this.$el.removeClass("is-hidden"),"right"===t.position&&(s-=this.$el.outerHeight()/2),"below"===t.position&&t.centerTriangleOnTriggerElement&&("right"===t.align?(i-=this.$el.outerWidth(),this._setTrianglePosition({right:t.triggerElementDimensions.width/2-1})):this._setTrianglePosition({left:t.triggerElementDimensions.width/2})),"mobile"===t.position&&(this.$el.width(e.device.width-40),i=(e.device.width-this.$el.outerWidth())/2,this._setTrianglePosition({left:t.triggerElementDimensions.offset.left-i+t.triggerElementDimensions.width/2-10})),this.$el.css({top:s,left:i})},_setTrianglePosition:function(e){this.$triangleouter.css(e),this.$triangleinner.css(e)},hide:function(){this.preventHide||(this.$el.css({top:"",left:"",width:""}),this._setTrianglePosition({top:"",left:""}),this.$el.removeClass((function(e,t){return(t.match(/tooltip--.*/g)||[]).join(" ")})),this.$el.addClass("is-hidden"))},_onMouseEnter:function(t){this.tooltipHoverable||(this.preventHide=!e.device.isMobileDevice)},_onMouseLeave:function(e){this.preventHide=!1,this.hide()},_onResize:function(){this.preventHide=!1,this.hide()}})}(DDG),function(e){var t=["xs","s","m"],i={darkerBackgroundDarkTheme:!1,align:"right",tooltipHoverable:!0,centerTriangleOnTriggerElement:!0,isManuallyTriggered:!1,allowMobilePosition:!0,appendTo:$(".js-site-wrapper")};e.Views.TooltipMixin=function(e){this.view=e,this.mouseLeaveTimeout,this.position,this.onTriggerElementClick=this.onTriggerElementClick.bind(this),this.mobileVisible=!1},e.Views.TooltipMixin.prototype=$.extend({},{setup:function(t){var s=$.extend({},i,t);$.extend(this,s),s.isManuallyTriggered||(e.device.isMobileDevice?this.view.bindEvents([[this.$triggerElement,"click",this.onTriggerElementClick]]):this.view.bindEvents([[this.$triggerElement,"mouseenter",this.onTriggerElementMouseEnter.bind(this)],[this.$triggerElement,"mouseleave",this.onTriggerElementMouseLeave.bind(this)]])),this.tooltip||(this.tooltip=new DDG.Views.Tooltip($.extend(s)))},_triggerTooltip:function(){var i,s,a={offset:this.$triggerElement.offset(),height:this.$triggerElement.outerHeight(),width:this.$triggerElement.outerWidth()};if(-1!==t.indexOf(e.device.widthBreakpoint())&&this.allowMobilePosition)this.position="mobile";else if(this.forcePositionDesktop)this.position=this.forcePositionDesktop;else{var o=1===this.$triggerElement.parents(".js-sidebar-ads").length||1===this.$triggerElement.parents(".js-react-sidebar").length||1===this.$triggerElement.parents(".js-react-news-sidebar").length||1===this.$triggerElement.parents(".js-vertical-sidebar").length,n=1===this.$triggerElement.parents(".js-tileview-top-module").length,r=1===this.$triggerElement.parents(".js-metabar").length;this.position=o||n||r?"below":"right"}"mobile"===this.position?(i=a.offset.top+a.height,s=a.offset.left,1===this.$triggerElement.parents(".js-vertical-map-sidebar").length&&(i-=this.$triggerElement.parents(".js-vertical-map-sidebar").position().top-this.$triggerElement.parents(".js-vertical-map-sidebar").outerHeight(!0))):"below"===this.position?(i=a.offset.top+a.height,s="right"===this.align?a.offset.left+a.width:a.offset.left):(i=a.offset.top+a.height/2,s=a.offset.left+a.width),this.tooltip.show({tooltipTop:i,tooltipLeft:s,triggerElementDimensions:a,position:this.position,align:this.align,centerTriangleOnTriggerElement:this.centerTriangleOnTriggerElement}),this.onShow&&"function"==typeof this.onShow&&this.onShow()},_hideTooltip:function(){this.onHide&&"function"==typeof this.onHide&&this.onHide(),this.tooltip.hide()},onTriggerElementClick:function(e){e.stopPropagation(),this.mobileVisible=!this.mobileVisible,this.mobileVisible&&this._triggerTooltip(),window.addEventListener("touchstart",this._onWindowTouchStart.bind(this))},_onWindowTouchStart:function(e){var t=$(e.target);t.is(".tooltip")||t.parents(".tooltip").length>0||(this._hideTooltip(),this.view.$el.has(t).length||t[0].isEqualNode(this.view.$el[0])||(this.mobileVisible=!1))},onTriggerElementMouseEnter:function(){this.mouseLeaveTimeout&&clearTimeout(this.mouseLeaveTimeout),this._triggerTooltip()},onTriggerElementMouseLeave:function(){this.mouseLeaveTimeout=setTimeout(function(){this._hideTooltip()}.bind(this),100)}})}(DDG),function(e){var t=e.Views.Base;e.Views.AdBadge=function(i){i=$.extend({},{context:"default",label:l("Ad")},i),this.tooltip=new e.Views.TooltipMixin(this),t.call(this,i)},e.Views.AdBadge.prototype=$.extend({},t.prototype,{template:"ad_badge",_render:function(i){t.prototype._render.call(this,i),this.tooltip.setup({tooltipId:i.tooltipId,$triggerElement:this.$(".js-badge--ad"),content:new DDG.Views.AdBadgeTooltip({}),forcePositionDesktop:i.forcePositionDesktop,onShow:function(){e.pixel.fire("adbadge_hovered"),this.longHoverTimeout=setTimeout(function(){this.tooltip.$el&&!this.tooltip.$el.hasClass("is-hidden")&&e.pixel.fire("adbadge_hovered_long")}.bind(this),1500)},onHide:function(){this.longHoverTimeout&&clearTimeout(this.longHoverTimeout)}})}})}(DDG),function(e){var t=e.Views.Base,i=["bg_BG","cs_CZ","da_DK","de_DE","el_GR","es_ES","et_EE","fi_FI","fr_FR","hr_HR","hu_HU","is_IS","it_IT","lt_LT","lv_LV","nb_NO","nl_NL","pl_PL","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","tr_TR"];e.Views.AdBadgeTooltip=function(e){this.helpPageURL=this._getHelpPageURL(),t.call(this,e),this._cacheElems(".js-tooltip",["link"]),this.bindEvents([[this.$link,"click",this._onLinkClick]])},e.Views.AdBadgeTooltip.prototype=$.extend({},t.prototype,{template:"ad_badge_tooltip",_render:function(){t.prototype._render.call(this,{helpPageURL:this.helpPageURL})},_getHelpPageURL:function(){var e=this._getHelpPageLocaleSuffix();return"https://duckduckgo.com/duckduckgo-help-pages/"+(e?"translated":"company")+"/ads-by-microsoft-on-duckduckgo-private-search"+e},_getHelpPageLocaleSuffix:function(){var e=window.locale,t="",s=i.indexOf(e);return s>=0&&(t="-"+i[s]),t},_onLinkClick:function(){e.pixel.fire("adbadge_link_clicked")}})}(DDG),function(e){var t=e.Views.Base;e.Views.VerticalSectionDivider=function(e){this.options=e,this.answer=this.options.answer,t.call(this,this.options)},e.Views.VerticalSectionDivider.prototype=$.extend({},t.prototype,{template:"vertical_section_divider",_render:function(i){t.prototype._render.call(this,i),this.views.header=new e.Views.VerticalSectionHeader({appendTo:this.$el,answer:this.answer,title:this.options.title,adsMode:this.options.adsMode,freeListingsMode:this.options.freeListingsMode})}})}(DDG),function(e){var t=e.Views.Base,i="MODE_DEFAULT",s="MODE_ADS",a="MODE_FREE_LISTINGS";e.Views.VerticalSectionHeader=function(o){o.inMetabar?this.mode=this._getModeBasedOnItems(o):o.adsMode?this.mode=s:o.freeListingsMode?this.mode=a:this.mode=i,this.isIE=e.device.isIE,this.answer=o.answer,this.title=o.title,t.call(this,o),this.answer&&o.inMetabar&&(this.answer.on("change:hasScrolledPastFreeListings",this._onScrolledPast.bind(this)),this.answer.on("requery-complete",this._updateBasedOnItems.bind(this)))},e.Views.VerticalSectionHeader.prototype=$.extend({},t.prototype,{template:"vertical_section_header",_render:function(){this.outputtedTitle=this._getTitleBasedOnMode(),t.prototype._render.call(this,this),this.mode!==i&&(this.mode===s?this.views.adsBadge=new e.Views.AdBadge({label:l("Ads"),appendTo:this.$el,context:"shopping-vertical",isIcon:!0}):this.mode===a&&(this.views.freeListingsBadge=new e.Views.FreeListingsBadge({appendTo:this.$el})))},_getTitleBasedOnMode:function(){switch(this.mode){case s:return l("Ads");case a:return l("Products");default:return this.title}},_onScrolledPast:function(e){this.mode=e?a:s,this._rerender()},_updateBasedOnItems:function(){this.mode=this._getModeBasedOnItems(this),this._rerender()},_getModeBasedOnItems:function(t){var i=0===e.getProperty(t,"answer.items.length"),o=t.answer.isFreeListings();return i||!o?s:a}})}(DDG),function(e){var t=e.Views.VerticalSectionDivider;e.Views.FreeListingsDivider=function(i){this.options=$.extend({shouldUpdateMetabarContent:!e.device.isMobileDevice,freeListingsMode:!0,border:!0},i),this.answer=this.options.answer,t.call(this,this.options),this.options.shouldUpdateMetabarContent&&(this.bindEvents([[e.device,"scroll",this._onScroll],[e.device,"resize",this._onResize],[this.answer,"metabar-stuck",this._onMetabarStuck],[this.answer,"removed-load-more",this._setScrolledPastY]]),this._observer=e.Utils.IsIntoViewObserver(this.$el[0],function(e){this.answer.set("freeListingsDividerIntoView",e)}.bind(this)))},e.Views.FreeListingsDivider.prototype=$.extend({},t.prototype,{destroy:function(){var i=e.getProperty(e,"page.views.header.$el");i&&this.boundAnimationEnd&&this.boundAnimationStart&&(i.off("transitionend transitioncancel",this.boundAnimationEnd),i.off("transitionstart",this.boundAnimationStart)),t.prototype.destroy.call(this)},_onMetabarStuck:function(){this._setShowingFloatedHeader(),this._setScrolledPastY(),this._updateLabelBasedOnScrollPosition()},_onResize:function(){this.answer.active&&(this._setScrolledPastY(),this._updateLabelBasedOnScrollPosition())},_render:function(e){t.prototype._render.call(this,e),this.options.shouldUpdateMetabarContent&&(this._setScrolledPastY(),this._setupUpdateLabelOnAnimationEnd())},_scrolledPastY:0,_checkTimeout:null,_setScrolledPastY:function(){this._scrolledPastY=this.$el.offset().top+9-(this._showingFloatedHeader?DDG.get_header_height():0)},_setShowingFloatedHeader:function(){this._pageHeaderReference=this._pageHeaderReference||e.getProperty(e,"page.views.header.model"),this._pageHeaderReference&&(this._showingFloatedHeader=this._pageHeaderReference.isFloated())},_updateLabelCloseToAnimation:function(){this._checkTimeout||this._isAnimating||(this._checkTimeout=setTimeout(function(){this._setScrolledPastY(),this._updateLabelBasedOnScrollPosition(),this._checkTimeout=null}.bind(this),750))},_setupUpdateLabelOnAnimationEnd:function(){var t=e.getProperty(e,"page.views.header.$el");t&&(this.boundAnimationEnd=this._onHeaderAnimationEnd.bind(this),this.boundAnimationStart=this._onHeaderAnimationStart.bind(this),t.on("transitionend transitioncancel",this.boundAnimationEnd),t.on("transitionstart",this.boundAnimationStart))},_onHeaderAnimationEnd:function(){this.answer.active&&(this._setShowingFloatedHeader(),this._isAnimating=!1,this._setScrolledPastY(),this._updateLabelBasedOnScrollPosition())},_onHeaderAnimationStart:function(){clearTimeout(this._checkTimeout),this._checkTimeout=null,this._isAnimating=!0},_onScroll:function(){if(this.answer.freeListingsDividerIntoView){var e=window.scrollY<this._prevScroll;!this._showingFloatedHeader&&e||this._showingFloatedHeader&&!e?this._updateLabelCloseToAnimation():this._updateLabelBasedOnScrollPosition(),this._prevScroll=window.scrollY}},_updateLabelBasedOnScrollPosition:function(){this.answer.hasScrolledPastFreeListings?window.scrollY<this._scrolledPastY&&this.answer.set("hasScrolledPastFreeListings",!1):window.scrollY>this._scrolledPastY&&this.answer.set("hasScrolledPastFreeListings",!0)}})}(DDG),function(e){var t=e.Views.Base;e.Views.FreeListingsBadge=function(i){this.tooltip=new e.Views.TooltipMixin(this),t.call(this,i)},e.Views.FreeListingsBadge.prototype=$.extend({},t.prototype,{template:"free_listings_badge",_render:function(e){t.prototype._render.call(this,e),this.tooltip.setup({$triggerElement:this.$el,content:new DDG.Views.FreeListingsTooltip({}),forcePositionDesktop:"below"})}})}(DDG),function(e){var t=e.Views.Base;e.Views.FreeListingsTooltip=function(e){t.call(this,e)},e.Views.FreeListingsTooltip.prototype=$.extend({},t.prototype,{template:"free_listings_tooltip"})}(DDG),function(e){var t=e.Views.Base;e.Views.DisclaimerAdsTooltip=function(e){t.call(this,e)},e.Views.DisclaimerAdsTooltip.prototype=$.extend({},t.prototype,{template:"disclaimer_ads_tooltip"})}(DDG),function(e){var t=e.Views.Base,i="LEFT",s="RIGHT";e.Views.ExploreByItems=function(i){this.metabar=i.metabar,this.answer=i.answer,this._cachedItems=[],this.currentScroll=i.scrollTo||0,t.call(this,i),this._cacheElems(".js-explore-by-items",["container","item","right","left"]),this.bindEvents([[this.$container,"scroll",this._updateArrowButtonVisibility],[this.$item,"click",this._onItemClick],[this.$item,"contextmenu",this._onItemContextMenu],[this.$right,"click",this._onRightClick],[this.$left,"click",this._onLeftClick],[e.device,"resize",this._updateArrowButtonVisibility],[this.answer,"change:items",this._updateArrowButtonVisibility],[this.metabar,"stuck",this._updateArrowButtonVisibility]]),i.scrollTo&&this.$container.scrollLeft(i.scrollTo)},e.Views.ExploreByItems.prototype=$.extend({},t.prototype,{template:"explore_by_items",_updateArrowButtonVisibility:function(){var e=this.$container.scrollLeft(),t=this.$container[0].scrollWidth,i=this.$container[0].clientWidth,s=t-i;this.currentScroll=e;var a=function(e,t){e.toggleClass("is-hidden",!t)};t<=i?(a(this.$left,!1),a(this.$right,!1)):(a(this.$left,!!(e>0)),a(this.$right,!(e===s)))},_getEBIItemElements:function(){var e=this._cachedItems;return 0===e.length&&this.$item.each((function(){e.push($(this))})),e},_getItemAtEdge:function(e){var t,i,a=this._getEBIItemElements(),o=this.$left.outerWidth(),n=this.$container.width()-o;for(var r in a){var l=a[r],d=l.position().left;if(d+l.outerWidth(!0)>(e===s?n:0)){t=parseInt(r),i=e===s?-1*(n-(d+l.outerWidth())):d-o;break}}return{index:t,partHidden:i}},_scrollToContainerEdge:function(e,t){var a=this._getEBIItemElements(),o=e+(t===s?4:-4),n=t===s?this.$container[0].scrollWidth-this.$container[0].clientWidth:0;return(t===s&&o>=a.length||t===i&&o<0)&&n},_scrollNumberOfItemsFromIndex:function(e,t,i){for(var a=0,o=this._getEBIItemElements(),n=1;n<=e-(i===s?0:1);n++){var r=o[t+(i===s?n:-n)].outerWidth(!0);a+=i===s?r:-r}return a},_scrollItems:function(e){var t=this.$container.scrollLeft(),i=this._getItemAtEdge(e),s=this._scrollToContainerEdge(i.index,e);!1===s?(t+=i.partHidden,t+=this._scrollNumberOfItemsFromIndex(3,i.index,e)):t=s,this._scroll(t)},_scroll:function(e){this.$container.animate({scrollLeft:e},600,this._updateArrowButtonVisibility.bind(this))},_onRightClick:function(){this._scrollItems(s)},_onLeftClick:function(){this._scrollItems(i)},_onItemClick:function(t){var i=t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1===t.button||!e.settings.isDefault("kn");this._signalItemClicked(this._getItemIURL(t),i)},_onItemContextMenu:function(e){this._signalItemClicked(this._getItemIURL(e),!0)},_getItemIURL:function(e){return e&&e.currentTarget&&e.currentTarget.getAttribute("data-iurl")||!1},_signalItemClicked:function(t,i){t&&this.answer&&this.answer.adReporting&&(this.answer.setExploreByItemClicked(t),i&&this.answer.emit("clicked-explore-by-item")),e.pixel.fire("iafi","explore-by-items")}})}(DDG),function(e){var t=e.Views.Base;e.Views.AnomalyModal=function(e){this.timing={tilesClicked:[]},t.call(this,e),this.onSuccess=e.onSuccess},e.Views.AnomalyModal.prototype=$.extend({},t.prototype,{template:"anomaly_modal",success:function(t){"function"==typeof this.onSuccess&&this.onSuccess(t),new e.Views.AnomalySuccessModal({appendTo:$("body")}),this.destroy()},onTileClicked:function(e){var t=$(e.currentTarget),i=t.data("index");this.model.toggleTile(i),t.toggleClass("selected"),this.timing.tilesClicked.push(Date.now()-this.timing.rendered)},onSubmitClicked:function(e){$.ajax({type:"GET",url:"/anomaly.js",data:{q:this.model.q,type:"anomaly",acs:this.model.getAnswer(),cc:this.model.cc,gk:this.model.gk,p:this.model.p,o:this.model.o,s:this.model.s,r:this.model.r},success:this._handleResponse.bind(this)}),this.timing.submitted=Date.now()-this.timing.rendered},_handleResponse:function(t){var i={c:"mhr",cc:t.cc,gk:t.gk,sc:t.sc,e:t.e,p:t.p,i:t.i,o:t.o,s:t.s,er:t.er,r:t.r};t&&(t.sc&&this.tryAgain(t),t.e&&(i.q=t.q,e.pixel.fire("tqadbe",i),window.location.replace("/50x-tq.html?tq="+this.model.gk)),t.e||t.sc||(e.pixel.fire("tqadbs",i),this._fireTimingPixel(!0,i),this.success(t)))},tryAgain:function(t){var i={c:"mta",cc:t.cc,gk:t.gk,sc:t.sc,e:t.e,p:t.p,o:t.o,s:t.s,i:t.i,er:t.er,r:t.r};e.pixel.fire("tqadbr",i),this._fireTimingPixel(!1,i),new e.Views.AnomalyErrorModal({appendTo:$("body"),model:new e.Models.Base(t),onSuccess:this.onSuccess}),this.destroy()},_fireTimingPixel:function(t,i){e.pixel.fire("tqadbt",Object.assign({},i,{tileClicks:this.timing.tilesClicked,submitClicked:this.timing.submitted,success:t}))},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-anomaly-modal",["tile","submit"]),this.bindEvents([[this.$tile,"click",this.onTileClicked],[this.$submit,"click",this.onSubmitClicked]]),this.timing.rendered=Date.now()}})}(DDG),function(e){var t=e.Views.Base;e.Views.AnomalyErrorModal=function(e){var i=e.model.i;e.model.instructions="1"===i?lp("Anomaly modal","You have 1 attempt left."):lp("Anomaly modal","You have %s attempts left.",i),t.call(this,e),this.onSuccess=e.onSuccess},e.Views.AnomalyErrorModal.prototype=$.extend({},t.prototype,{template:"anomaly_error_modal",_render:function(e){t.prototype._render.call(this,e.model),this._cacheElems(".js-anomaly-modal",["tryAgain"]),this.bindEvents([[this.$tryAgain,"click",this._tryAgain]])},_tryAgain:function(){var t=this.model;new e.Views.AnomalyModal({appendTo:$("body"),model:new e.Models.AnomalyModal({q:t.q,gk:t.gk,p:t.p,cc:t.cc,o:t.o,s:t.s,r:t.r}),onSuccess:this.onSuccess}),this.destroy()}})}(DDG),function(e){var t=e.Views.Base;e.Views.AnomalySuccessModal=function(i){t.call(this,i),e.deep.on("change:finished",this.destroy.bind(this))},e.Views.AnomalySuccessModal.prototype=$.extend({},t.prototype,{template:"anomaly_success_modal"})}(DDG),function(e){var t=e.Views.Base;e.Views.LocationBadge=function(i){i=$.extend({},{context:"default",label:l("Ad")},i),this.tooltip=new e.Views.TooltipMixin(this),t.call(this,i)},e.Views.LocationBadge.prototype=$.extend({},t.prototype,{template:"location_badge",_render:function(e){t.prototype._render.call(this,e),this.tooltip.setup({tooltipId:e.tooltipId,$triggerElement:this.$(".js-badge--location"),content:new DDG.Views.LocationBadgeTooltip({pulEnabled:e.pulEnabled}),extraClass:"tooltip-location-info",forcePositionDesktop:"below"})}})}(DDG),function(e){var t=e.Views.Base;e.Views.LocationBadgeTooltip=function(e){this.pulEnabled=e.pulEnabled,t.call(this,e)},e.Views.LocationBadgeTooltip.prototype=$.extend({},t.prototype,{template:"location_badge_tooltip",_render:function(i){t.prototype._render.call(this,{helpPageURL:"https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/",pulEnabled:i.pulEnabled,isMobile:e.device.isMobile})}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar.Meta,s={expandModeIcon:"G",exitModeIcon:"×",minTopicsForMenu:3};i.MetaBar=function(i){i.heading&&(i.primaryText=i.heading),i.altMeta&&(i.secondaryText=i.altMeta),$.extend(this,s,i),this.parent=i.parent,this.notFixed=i.notFixed,this.showParams=this._shouldShowParams(),this.showSources=this.model.sources&&this.model.sources.values.length>1,this.showAdBadge=this.model.meta&&this.model.meta.hasAdBadge,t.call(this,i);var a=this.model;this.bindEvents([[a,"change:items",this._onItemsChanged],[a,"change:expanded",this._onExpandedChanged],[a,"change:canExpand",this._onExpandedChanged],[a,"change:topics",this._createTopicMenu],[a,"change:parameters",this._onParametersChanged],[e.device,"scroll",this._onScroll],[a,"change:active",this._resetStuck],[a,"metabar-reset",this._resetStuck]]),this.model.once("change:items",this._createContentView.bind(this)),i.shouldFollowHeader&&this._followHeaderOnScrollUp(),this.model.hasExploreByItemsEnabled&&this.model.on("change:exploreByItems",this._createExploreByItems.bind(this))},i.MetaBar.prototype=$.extend({},t.prototype,{template:"metabar",show:function(){this.$el.removeClass("is-hidden"),this._height=this.$el.outerHeight(!0)},hide:function(){this.$el.addClass("is-hidden")},getHeight:function(){return 44},isStuck:function(){return DDG.hasClass(this.id,"is-stuck")},_render:function(){t.prototype._render.call(this,$.extend({},{showMoreAt:this.sourceName,showDropdowns:this.showParams||this.showSources,searchTerm:this.model.query,itemType:l("Results")},this)),(Modernizr.touch||is_mobile)&&this.$el.removeClass("metabar--fixed").addClass("metabar--unsticky"),this._cacheElems(".js-metabar",["primary","secondary","loading","mode","dropdowns"]),this.$mode.on("click",this._onModeClick.bind(this)),this.clickableSecondaryText&&this.$secondary.on("click",this._onSecondaryClick.bind(this)),this._updateMode(),this._updateLoadingState(),this._createTopicMenu(),this._createAttribution(),this._createSourceDropdown(),this._createParameterDropdowns(),this.linkPrimaryText&&(this.$primary.addClass("metabar__primary-text--linked"),this.$primary.on("click",this._onModeClick.bind(this)))},_followHeaderOnScrollUp:function(){var t=e.getProperty(e,"page.views.header.model");t&&(t.on("updatingHeaderPosition",function(){this.$el.css("top",t.isFloated()?DDG.get_header_height():0),this._floatingBelowHeader=t.isFloated()}.bind(this)),this.on("stuck",(function(){t.isFloated()||this.$el.css({top:0}),this.model.emit("metabar-stuck")})))},_createTopicMenu:function(){var t=this.views,i=this.model,s=this.model.topics;!t.topicMenu&&s.length&&s.length>=this.minTopicsForMenu&&(t.topicMenu=new e.Views.AnswerBar.Meta.TopicMenu({model:i,appendTo:this.$(".js-metabar")}),this.$primary.hide())},_createAttribution:function(){if(!this.model.meta.hasAttribution()||this.model.meta.hideAttribution)return!1;var t=this.$(".js-attribution");this.views.attribution=new e.Views.Attribution({answer:this.model,direction:this.sourceName?"bottom":"bottom-left",appendTo:t}),t.removeClass("is-hidden")},_createParameterDropdowns:function(){this.showParams&&(this.views.parameters=new e.Views.Dropdowns.FilterContainer({$el:this.$dropdowns,answer:this.model}))},_createSourceDropdown:function(){this.showSources&&(this.views.source=new i.FilterDropdown({model:this.model.sources,answer:this.model,appendTo:this.$dropdowns}))},_createContentView:function(){this.model.meta.MetabarContentView&&!this.views.content&&(this.views.content=new e.Views[this.model.meta.MetabarContentView]({appendTo:this.$(".js-metabar"),answer:this.model,inMetabar:!0}))},_createExploreByItems:function(){if(this.model.hasExploreByItemsEnabled&&this.model.exploreByItems&&this.model.exploreByItems.length>0){var t=0;this.views.exploreByItems&&(t=this.views.exploreByItems.currentScroll,this.views.exploreByItems.destroy(),delete this.views.exploreByItems),this.views.exploreByItems=new e.Views.ExploreByItems({answer:this.model,metabar:this,after:this.$primary,scrollTo:t}),this.$el.addClass("has-ebi")}},_shouldShowParams:function(){var e=this.model;return(e.parameters&&e.parameters.length||e.hasDynamicFilters)&&!e.canShowSidebarFilters},_updateLoadingState:function(){!this._isLoaded&&this.model.items.length&&(this.$loading.hide(),this.$primary.removeClass("is-loading"),this.$dropdowns.removeClass("is-loading"),this.$secondary.removeClass("is-loading"),this._isLoaded=!0)},_updateMode:function(){var t=this,i=t.model,s=i.expanded,a=t.$mode,o=e.device.isMobile,n=i.meta,r=t.exitModeIcon,d=function(){n.useExpandTextButton()?(a.removeClass("btn--icon"),a.addClass("metabar__grid-btn"),a.text(l("More "+t.model.name))):(a.addClass("btn--icon"),a.removeClass("metabar__grid-btn"),a.text(t.expandModeIcon))};n.hideModeSwitch||e.duckbar.tabIsActiveFullPage(t)?a.addClass("is-hidden"):o||s?(t._modeSwitchEnabled=!0,a.removeClass("is-disabled"),a.removeClass("btn--icon"),a.addClass("metabar__grid-btn"),a.text(r),a.attr("title",l("Click to collapse"))):i.canExpand?(t._modeSwitchEnabled=!0,a.removeClass("is-disabled"),d(),a.attr("title",l("Click to expand"))):(t._modeSwitchEnabled=!1,a.addClass("is-disabled"),d(),a.attr("title",l("Grid mode disabled for this answer")))},_resetStuck:function(){DDG.removeClass(this.id,this.$el,"is-stuck"),this.emit("stuck",!1),this._floatingBelowHeader&&(this._floatingBelowHeader=!1)},_onScroll:function(){if(!Modernizr.touch&&!e.device.isMobile&&this.parent&&this.model.active&&!this.notFixed){var t=DDG.hasClass(this.id,"is-stuck"),i=DDG.hasClass(this.id,"at-bottom");if(!this.model.expanded)return t&&(DDG.removeClass(this.id,this.$el,"is-stuck"),this.emit("stuck",!1)),void(i&&DDG.removeClass(this.id,this.$el,"at-bottom"));var s=e.device.scrollTop(),a=0,o=this.parent.getHeight()-44,n=DDG.get_header_height();a+=DDG.isHeaderFixed?0:n,this.model.hasExploreByItemsEnabled&&this.model.exploreByItems&&this.model.exploreByItems.length>0&&(a-=16),o+=a,"products"===this.model.id&&this.model.hasVerticalTopModule&&(a+=318),this._floatingBelowHeader&&(a-=n),s>a&&!t?(DDG.addClass(this.id,this.$el,"is-stuck"),this.emit("stuck",!0)):s<=a&&t&&this._resetStuck(),!i&&s>o?DDG.addClass(this.id,this.$el,"at-bottom"):i&&s<o&&DDG.removeClass(this.id,this.$el,"at-bottom")}},_onModeClick:function(t){if(t.preventDefault(),t.stopPropagation(),this._modeSwitchEnabled){if(e.device.isMobile)return this.emit("close");this.model.allowModuleIA?e.duckbar.open("web"):this.model.set("expanded",!this.model.expanded),this.model.engaged(),this.model.fire("iacg",{ex:this.model.expanded?1:0})}},_onSecondaryClick:function(){"products"===this.model.id&&this.model.bing&&(e.pixel.fire("iafi","sv","clear"),setTimeout((function(){window.location.reload()}),100))},_onItemsChanged:function(){this._updateLoadingState(),this._updateMode()},_onExpandedChanged:function(){this._updateMode()},_onParametersChanged:function(){this.views&&this.views.parameters&&(this.views.parameters.destroyChildViews(),delete this.views.parameters),this._createParameterDropdowns()},_onExternalLinkClick:function(e){this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar.Meta;i.TopicMenu=function(e){this.views={topics:{}},t.call(this,e),this.bindEvents([[this.model,"change:topics",this._updateTopics],[this.model,"change:selectedTopic",this._onSelectedTopicChanged]])},i.TopicMenu.prototype=$.extend({},t.prototype,{template:"topic_menu",destroy:function(){t.prototype.destroy.call(this),this._removeDocHandler()},_render:function(){t.prototype._render.call(this),this.$menu=this.$(".js-topic-menu"),this._updateTopics()},_updateTopics:function(){var e,t=this.model.topics,s=this.views.topics;for(var a in s)t[a]||(s[a].destroy(),delete s[a]);for(var o=0;o<t.length;o++)s[(e=t[o]).id]||(this.views.topics[e.id]=new i.TopicMenuItem({model:e,appendTo:this.$menu}))},_addDocHandler:function(){DDG.$doc.on("click.topicmenu",this._onDocClick.bind(this)),this._boundToDoc=1},_removeDocHandler:function(){DDG.$doc.off("click.topicmenu"),this._boundToDoc=0},_onSelectedTopicChanged:function(){this.model.selectedTopic&&!this._boundToDoc?this._addDocHandler():this._removeDocHandler()},_onDocClick:function(){this.model.selectedTopic&&this.model.selectedTopic.unselect()}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar.Meta;i.TopicMenuItem=function(e){t.call(this,e),this.bindEvents([[this.$link,"click",this._onClick],[this.model,"change:highlighted",this._onHighlightedChanged],[this.model,"change:selected",this._onSelectedChanged],[this.model,"change:count",this._onCountChanged]])},i.TopicMenuItem.prototype=$.extend({},t.prototype,{template:"topic_menu_item",_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-topic-menu",["link","count"])},_onHighlightedChanged:function(){this.$link.toggleClass("is-highlighted",!!this.model.highlighted)},_onSelectedChanged:function(){this.$link.toggleClass("is-selected",!!this.model.selected)},_onCountChanged:function(){this.model.hideCount||this.$count.text(this.model.items.length)},_onClick:function(e){e.preventDefault(),e.stopPropagation(),this.model.select(),$.isFunction(this.model.engaged)&&this.model.engaged()}})}(DDG),function(e){var t=e.Views.Dropdowns.SelectListDropdown,i=e.Views.AnswerBar.Meta;i.FilterDropdown=function(e){(e=e||{}).showSelected=!0,this.answer=e.answer,t.call(this,e)},i.FilterDropdown.prototype=$.extend({},t.prototype,{_render:function(i){if(t.prototype._render.call(this,i),this.model.bing){"SortBy"===this.model.type&&e.getProperty(this,"model.values.1.id")===this.model.selectedId||this.$el.toggleClass("is-active",this.model.selectedId)}else{var s=e.history.getComposite("iaf",this.model.key);s&&this.model.select(s)}},_updateHidden:function(){var t=e.history.get("iaf");t?e.hidden.set("iaf",t):e.hidden.clear("iaf")},_onSelectedChange:function(){var i=this.model.selected.id;t.prototype._onSelectedChange.call(this),i?(e.history.setComposite("iaf",this.model.key,i),this.$el.addClass("is-active")):(e.history.clearComposite("iaf",this.model.key),this.$el.removeClass("is-active")),this._updateHidden()},_onItemClick:function(i){t.prototype._onItemClick.call(this,i),this.model.bing&&this.$el.toggleClass("is-active",$.isNumeric(i)&&i>0),e.pixel.fire("iafi",this.model.pixelName?this.model.pixelName:this.model.key,this.model.bing?{}:{fv:this.model.selected.id.toLowerCase()}),this.answer.engaged(),this.answer.requery()}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar.Meta,s={Price:!0,Color:!0,Size:!0};i.SidebarFilter=function(e){e=e||{},this.answer=e.answer,this._canHaveHiddenOptions(e)&&(this.lastSelected=e.lastSelected=this._getLastSelected(e.model.values),e.hasHiddenOptions=this._getHasHiddenOptions(e),e.numHiddenOptions=this._getNumHiddenOptions(e),e.hasOneHiddenOption=1===e.numHiddenOptions),t.call(this,e),this._cacheElems(".js-sidebar-filters",["options","show-more"]),this._createOptions(),this.bindEvents([[this.$showmore,"click",this._onShowMoreClick]])},i.SidebarFilter.prototype=$.extend({},t.prototype,{template:"sidebar_filter",_createOptions:function(){this.views.options=[];for(var e=1;e<this.model.values.length;e++){var t=this.model.values[e];this.views.options.push(new i.SidebarFilterOption({model:this.model,optionName:t.name,optionId:t.id,selected:t.selected,appendTo:this.$options,answer:this.answer,hidden:this._canHaveHiddenOptions(this)&&this._optionIsHidden(e,this.lastSelected)}))}},_getLastSelected:function(e){for(var t=0,i=1;i<e.length;i++)e[i].selected&&(t=i);return t},_optionIsHidden:function(e,t){return e>5&&e>t},_getNumHiddenOptions:function(e){return e.model.values.length-(e.lastSelected>5?e.lastSelected:5)-1},_getHasHiddenOptions:function(e){return this._canHaveHiddenOptions(e)&&this._optionIsHidden(e.model.values.length-1,e.lastSelected)},_canHaveHiddenOptions:function(e){return!s[e.model.type]},_onShowMoreClick:function(e){this.$options.find(".sidebar-filter__option").removeClass("is-hidden"),this.$(e.target).addClass("is-hidden")}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar.Meta,s={black:"#222222",white:"#ffffff",red:"#ff0000",brown:"#996633",blue:"#00278e",gray:"#c4c4c4",green:"#5b9e4d",orange:"#de5833",yellow:"#ffc649",pink:"#efa4b2",purple:"#933393"};i.SidebarFilterOption=function(e){if((e=e||{}).model&&"Color"===e.model.type){var i=e.optionName.toLowerCase();e.isColor=!0,e.presetColor=!!s[i]&&i,e.color=s[i]||i,e.hideText=!0}e.model&&"Size"===e.model.type&&(e.isSize=!0,e.hideIcon=!0),!e.model||"Price"!==e.model.type&&"SortBy"!==e.model.type||(e.isRadio=!0),this.answer=e.answer,t.call(this,e),this.bindEvents([[this.$el,"click",this._onItemClick]])},i.SidebarFilterOption.prototype=$.extend({},t.prototype,{template:"sidebar_filter_option",_onItemClick:function(t){var i=$(t.currentTarget),s=i.data("id"),a=this.model.selectedId===s,o=$.isArray(this.model.selectedId)&&-1!==this.model.selectedId.indexOf(s),n=a||o,r=i.find("input");this.model.singleChoice&&n||(r.length>0?r.prop("checked",!n):i.toggleClass("is-selected",!n),this.answer.sources.selected.requeryURL=s,e.pixel.fire("iafi",this.model.pixelName),this.answer.engaged(),this.answer.requery())}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar;i.InfoBox=function(i){t.call(this,i),this.$tile=this.$(".js-infobox-tile"),this.$expand=this.$(".js-tile-expand"),this.$lastInfo=this.$(".info:last"),this.model.expanded&&this._expand(),this.bindEvents([[this.model,"change:expanded",this._onAnswerExpandedChanged],[this.model,"change:active",this._onAnswerActiveChanged],[this.$expand,"click",this._onExpandClick],["a","click",function(){e.pixel.fire("ibc")}],[e.device,"resize",this._onResize]])},i.InfoBox.prototype=$.extend({},t.prototype,{template:"infobox",_expand:function(){this._canExpand()&&this.$tile.addClass("is-open")},_collapse:function(){this._canExpand()&&this.$tile.removeClass("is-open")},_canExpand:function(){if(!this.$lastInfo||"boolean"==typeof this._isExpandable)return this._isExpandable;if(this.model.expanded)return this._isExpandable=!0;var e=this.$lastInfo.position().top+this.$lastInfo.outerHeight(!0),t=this.$tile.outerHeight();return this._isExpandable=e>t},_showHideExpandLink:function(){this._canExpand()?this.$expand.removeClass("is-hidden"):this.$expand.addClass("is-hidden")},_onExpandClick:function(){this.model.set("expanded",!this.model.expanded),this.model.engaged(),this.model.fire("iasm")},_onResize:function(){delete this._isExpandable,this._showHideExpandLink()},_onAnswerActiveChanged:function(){this.model.active&&(delete this._isExpandable,this._showHideExpandLink())},_onAnswerExpandedChanged:function(){this.model.expanded?this._expand():this._collapse()}})}(DDG),function(e){var t=e.Views.ClickableItem,i="is-hidden";e.Views.AnswerBar.Tile=function(i){this.answer=i.answer,this.noDetail=i.noDetail,t.call(this,i),this.bindEvents([[this.model,"change:visible",this._updateVisible],[this.model,"change:partiallyVisible",this._updateVisible],[this.model,"change:selected",this._onSelectedChanged],[this.model,"change:highlighted",this._onHighlightedChanged],[this.answer,"change:active",this._onAnswerActiveChanged],[this.answer,"change:expanded",this._onAnswerExpandedChanged],[e.device,"resize",this._onResize]]);var s=this.answer.meta.rerender;s&&this.bindEvents(s.map(function(e){return[this.model,"change:"+e,this._rerender]}.bind(this)))},e.Views.AnswerBar.Tile.prototype=$.extend({},t.prototype,{show:function(){this.$el.removeClass(i)},hide:function(){this.$el.addClass(i)},getMargins:function(){return{x:parseFloat(this.$el.css("margin-left"),10),top:parseFloat(this.$el.css("margin-top"),10),bottom:this._tileMarginBottom()||8}},_render:function(){this.template=this.model.getItemTemplate(),t.prototype._render.call(this,this.model.toTemplateObject()),e.ImageLoader.registerAll(this.$(".js-lazyload"),this.model.id),e.ImageLoader.registerAll(this.$(".js-lazysvg"),this.model.id,{svg:!0}),this.$ellipsis=this.$(".js-ellipsis");var i=this.$("a");i.length&&i.on("touchstart touchend",(function(e){e.stopPropagation()})),!1===this.answer.meta.itemsHighlight||e.device.isIDevice||(this.$el.on("mouseenter",this._onMouseEnter.bind(this)),this.$el.on("mouseleave",this._onMouseLeave.bind(this))),this._updateEllipsis({force:!0})},_updateEllipsis:function(t){(t=t||{}).force&&(this._hasBeenEllipsized=!1),!this._hasBeenEllipsized&&this.answer.active&&this.model.visible&&this.$ellipsis.length&&!e.device.isMobile&&(this.$ellipsis.ellipsis({id:this.model.id}),this._hasBeenEllipsized=!0)},_updateVisible:function(){(this.model.visible||this.model.partiallyVisible)&&(e.ImageLoader.trigger(this.model.id),this._updateEllipsis())},_updateMargin:function(){if(!e.device.isMobile){var t=this._tileMarginBottom()||8;if(!this.noDetail&&this.model.canShowItemDetail()&&this.answer.expanded&&this.model.selected){var i=this.answer.items[this.answer.items.length-1].gridRow;t=i&&i===this.model.gridRow?(this._tileMarginBottom()+9||t)-1:2*(e.getProperty(this,"answer.detailScrollOffset")||t),t+=this.answer.getDetailHeight()}t+="px",this._marginBottom!==t&&(this._marginBottom=t,this.$el.css({marginBottom:t}))}},_tileMarginBottom:function(){return e.getProperty(this,"answer.tileMarginBottom")},_rerender:function(){t.prototype._rerender.call(this),this._onHighlightedChanged(),this._onSelectedChanged()},_onHighlightedChanged:function(){this.$el.toggleClass("highlight",!!this.model.highlighted)},_onSelectedChanged:function(){this.model.selected&&e.history.set({iai:this.answer.getQuerystringItemId(this.model)}),this.$el.toggleClass("is-selected",!!this.model.selected),this._updateMargin()},_onAnswerActiveChanged:function(){this._updateEllipsis()},_onAnswerExpandedChanged:function(){this._updateMargin(),this._updateEllipsis({force:!0})},_onClick:function(e,i){return"images"!==this.answer.id&&"videos"!==this.answer.id||this.answer.set("expanded",1),"products"===this.answer.id&&this.answer.bing&&(i=1,this.answer.clickedExternalLink({},e)),"products"===this.answer.id&&this.answer.bing&&this.answer.clickedExternalLink({},e),this.answer.fire("iatc"),this.model.selected&&(this.answer.engaged(),!this.noDetail&&this.model.canShowItemDetail())?this.model.unselect():!this.noDetail&&this.model.canShowItemDetail()?(e.preventDefault(),this.answer.engaged(),this.model.select()):t.prototype._onClick.call(this,e,i)},_onMouseEnter:function(t){e.keyboard.active||this.model.highlight()},_onMouseLeave:function(e){this.model.unhighlight()},_onResize:function(e){this._updateEllipsis({force:!0}),this._updateMargin()},_onExternalLinkClick:function(i){if(this.answer.fire("iatc"),"videos"!==this.answer.id||"2"===e.settings.get("k5"))return t.prototype._onExternalLinkClick.call(this,i);i.preventDefault()}})}(DDG),function(e){var t,i=e.Views.AnswerBar.Tile,s="is-loading",a="is-paused",o="is-unavailable",n=0;e.Views.AnswerBar.AudioTile=function(t){i.call(this,t),this.bindEvents([[e.keyboard,"space."+this.answer.id,this._onSpace]])},e.Views.AnswerBar.AudioTile.prototype=$.extend({},i.prototype,{play:function(){n?this.showError("Playback Unavailable"):(this.$el.addClass(s),this.$action||(this.$action=this.$(".audio-controls__action"),this.$time=this.$(".audio-controls__time"),this.$progress=this.$(".audio-controls__progress"),this.$loadProgress=this.$(".audio-controls__progress-loading"),this.$loadProgressFill=this.$(".audio-controls__progress-loading .rotated-fill"),this.$playProgress=this.$(".audio-controls__progress-playback"),this.$playProgressFill=this.$(".audio-controls__progress-playback .rotated-fill")),t?(this.$el.removeClass(a),this.$action.text("║"),this.isPlaying=1,this.hasStartedPlaying=0,this.sound?(t.play(this.model.id),this._onLoadProgress()):this.sound=t.play(this.model.id,this.model.streamURL,{autoPlay:!0,whileloading:this._onLoadProgress.bind(this),whileplaying:this._onPlayProgress.bind(this),onload:this._onLoadFinished.bind(this),onfinish:this._onPlayFinished.bind(this)})):e.require("audio",function(i){if((t=i)&&t.ready){if(e.device.isIDevice||e.device.isAndroid)return void this.$el.removeClass(s)}else n=1;this.play()}.bind(this)))},pause:function(){t&&t.ready&&(t.pause(this.model.id),this.$el.removeClass(s),this.$el.addClass(a),this.$action.text("►"),this.isPlaying=0)},stop:function(){t&&t.ready&&(t.stop(this.model.id),this.$el.removeClass(s),this.$el.removeClass(a),this.$action.text("►"),this.$el.hasClass(o)||this.$time.text(""),this.$loadProgress.removeClass("gt50"),this.$playProgress.removeClass("gt50"),r(this.$loadProgressFill,0),r(this.$playProgressFill,0),this.isPlaying=0)},showError:function(e){this.$time.text(e),this.$el.addClass(o)},_onSelectedChanged:function(){!1!==this.answer.meta.autoplay||this._userSelected?(i.prototype._onSelectedChanged.call(this),this.model.selected?this.play():this.stop()):this.model.selected&&this.model.unselect()},_onClick:function(e){this._userSelected=!0,e.preventDefault(),this.answer.fire("iatc"),this.model.selected?this.isPlaying?this.pause():this.play():this.model.select()},_onSpace:function(e){this._userSelected=!0,this.model.selected&&(this.isPlaying?(e.preventDefault(),this.pause()):this.answer.active&&(e.preventDefault(),this.play()))},_onLoadProgress:function(){var e=this.sound.bytesLoaded/this.sound.bytesTotal*100;if(e>50)return this.$loadProgress.addClass("gt50"),r(this.$loadProgressFill,100);r(this.$loadProgressFill,e)},_onLoadFinished:function(e){e||(this.showError("Stream Unavailable"),t.stop(),this.answer.autoplaying&&this.answer.selectNextItem())},_onPlayProgress:function(){if(this.sound&&this.model.duration){this.hasStartedPlaying||(this.$el.removeClass(s),this.hasStartedPlaying=1);var e=this.model.duration-this.sound.position,t=this.sound.position/this.model.duration*100;this.$time.text("-"+DDG.formatDuration(e)),t>50&&this.$playProgress.addClass("gt50"),r(this.$playProgressFill,t)}},_onPlayFinished:function(){this.stop(),!1!==this.answer.meta.autoplay&&(this.answer.autoplaying=1,this.answer.selectNextItem())}});var r=function(e,t){var i=3.6*t+"deg";e.css({"-moz-transform":"rotate("+i+")","-webkit-transform":"rotate("+i+")","-o-transform":"rotate("+i+")",transform:"rotate("+i+")"})}}(DDG),function(e){var t=e.Views.Base,i="can-expand",s="has-chomp-expanded";e.Views.AnswerBar.Detail=function(i){this.answer=i.answer,this.template=i.template,this.canExpand=i.canExpand,this.canWrap=i.canWrap,this.hasInfobox=i.hasInfobox,t.call(this,i),this.canExpand&&this.bindEvents([[this.answer,"change:expanded",this._updateExpandableContent],[this.answer,"change:active",this._confirmAndUpdateExpandableContent],[e.device,"resize",this._updateExpandableContent]]);var s=this.answer.meta.rerender;s&&this.bindEvents(s.map(function(e){return[this.model,"change:"+e,this._rerender]}.bind(this)))},e.Views.AnswerBar.Detail.prototype=$.extend({},t.prototype,{_render:function(i){var s=this.model.toTemplateObject(),a=$.extend({},s,i),o=this.model.templates.wrap_detail,n=this.template;this.canWrap&&o&&(a={content:e.exec_template(n,s)},this.template=o),t.prototype._render.call(this,a),this.template=n;var r=this.$(".js-sized-img");r.length&&r.on("load error",(function(){$(this).css({height:"auto",width:"auto"})}));var l=this.$("img");if(l.length&&l.error((function(){$(this).hide()})),this.canExpand&&(this.$expandContent=this.$(".js-ellipsis,.js-chomp"),this.$expandContent.length)){this.expandContent=this.$expandContent.html(),this.expandUseEllipsis=this.$(".js-ellipsis").length,this.$expandLink=this.$(".js-chomp-link"),this._updateExpandableContent(),this.$expandLink.length&&this.$expandLink.on("click",function(){this.answer.set("expanded",!this.answer.expanded),this.answer.fire("iasm")}.bind(this));var d=this.$(".js-detail-img");d.length&&!d.width()&&d.load(function(){this._updateExpandableContent()}.bind(this))}},_confirmAndUpdateExpandableContent:function(){this.$expandContent.outerHeight()<this.$expandContent.prop("scrollHeight")-1||(this.canExpand=!1,this.expandContent=null),this._updateExpandableContent()},_updateExpandableContent:function(){if(this.answer.active&&this.expandContent){var t;if(this.$expandContent.html(this.expandContent),this._hasCode(),this.answer.expanded)(is_mobile||this.$expandContent.outerHeight()<this.$expandContent.prop("scrollHeight")-1)&&this.$expandLink.addClass(i),this.$el.addClass(s);else this.$el.removeClass(s),this.expandUseEllipsis?t=this.$expandContent.ellipsis(this._getEllipsisOptions()):this.$expandContent.outerHeight()<this.$expandContent.prop("scrollHeight")-1&&(t=!0),e.device.isMobile&&this.hasInfobox&&(t=!0),this.$expandLink.toggleClass(i,t);this._highlightSyntaxCheck()}},_hasCode:function(){this.model.meta&&this.model.meta.topic&&(this.isReference=this.model.meta.topic.indexOf("reference")>-1,this.isProgramming=this.model.meta.topic.indexOf("programming")>-1,this.isStackExchange=this.model.id.indexOf("stackexchange")>-1,(this.isReference||this.isProgramming||this.isStackExchange)&&this.$el.addClass("has-code"))},_highlightSyntaxCheck:function(){if(this.isReference||this.isProgramming){var e=this.$el.find("pre");e.length&&DDG.require("prettify",(function(){e.addClass("prettyprint"),window.prettyPrint()}))}},_getEllipsisOptions:function(){var e={firstParagraph:!0};return this.$el.find("code").length&&(e.maxHeight=200),"lyrics"===this.model.parentId&&(e.maxHeight=150),e},_onExternalLinkClick:function(e){if("images"===this.answer.id){var i=e&&e.target&&"_blank"===e.target.target||e.metaKey||e.ctrlKey;this.answer.clickedExternalLink({new_tab:i?1:0})}else this.answer.clickedExternalLink();t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t=e.Views.AnswerBar.Detail;e.Views.AnswerBar.ImageDetail=function(i){this.parentPadding=i.parentPadding,t.call(this,i),this.bindEvents([[this.model,"change:selected",this._onSelectedChanged],[e.device,"resize",this._onResize]])},e.Views.AnswerBar.ImageDetail.prototype=$.extend({},t.prototype,{_zoom:1,_panX:0,_panY:0,setZoom:function(e,t){this._zoom=e,this._updateTransform(t)},setPan:function(e,t,i){this._panX=e/this._zoom,this._panY=t/this._zoom,this._updateTransform(i)},getPanDimensions:function(){return{width:this._width*this._zoom,height:this._height*this._zoom}},_reportImage:function(t){t.preventDefault(),this.views.modal||(this.views.modal=new e.Views.ReportImageModal({thumbnail:this.model.thumbnail,image:this.model.image})),this.views.modal.show()},_render:function(){t.prototype._render.call(this,{detail:this._getDimensions(),isMobile:e.device.isMobile,linkImage:!e.device.isMobile}),this.$imgWrapper=this.$(".js-image-detail-wrapper"),this.$transBg=this.$(".js-detail-image-bg"),this.model.selected&&this._onSelectedChanged(),this._cacheElems(".js-image-report",["link"]),this.bindEvents([[this.$link,"click",this._reportImage]])},_getDimensions:function(){var t=e.device,i=t.isMobile,s=i?t.width:.55*t.width,a=i?t.height:this.answer.getDetailHeight()-2*this.parentPadding,o=this.model,n=Math.min(o.width,s),r=n/o.width*o.height;return r>a&&(n=(r=a)/o.height*o.width),this._width=n,this._height=r,{width:n+"px",height:r+"px",transBgWidth:Math.floor(n-1)+"px",transBgHeight:Math.floor(r-1)+"px"}},_loadHighRes:function(){if(!this.$highRes){this.model.imageProxyOps.token=this.model.image_token;var t=e.getImageProxyURL(this.model.image_mobile||this.model.image,$.extend({noFallback:!0},this.model.imageProxyOps));this.$highRes=this.$(".js-detail-img-high"),this.$highRes.attr("src",t).css({display:"block"}).on("load",this._onHighResLoaded.bind(this))}},_animateTransform:function(){if(!$.Velocity)return this._updateTransform();this.$imgWrapper.velocity("stop").velocity({scale:this._zoom,translateX:this._panX,translateY:this._panY},{easing:"ease-out",duration:e.animation_speed})},_updateTransform:function(e){if(e)return this._animateTransform();if($.Velocity)this.$imgWrapper.velocity("stop"),this._zoom&&$.Velocity.hook(this.$imgWrapper,"scale",this._zoom),this._panX&&$.Velocity.hook(this.$imgWrapper,"translateX",this._panX+"px"),this._panY&&$.Velocity.hook(this.$imgWrapper,"translateY",this._panY+"px");else{var t="";this._zoom&&(t+="scale("+this._zoom+") "),(this._panX||this._panY)&&(t+="translate("+(this._panX||0)+"px,"+(this._panY||0)+"px) "),this.$imgWrapper.css({transform:t,"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t})}},_onSelectedChanged:function(){this.model.selected?this._loadHighResTimeout=setTimeout(this._loadHighRes.bind(this),e.device.isMobileDevice?500:0):clearTimeout(this._loadHighResTimeout)},_onResize:function(){this.$imgs||(this.$imgs=this.$(".js-detail-img"));var e=this._getDimensions();this.$imgs.css({height:e.height,width:e.width}),this.$transBg.css({width:e.transBgWidth,height:e.transBgHeight})},_onHighResLoaded:function(){this.$(".js-detail-img-thumb").fadeOut()}})}(DDG),function(e){var t=e.Views.AnswerBar.Detail;e.Views.AnswerBar.VideoDetail=function(i){this.parentPadding=i.parentPadding,t.call(this,i),this._cacheElems(".js-video",["more-at"]),this.bindEvents([[this.model,"change:selected",this._updateContent],[e.settings,"change:k5",this._updateContent],[e.device,"resize",this._onResize],[this.$moreat,"click",this._onMoreAt]])},e.Views.AnswerBar.VideoDetail.prototype=$.extend({},t.prototype,{template:"videos_detail",destroy:function(){clearTimeout(this._embedTimeout),t.prototype.destroy.call(this)},_render:function(){t.prototype._render.call(this),this.$videoWrap=this.$(".js-video"),this.$video=this.$(".js-video-media"),this._updateSize(),this._updateContent()},_renderEmbed:function(){if(this.model.selected){var e=DDG.exec_template(DDG.templates.videos_detail_embed,this.model);this.$video.empty().append(e)}},_renderPrivacy:function(){this.views&&!this.views.privacy&&(this.views.privacy=new e.Views.AnswerBar.VideoDetailOverlay({model:this.model,appendTo:this.$video,answer:this.answer}))},_shouldShowPrivacy:function(){return this.model.isBing?e.settings.isDefault("k5")||!this.model.embedURL:!e.device.isMobile&&this.model.selected&&e.settings.isDefault("k5")},_shouldShowEmbed:function(){return this.model.selected&&this.model.isEmbeddable()&&1==e.settings.get("k5")},_shouldShowDuckPlayerOverlay:function(){return e.device.duckPlayer.privatePlayerMode&&e.device.duckPlayer.privatePlayerMode.hasOwnProperty("alwaysAsk")},_renderDuckPlayerOverlay:function(){this.views&&!this.views.duckPlayerOverlay&&(this.views.duckPlayerOverlay=new e.Views.AnswerBar.VideoDetailDuckPlayerOverlay({model:this.model,appendTo:this.$video,answer:this.answer})),this.model.selected&&e.pixel.fire("serp_videos_detail_duck-player_impression")},_updateSize:function(){var t=e.device,i=t.widthBreakpoint(),s=t.gutterSize(),a=s?s+110:2*this.parentPadding,o=s?2*this.parentPadding:2*this.parentPadding+76,n=t.width-a,r=t.isMobileLandscape()||"m"!==i&&"s"!==i&&"xs"!==i?.75*n:n,l=this.answer.getDetailHeight()-o,d=16/9,c=r,h=r/d;h>l&&(c=(h=l)*d),this.$videoWrap.css({width:c+"px"}),this.$video.css({height:h+"px",width:c+"px"})},_updateContent:function(){e.device.supportsDuckPlayer&&e.device.duckPlayer?this._shouldShowDuckPlayerOverlay()?this._renderDuckPlayerOverlay():this.$video.empty():this._shouldShowPrivacy()?this._renderPrivacy():this._shouldShowEmbed()?e.device.isMobile?this._embedTimeout=setTimeout(this._renderEmbed.bind(this),e.animation_speed+100):this._renderEmbed():this.$video.empty()},_onResize:function(){this._updateSize()},_onMoreAt:function(t){this.views.duckPlayerOverlay&&e.pixel.fire("serp_videos_detail_duck-player_more_click")}})}(DDG),function(e){var t=e.Views.Base;e.Views.AnswerBar.VideoDetailOverlay=function(e){t.call(this,e)},e.Views.AnswerBar.VideoDetailOverlay.prototype=$.extend({},t.prototype,{template:"videos_detail_privacy",shouldShow:function(){return DDG.settings.isDefault("k5")},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-video-privacy",["watch","leave","third-party","remember","remember-label"]),this.bindEvents([[this.$watch,"click",this._onWatchClick],[this.$leave,"click",this._onLeaveClick],[this.$thirdparty,"click",this._onThirdPartyClick],[this.$remember,"touchstart",this._onRememberTouchStart],[this.$rememberlabel,"touchstart",this._onRememberTouchStart]])},_shouldRemember:function(){return this.$remember[0].checked},_updateSetting:function(e){var t=this._shouldRemember();DDG.settings.set("k5",e,{saveToCloud:t,saveToCookie:t})},_onWatchClick:function(e){e.preventDefault(),this._updateSetting("1"),this.destroy()},_onLeaveClick:function(e){e.preventDefault(),this.model.isEmbeddable()&&(this._updateSetting("2"),this.destroy()),nug(this.model.url)},_onRememberTouchStart:function(e){e.stopPropagation()},_onThirdPartyClick:function(e){e.preventDefault(),nug(this.model.url)}})}(DDG),function(e){var t=e.Views.Base,i="enabled",s="disabled";e.Views.AnswerBar.VideoDetailDuckPlayerOverlay=function(e){t.call(this,e),this.answer=e.answer},e.Views.AnswerBar.VideoDetailDuckPlayerOverlay.prototype=$.extend({},t.prototype,{template:"videos_detail_duck_player",shouldShow:function(){return!1},_render:function(e){t.prototype._render.call(this,this.model),this._cacheElems(".js-video",["duck-player","youtube","third-party","remember","leave"]),this.bindEvents([[this.$duckplayer,"click",this._onDuckPlayerClick],[this.$youtube,"click",this._onYouTubeClick],[this.$thirdparty,"click",this._onThirdPartyClick],[this.$remember,"touchstart",this._onRememberTouchStart]])},_shouldRemember:function(){return this.$remember[0].checked},_updateSetting:function(e){var t=this._shouldRemember(),i={privatePlayerMode:{},overlayInteracted:!1};if(i.privatePlayerMode[e]={},t){var s=new CustomEvent("ddg-serp-yt",{detail:{kind:"setUserValues",data:i},bubbles:!0,composed:!0,cancelable:!1});window.dispatchEvent(s)}return t},_onDuckPlayerClick:function(t){t.preventDefault(),this._updateSetting(i);var s=t.ctrlKey||t.metaKey;if(e.pixel.fire("serp_videos_detail_duck-player_watch_click"),this.model.duckPlayerURL)return nug(this.model.duckPlayerURL,s);nug(this.model.url,s)},_onYouTubeClick:function(t){t.preventDefault();var i=this._updateSetting(s),a=t.ctrlKey||t.metaKey,o=this.model.url.slice();i||(o=this.model.getDuckPlayerOverlayOverrideURL(o)),e.pixel.fire("serp_videos_detail_duck-player_watch-external_click"),nug(o,a)},_onRememberTouchStart:function(e){e.stopPropagation()},_onThirdPartyClick:function(e){e.preventDefault(),nug(this.model.url)}})}(DDG),function(e){var t=e.Views.Base,i="is-hidden",s="has-open-detail",a="can-scroll",o={images_detail:"ImageDetail",videos_detail:"VideoDetail"},n={images_detail:1,videos_detail:1};e.Views.AnswerBar.DetailSlider=function(i){t.call(this,i),this.bindEvents([[this.model,"change:active",this._onActiveChanged],[this.model,"change:selectedItem",this._onSelectedItemChanged],[e.device,"resize",this._onResize]])},e.Views.AnswerBar.DetailSlider.prototype=$.extend({},t.prototype,{template:"detail_slider",_zoom:1,_panX:0,_panY:0,_focused:!1,destroy:function(){this._hide(),t.prototype.destroy.call(this)},position:function(t){e.device.isMobile||this._top!==t&&(this._top=t,this.$el.css({top:t}))},_show:function(){this._isShowing||(this.$el.removeClass(i),this._updateSelectedItem(),e.$html.addClass(s),e.device.isMobile&&this._focus(),this._isShowing=1)},_hide:function(){this._isShowing&&(this.$el.addClass(i),e.$html.removeClass(s),this.gestures.reset(),this.destroyChildViews(),this.views={},this._isShowing=0)},_focus:function(){this.$el.addClass("has-focus"),this._focused=1},_unfocus:function(){this.$el.removeClass("has-focus"),this._focused=0},_render:function(){var i=$.extend({},this.model),s=e.device.isMobile;s||(i.detailHeight=this.model.getDetailHeight()+"px"),s&&!Modernizr.touch&&(i.mobileAndNoTouch=1),t.prototype._render.call(this,i);var a=this.model.meta.detailOverlay;if(s&&a&&(this.overlayClass=e.Views.AnswerBar[a]),this.model.items.length){var o=this.model.items[0].getItemDetailTemplate();n[o]&&this.$el.addClass("detail--xd")}this._cacheElems(".js-detail",["panes","close","next","prev"]),this.gestures=new e.Utils.GestureRecognizer({el:this.$el}),this.gestures.on("tap",this._onTap.bind(this)),this.gestures.on("double-tap",this._onDoubleTap.bind(this)),this.gestures.on("swipe",this._onSwipe.bind(this)),this.gestures.on("panmove",this._onPanMove.bind(this)),this.gestures.on("panend",this._onPanEnd.bind(this)),this.gestures.on("pinchmove",this._onPinchMove.bind(this)),this.gestures.on("pinchend",this._onPinchEnd.bind(this)),this.bindEvents([[this.$close,"click",this._onCloseClick],[this.$next,"click",this._onNextClick],[this.$prev,"click",this._onPrevClick]]),this.model.selectedItem&&this._show()},_createPane:function(t,i){if(t){var s=t.getItemDetailTemplate(),a=o[s]||"Detail";return new e.Views.AnswerBar.DetailSliderPane({answer:this.model,model:t,pos:i,detailView:a,appendTo:this.$panes})}},_swipeToItem:function(e,t){this._swipeVelocity=t,"prev"===e?this.model.selectPrevItem():this.model.selectNextItem()},_setZoom:function(e,t){this._zoom=e,this._zoom<=1&&this._setPan(0,0),this.views.cur&&this.views.cur.setZoom(e,t)},_setPan:function(t,i,s){if(this._zoom<1?(this._panX=0,this._panY=0):(this._panX=t,this._panY=i),this.views.cur&&this._zoom>1&&s){var a=this.views.cur.getPanDimensions();if(a){var o=Math.abs(a.width-e.device.width)/2,n=Math.abs(a.height-e.device.height)/2;this._panX-o>0?this._panX=o:this._panX+o<0&&(this._panX=-1*o),this._panY-n>0?this._panY=n:this._panY+n<0&&(this._panY=-1*n)}}this.views.cur&&this.views.cur.setPan(this._panX,this._panY,s)},_updateDOM:function(){var e=this.views,t=this._swipeVelocity;e.prev&&e.prev.resetPosition(-1,t),e.cur&&e.cur.resetPosition(0,t),e.next&&e.next.resetPosition(1,t),delete this._swipeVelocity,this.$prev.toggleClass(a,!!e.prev),this.$next.toggleClass(a,!!e.next&&!e.next.model.hidden)},_updateSelectedItem:function(){this.views.prev&&this.views.prev.model===this.model.selectedItem?(this.views.next&&this.views.next.destroy(),this.views.next=this.views.cur,this.views.cur=this.views.prev,this.views.prev=this._createPane(this.model.getPrevItem(),-1)):this.views.next&&this.views.next.model===this.model.selectedItem?(this.views.prev&&this.views.prev.destroy(),this.views.prev=this.views.cur,this.views.cur=this.views.next,this.views.next=this._createPane(this.model.getNextItem(),1)):(this.destroyChildViews(),this.views={prev:this._createPane(this.model.getPrevItem(),-1),cur:this._createPane(this.model.selectedItem),next:this._createPane(this.model.getNextItem(),1)}),this._updateDOM(),this.overlayClass&&this.overlayClass.prototype.shouldShow()&&(this.views.overlay&&this.views.overlay.destroy(),this.views.overlay=new this.overlayClass({model:this.model.selectedItem,appendTo:this.$el})),e.device.isMobile&&this.model.indexOfSelectedItem()>=this.model.items.length-1&&this.model.loadMore(),this._setZoom(1,!0),this._setPan(0,0)},_clearVerticalPan:function(){this.$el.removeClass("is-closing"),this._setPan(0,0,!0),this._focus()},_onPanMove:function(e){if(this._zoom>1){var t=this._panX+e.deltaX,i=this._panY+e.deltaY;this._setPan(t,i)}else"x"===e.axis?("x"!==this._panAxis&&("y"===this._panAxis&&this._clearVerticalPan(),this._panAxis="x"),this._prevDirection&&this._prevDirection!==e.direction?this._updateDOM():(this.views.prev&&this.views.prev.translateX(e.distX),this.views.next&&this.views.next.translateX(e.distX),this.views.cur&&this.views.cur.translateX(e.distX)),this._prevDirection=e.direction):"y"===e.axis&&("y"!==this._panAxis&&(this.$el.addClass("is-closing"),this._panAxis="y",this._unfocus(),this._updateDOM()),this._setPan(0,this._panY+e.deltaY))},_onPanEnd:function(t){if("y"===this._panAxis&&this._clearVerticalPan(),delete this._panAxis,delete this._prevDirection,this._zoom<=1&&!t.multitouch&&!t.swiped&&this._updateDOM(),this._zoom>1&&(Math.abs(t.velocityX)>.1||Math.abs(t.velocityY)>.1)){var i=this._panX+t.velocityX*e.animation_speed,s=this._panY+t.velocityY*e.animation_speed;this._setPan(i,s,!0)}},_onPinchMove:function(e){this._setZoom(e.pinchDelta*this._zoom)},_onPinchEnd:function(){this._zoom<1&&this._setZoom(1,!0)},_onTap:function(e){var t=e.e;this._updateDOM(),this._zoom>1||(this._focused?t.target&&"A"===t.target.nodeName||this._unfocus():(t.preventDefault(),t.stopPropagation(),this._focus()))},_onDoubleTap:function(e){this._zoom>1?(this._setZoom(1,!0),this._focus()):(this._setZoom(2,!0),this._unfocus())},_onSwipe:function(e){this._zoom>1||("x"===this._panAxis&&"x"===e.axis?"right"===e.direction&&this.model.getPrevItem()?this._swipeToItem("prev",e.velocityX):"left"===e.direction&&this.model.getNextItem()?this._swipeToItem("next",e.velocityX):this._updateDOM():"y"===this._panAxis&&"y"===e.axis&&this._closePane())},_onCloseClick:function(e){e.stopPropagation(),e.preventDefault(),this._closePane()},_onNextClick:function(){this.model.selectNextItem()},_onPrevClick:function(){this.model.selectPrevItem()},_onActiveChanged:function(){this.model.active?this.model.selectedItem&&this._show():this._hide()},_onSelectedItemChanged:function(){this.model.selectedItem?(this._updateSelectedItem(),this._show()):this._hide()},_onResize:function(){e.device.isMobile||this.$el.css({height:this.model.getDetailHeight()+"px"})},_closePane:function(){this.model.selectedItem&&this.model.selectedItem.unselect(),e.device.isMobile&&this.model.allowModuleIA&&this.model.openedFromModule&&(e.duckbar.open("web",{skipPixel:!0}),this.model.set("openedFromModule",!1))}})}(DDG),function(e){var t=e.Views.Base;e.Views.AnswerBar.DetailSliderPane=function(i){this.answer=i.answer,this._pos=i.pos,this.detailView=i.detailView,t.call(this,i),this.bindEvents([[this.answer,"change:expanded",this._onExpandedChanged],[e.device,"resize",this._onResize]])},e.Views.AnswerBar.DetailSliderPane.prototype=$.extend({},t.prototype,{template:"detail_slider_pane",resetPosition:function(t,i){(this._pos!==t||this._translateX)&&(this._prevX=this._getLeft(),this._translateX=0,this._pos=t,e.device.isMobile&&$.Velocity?this._transitionPosition(i):this._updatePosition())},translateX:function(e){this._translateX!==e&&(this._prevX=this._getLeft(),this._translateX=e,this._updatePosition())},setZoom:function(e,t){this.views.detail&&this.views.detail.setZoom&&this.views.detail.setZoom(e,t)},setPan:function(e,t,i){this.views.detail&&this.views.detail.setPan&&this.views.detail.setPan(e,t,i)},getPanDimensions:function(){if(this.views.detail&&this.views.detail.getPanDimensions)return this.views.detail.getPanDimensions()},_render:function(){t.prototype._render.call(this,this._getMeasurements());var i=this.model.getItemDetailTemplate();this.views.detail=new e.Views.AnswerBar[this.detailView]({model:this.model,answer:this.answer,template:i,parentPadding:16,appendTo:this.$el}),this._prevX=this._getLeft(),this._updatePosition(),this.$el.css({display:"block"}),$.Velocity||e.require("velocity",function(){this._updatePosition()}.bind(this))},_updateDOM:function(){this.$el.css(this._getMeasurements())},_updatePosition:function(){var e=this._getLeft();if($.Velocity)this.$el.velocity("stop"),$.Velocity.hook(this.$el,"translateX",e+"px");else{var t="translateX("+e+"px)";this.$el.css({transform:t,"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t})}},_transitionPosition:function(t){t=t||1;var i=this._getLeft(),s=this._prevX,a=i-s,o=t?Math.abs(a)/(100*t)*100:e.animation_speed;o=Math.max(Math.min(o,500),200),this.$el.velocity("stop").velocity({translateX:[i,s]},{easing:"ease-out",duration:Math.round(o)})},_getLeft:function(){var t=(this._pos||0)*e.device.width;return this._translateX&&(t+=this._translateX),t},_getMeasurements:function(){var t=e.device,i=t.isMobile,s=t.isMobilePortrait(),a=i?e.device.height:this.answer.getDetailHeight(),o=16,n=2*o,r=t.isMobile||this.answer.expanded?o:o+t.gutterSize(),l=s?n:o,d=a-l-o,c=e.device.width;return{lineHeight:d+"px",height:d+"px",width:(c-=o+r)+"px",padding:[l,o,o,r].join("px ")+"px"}},_onExpandedChanged:function(){this._updateDOM()},_onResize:function(){this._updateDOM(),this._updatePosition()}})}(DDG),function(e){var t=e.Views.Base,i=e.Views.AnswerBar.Answers,s="is-expanded";i.Base=function(i){this.views={items:[],itemsById:{}},i.id=i.model.id,t.call(this,i),this._deferShow=i.deferShow;var s=this.model;if(this.bindEvents([[e.device,"resize",this._onResize],[e.keyboard,"escape."+this.model.id,this._onEscape],[s,"change:active",this._onActiveChanged],[s,"change:expanded",this._onExpandedChanged],[s,"change:items",this._onItemsChanged],[s,"change:isRequerying",this._onRequeryingChanged]]),this.isValid()){s.active&&this.show(),s.expanded&&this._expand();var a=!s.preventPrefillVertical||s.openedFromModule;s.items.length&&a&&this._updateItems()}},i.Base.prototype=$.extend({},t.prototype,{template:"base",isValid:function(){if(this.requiredTemplates)for(var e=0;e<this.requiredTemplates.length;e++)for(var t=this.requiredTemplates[e],i=t+"_mobile",s=0;s<this.model.items.length;s++){var a=this.model.items[s];if(!a.templates||!a.templates[t]&&!a.templates[i])return!1}return!(this.maxItems&&this.model.items.length>this.maxItems)},show:function(){this.$el.addClass("is-active"),e.keyboard.set("namespace",this.model.id),this.shouldExpandOnShow()&&this.model.set("expanded",1),this.model.expanded&&e.history.set({iax:this.model.nameId}),this._showingNoResults&&this._fireNoResultsPixel()},hide:function(){this.$el.removeClass("is-active"),e.keyboard.set("namespace")},getHeight:function(){return this._height?this._height:this.$el&&(this._height=this.$el.outerHeight())},getWidth:function(){return this._width?this._width:this.$el&&(this._width=this.$el.width())},showNoResults:function(t){this.model&&"products"===this.model.id&&this.model.bing?(this.views.noResults||(this.views.noResults=new e.Views.NoResults({vertical:this.model.pixelId,resultType:this.model.meta.itemType,appendTo:this.$jsTiles,skipPixel:!0,resetFilters:this.model.hasRequeried&&this.model.hasDynamicFilters})),this.views.noResults.show()):this.$noResults||(this.$noResults=e.$exec_template("no_ia_results",t),this.$el.append(this.$noResults),this.$noResults.show()),this._fireNoResultsPixel(),this._showingNoResults=1},hideNoResults:function(){this.$noResults.hide(),this._showingNoResults=0},shouldExpandOnShow:function(){var e=this.model.meta.autoExpand&&this.model.meta.autoExpandRows;return this._isQuerystringIAX()&&!e},calculateIAHeight:function(){var t=viewport_height-e.get_header_height(),i=viewport_height<800?1:.8;return Math.round(t*i)},_render:function(e){t.prototype._render.call(this,e),this.$el.click(function(){this.model.engaged()}.bind(this))},_updateItems:function(){},_expand:function(){this.$el.addClass(s),e.history.set({iax:this.model.nameId})},_collapse:function(){this.$el.removeClass(s),e.history.clear("iax")},_fireNoResultsPixel:function(){if(this.model.active){var t={};"products"===this.model.id&&this.model.hasRequeried&&(t.hruf=1),e.pixel.fire("iafd",this.model.pixelId,e.duckbar.activeTabOpenType,t)}},_isQuerystringIAX:function(){var t=e.history.get("iax"),i=1==t||0==t?e.history.get("ia"):t;return this.model.id===i||this.model.nameId===i},_onActiveChanged:function(){this.model.active&&!this._deferShow?this.show():this.hide()},_onExpandedChanged:function(){this.model.expanded?(this.model.isFullPage&&e.duckbar.setOrganicsVisibility(!1,this.model.id),this._expand()):this._collapse()},_onRequeryingChanged:function(e){if(this.$el.toggleClass("is-requerying",e),!e){for(var t=0;t<this.views.items.length;t++)this.views.items[t].destroy();this.views.items=[],this.views.itemsById={}}},_onItemsChanged:function(){this.isValid()&&this._updateItems()},_onResize:function(){this._height=null,this._width=null},_onEscape:function(){this.model.isFullPage||this.model.set("expanded")},_onExternalLinkClick:function(e){this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.Base;t.Detail=function(e){i.call(this,e)},t.Detail.prototype=$.extend({},i.prototype,{template:"base",maxItems:1,requiredTemplates:["detail"],show:function(){i.prototype.show.call(this),this.model.items.length&&this.emit("item-shown",this.model.items[0])},_updateItems:function(){if(!this.views.items.length&&this.model.items.length){var t=this.model.items[0];this.views.items.push(new e.Views.AnswerBar.Detail({model:t,answer:this.model,template:t.getDetailTemplate(),canExpand:!0,canWrap:!0,hasInfobox:!!t.infoboxData,appendTo:this.$el})),t.infoboxData&&(this.views.infobox=new e.Views.AnswerBar.InfoBox({model:this.model,data:t.infoboxData,appendTo:this.$el})),this.model.meta.hasAttribution()&&(this.views.attribution=new e.Views.Attribution({answer:this.model,className:t.infoboxData?"attribution-wrap--infobox":"attribution-wrap--top",direction:"bottom-left",appendTo:this.$el}))}}})}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.Base,s={audio_item:"AudioTile",places_item:"PlaceTile"};t.Tiles=function(t){var s=t.model,a=s.id;this._scrollLeft=0,this.noDetail=t.noDetail,this.bindEvents([[s,"change:isLoading",this._onIsLoadingChanged],[s,"change:failed",this._onLoadFailed],[s,"change:selectedItem",this._onSelectedItemChanged],[s,"change:isRequerying",this._onIsRequeryingChanged],[s,"no-results",this.removeLoadMore],[e.keyboard,"left."+a,this.selectPrevItem],[e.keyboard,"right."+a,this.selectNextItem]]),e.device.supportsDuckPlayer&&this.bindEvents([[e.device,"change:duckPlayerSettings",this._resetDetailPanelState]]),i.call(this,t),this._updateLoadingMore(),this.model.failed&&this._onLoadFailed(),s.verticalCanHaveModule&&this._setupModulesLayout()},t.Tiles.prototype=$.extend({},i.prototype,{template:"tiles",requiredTemplates:["item"],destroy:function(){clearTimeout(this._expandTimeout),clearTimeout(this._flickTimeout),i.prototype.destroy.call(this)},_updateItems:function(){if(!this.model.items.length)return this.showNoResults();this._showingNoResults&&this.hideNoResults(),this.removeLoadMore();for(var e=0;e<this.model.items.length;e++){var t=this.model.items[e];t.num=t.num||e+1,this.views.itemsById[t.id]||t.pixelated||this._appendItem(t)}this.model.meta.next&&this.addLoadMore(),this._updateFooterVisibility(),delete this._height,this._updateScrollNav(),this._selectItemFromQuerystring()},_updateFooterVisibility:function(){"videos"===this.model.id&&e.footer&&e.footer.set("visible",!e.settings.isDefault("kc")||!this.model.meta.next)},_appendItem:function(t){if(!(t.fromDeep&&this.model.active&&e.history.get("iaf"))){var i=t.getItemTemplate(),a=s[i]||"Tile",o=new e.Views.AnswerBar[a]({model:t,answer:this.model,noDetail:this.noDetail,appendTo:this.$jsTiles});this.views.items.push(o),this.views.itemsById[t.id]=o,o.width=this.getTileWidth(o)}},_setupModulesLayout:function(){this.modulesLayout=new e.Models.ModulesLayout({}),this.modulesLayoutView=new e.Views.ModulesLayout({model:this.modulesLayout,verticalId:this.model.id}),this.model.on("change:isRequerying",this._resetModules.bind(this)),this._cacheElems(".js-tileview",["top-module"])},_addTopModule:function(t,i,s,a){if(this.modulesLayout&&this.modulesLayoutView&&this.$topmodule){var o=$.extend({},e.Data.answers.getById(t));o.inVertical=this.model.id,o.onAddToVertical&&o.onAddToVertical(this.model.id),this.modulesLayout.addModule(o,i),s&&s(o.model),this.modulesLayout.loadContent(t,i);var n=this.modulesLayout.modules[t];if(n){this.modulesLayoutView._appendView(n,this.$topmodule,!1),this.model.hasVerticalTopModule=!0;var r=e.getProperty(this,"modulesLayoutView.views."+t);return a&&r&&a(r),n}}},_resetModules:function(e){if(!e){var t=this.modulesLayout&&this.modulesLayout.modules,i=this.modulesLayoutView&&this.modulesLayoutView.views;if(t&&i){for(var s in t)delete t[s];for(var a in i)i[a].destroy(),delete i[a];this.model.hasVerticalTopModule=!1}}},show:function(){i.prototype.show.call(this),this._updateFooterVisibility();var t=this.model;this._updateWidths(),t.selectedItem&&e.history.set({iai:t.getQuerystringItemId(t.selectedItem)}),this._onResize(),this.views.items.length&&(this._selectItemFromQuerystring(),this._selectItemFromMeta()),this.model.items.map(function(e){e.visible&&this.emit("item-shown",e)}.bind(this))},hide:function(){clearTimeout(this._flickTimeout),clearTimeout(this._expandTimeout),i.prototype.hide.call(this)},shouldExpandOnShow:function(){return!1},selectNextItem:function(){this.model.selectNextItem(),this.model.indexOfSelectedItem()>=this.model.items.length-1&&this.model.loadMore()},selectPrevItem:function(){this.model.selectPrevItem()},getTileWidth:function(e){if(e.$el){var t=this.model.meta;if(t.variableTileWidth||t.itemsWidthVaries||t.itemsExpand)return e.$el.outerWidth()+2*this.getTileMargins().x;this.tileWidth||(this.tileWidth=e.$el.outerWidth()+2*this.getTileMargins().x)}return this.tileWidth},getSelectedTileWidth:function(){return this.model.selectedItem&&this.getTileWidth(this.views.itemsById[this.model.selectedItem.id])},getTileMargins:function(){return this._tileMargins?this._tileMargins:this.views.items.length?this._tileMargins=this.views.items[0].getMargins():{x:0,top:0,bottom:0}},getLoadMoreWidth:function(){return this._showingLoadMore?this.views.items.length&&this.getTileWidth(this.views.items[0]):0},_render:function(){i.prototype._render.call(this,{id:this.model.id,meta:this.model.meta,bing:"Bing"===this.model.meta.sourceName,isFullPage:this.model.isFullPage,canShowSidebarFilters:this.model.canShowSidebarFilters,isSvExperiment:this.model.isSvExperiment,svImageExperimentClassName:this.model.svImageExperimentClassName,verticalCanHaveModule:this.model.verticalCanHaveModule,hasFeedbackButton:this.model.hasFeedbackButton}),this.$tileview=this.$(".tileview"),this.$tileWrap=this.$(".tile-wrap"),this.$jsTiles=this.$(".js-tiles"),this.$jsTiles.on("mousewheel",this._onMouseWheel.bind(this)),window.addEventListener&&this.$jsTiles[0].addEventListener("wheel",this._onMouseWheel.bind(this)),this.$jsTiles.addClass("tileview__"+this.model.id),this.$jsTiles.bind("touchend",this._onJsTilesTouchEnd.bind(this)),this.$loadMore=e.$exec_template("tiles_load_more",{id:this.model.id,name:this.model.name}),this._onResize()},_createDetailSlider:function(){this.views.detail||this.noDetail||(this.views.detail=new e.Views.AnswerBar.DetailSlider({model:this.model,appendTo:this.$el}))},_updateVisibleItems:function(){var t,i,s,a=this._scrollLeft-e.device.gutterSize(),o=a+viewport_width,n=0,r={offscreenRight:[],offscreenLeft:[],visible:[]};for(t=0;i=this.views.items[t];t++){var l=n,d=n+i.width,c=0,h=0;l<a?(r.offscreenLeft.push(i),d>a&&(h=1)):d>o?(r.offscreenRight.push(i),l<o&&(h=1)):(c=1,r.visible.push(i)),s=(c||h)&&this.model.active&&!i.model.visible,i.model.set({visible:c,partiallyVisible:h}),n+=i.width,s&&this.emit("item-shown",i.model)}if(this._showingLoadMore){var p={width:this.getLoadMoreWidth()};n+p.width>o?(p.visible=0,r.offscreenRight.push(p)):(p.visible=1,r.visible.push(p))}return r},_selectItemFromQuerystring:function(){var t,i=this.model,s=e.history.get("iai"),a=e.history.get("ia");i.active&&!i.selectedItem&&a===i.nameId&&void 0!==s&&(!(t=i.itemsById[s])&&$.isNumeric(s)&&(t=i.items[s]),t?(this._rowsToShow&&!t.visible&&this._loadMore(),t.select(),this._scrollToTile(this.views.itemsById[t.id],{animated:!1})):i.meta.next&&this._loadMore())},_selectItemFromMeta:function(){var e=this.model,t=e.meta;if(e.active&&!e.selectedItem&&!e.selectedItem&&t.selectedItem){var i=e.itemsById[t.selectedItem];i||(i=e.items[t.selectedItem]),i&&i.select(),this._scrollToTile(this.views.itemsById[i.id],{animated:!1})}},_updateScrollNav:function(){if(this.views.items.length&&this.model.active){this.$leftScrollNav||(this.$leftScrollNav=e.$exec_template("tiles_scroll_nav",{dir:"prev"}),this.$rightScrollNav=e.$exec_template("tiles_scroll_nav",{dir:"next"}),this.$jsTiles.prepend(this.$leftScrollNav),this.$jsTiles.prepend(this.$rightScrollNav),this.$leftScrollNav.bind("click",this._onLeftScrollClick.bind(this)),this.$rightScrollNav.bind("click",this._onRightScrollClick.bind(this)));var t=this._updateVisibleItems(),i=t.offscreenLeft.length,s=t.offscreenRight.length;this.$leftScrollNav.attr("data-items",i),this.$rightScrollNav.attr("data-items",s),this.$leftScrollNav.removeClass("can-scroll"),this.$rightScrollNav.removeClass("can-scroll"),i>0&&this.$leftScrollNav.addClass("can-scroll"),s>0&&this.$rightScrollNav.addClass("can-scroll"),this.model.active&&this.model.meta.next&&!this.model.expanded&&s<3&&this._loadMore(),this.emit("scrolled",t)}},_scrollHorizontal:function(t){var i,s=this._scrollLeft,a=e.device.gutterSize(),o=this._getTotalTileWidth(),n=viewport_width-a;i="right"===t?Math.min(s+n,o+a):Math.max(s-n,0);for(var r,l,d=0,c=0;l=this.views.items[c];c++)i>=d&&i<=d+l.width&&(r=l),d+=l.width;!r&&this._showingLoadMore&&this.$loadMore&&(r={$el:this.$loadMore}),this._scrollToTile(r)},_scrollToTile:function(t,i){if(t&&t.$el){for(var s,a=!i||void 0===i.animated||i.animated,o=this.model.meta,n=0,r=0,l=this._getTotalTileWidth()+e.device.gutterSize()+100-e.device.width;(s=this.views.items[r])&&s!==t;r++)n+=s.width;o.itemsExpand&&r>this._lastExpandedTileIndex&&(n-=this._lastExpandedTileDiff),n=Math.min(n,l),this._scrollLeft!==n&&(this._scrollLeft=n,a?(this._autoScrolling=!0,this.$jsTiles.stop().animate({scrollLeft:this._scrollLeft},e.animation_speed,function(){this._autoScrolling=!1}.bind(this))):this.$jsTiles.scrollLeft(this._scrollLeft),this._updateScrollNav())}},_updateDetailViewPosition:function(){var t=this.model.selectedItem;if(t&&!e.device.isMobile&&this.views.detail)if(this.model.expanded){var i=this.views.itemsById[t.id],s=parseInt(i.$el.position().top,10),a=this.getTileMargins(),o=s+parseInt(i.$el.outerHeight(),10)+a.bottom;this.views.metabar&&!this.views.metabar.isStuck()&&e.settings.get("ko").match(/^(d|s|-1)$/)&&(o+=this.views.metabar.getHeight()),this.views.detail.position(o+"px")}else this.views.detail.position("auto")},_updateWidths:function(){delete this.tileWidth;for(var e,t=0;e=this.views.items[t];t++)e.width=this.getTileWidth(e)},_getTotalTileWidth:function(){for(var e=0,t=0;t<this.views.items.length;t++)e+=this.views.items[t].width;return e+=this.getLoadMoreWidth()},showNoResults:function(e){i.prototype.showNoResults.call(this,e),this.$leftScrollNav&&this.$leftScrollNav.hide(),this.$rightScrollNav&&this.$rightScrollNav.hide(),this.$el.addClass("has-no-results")},hideNoResults:function(){i.prototype.hideNoResults.call(this),this.$leftScrollNav&&this.$leftScrollNav.show(),this.$rightScrollNav&&this.$rightScrollNav.show(),this.$el.removeClass("has-no-results")},addLoadMore:function(){this._showingLoadMore||(this.$jsTiles.append(this.$loadMore),this.$loadMore.click(this._onLoadMoreClick.bind(this)),this._showingLoadMore=!0)},removeLoadMore:function(){this.$loadMore.remove(),this._showingLoadMore=!1},_loadMore:function(){if(!this.model.isLoading)return this._rowsToShow?(this.views.metabar&&this.views.metabar.show(),void(!is_mobile||this.model.canLoadOnScroll()&&"images"!==this.model.id?(this.$(".tile.is-hidden").removeClass("is-hidden"),delete this._rowsToShow,this.model.meta.next||this.removeLoadMore()):this._loadMoreMobile())):void this.model.loadMore()},_loadMoreMobile:function(){var t,i,s,a=4,o=e.device.width,n=this.views.items.length;for("images"===this.model.id&&(a=n),t=0;t<n&&a;t++)(s=(i=this.views.items[t]).$el).is(":visible")||(o-s.outerWidth()<0&&!(n-t<4)&&(o=e.device.width,a--),a&&(i.model.set({visible:1,partiallyVisible:0}),s.removeClass("is-hidden"),o-=s.outerWidth()));this._rowsToShow+=4-a,this.views.items[n-1].$el.is(":visible")&&(delete this._rowsToShow,this.views.metabar&&this.views.metabar.show(),this.model.meta.next||this.removeLoadMore())},_updateLoadingMore:function(){this.$loadMore&&(this.model.isLoading?this.$loadMore.addClass("is-loading"):this.$loadMore.removeClass("is-loading"))},_updateAfterItemExpand:function(){clearTimeout(this._expandTimeout);var t=this.getSelectedTileWidth();this._expandTimeout=setTimeout(function(){if(this._updateWidths(),this._updateScrollNav(),this.model.selectedItem){var e=this.getSelectedTileWidth();this._lastExpandedTileDiff=e-t,this._lastExpandedTileIndex=this.model.indexOfSelectedItem()}else delete this._lastExpandedTileIndex,delete this._lastExpandedTileDiff}.bind(this),e.animation_speed+150)},_onLeftScrollClick:function(e){e.preventDefault(),this._scrollHorizontal("left")},_onRightScrollClick:function(e){e.preventDefault(),this._scrollHorizontal("right")},_onJsTilesTouchEnd:function(){this._scrollLeft=this.$jsTiles.scrollLeft(),this._updateVisibleItems(),this._flickTimeout&&clearTimeout(this._flickTimeout),this._flickTimeout=setTimeout(function(){this._scrollLeft!==this.$jsTiles.scrollLeft()&&(this._scrollLeft=this.$jsTiles.scrollLeft(),this._updateVisibleItems())}.bind(this),2e3)},_onMouseWheel:function(e){if(!this._autoScrolling){if(this.model.selectedItem){var t=this.views.itemsById[this.model.selectedItem.id];t&&t.hideViews&&t.hideViews()}var i=e.originalEvent?-1*e.originalEvent.wheelDeltaX:e.deltaX;if(i)return e.preventDefault(),this.$jsTiles.scrollLeft(this._scrollLeft+i),this._scrollLeft=this.$jsTiles.scrollLeft(),this._updateScrollNav(),!1}},_onEscape:function(){this.model.selectedItem?this.model.selectedItem.unselect():i.prototype._onEscape.call(this)},_onLoadMoreClick:function(e){e.preventDefault(),this._loadMore(),this.model.fire("iasm")},_onResize:function(){i.prototype._onResize.call(this),this._updateWidths(),this._updateScrollNav(),delete this._height,delete this._tileMargins},_onIsLoadingChanged:function(){this._updateLoadingMore()},_onLoadFailed:function(){this.model.failed&&(this.removeLoadMore(),this._updateItems())},_shouldScrollToTileOnItemSelect:function(){if(e.device.isMobile)return!1;var t=this.model.selectedItem;return t&&!t.visible},_onSelectedItemChanged:function(){delete this._height;var t=this.model,i=t.meta;if(!t.selectedItem)return e.history.clear("iai"),void(i.itemsExpand&&this._updateAfterItemExpand());var s=t.selectedItem,a=this.views.itemsById[s.id];this._shouldScrollToTileOnItemSelect()&&this._scrollToTile(a),i.itemsExpand&&this._updateAfterItemExpand(),s.canShowItemDetail()&&!this.views.detail&&this._createDetailSlider(),this._updateDetailViewPosition()},_onIsRequeryingChanged:function(t){t&&(e.device.scrollTop()>this.$el.scrollTop()&&this._scrollToTile(this.views.items[0]),delete this._rowsToShow)},_resetDetailPanelState:function(){var t=e.history.get("iai");t&&(this.views.detail?(this.views.detail._closePane(),this.views.detail.destroyChildViews(),this.views.detail.destroy(),delete this.views.detail):this.model.selectedItem&&this.model.selectedItem.unselect(),e.history.set({iai:t}),this._selectItemFromQuerystring())}})}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.Tiles;t.GridTiles=function(e){var t=e.model;i.call(this,e),this.bindEvents([[t,"change:canExpand",this._onCanExpandChanged],[t,"change:selectedTopic",this._onSelectedTopicChanged],[t,"change:parameters",this._createSidebarFilters]]),this._cacheElems(".js-tileview",["sidebar-filters"]),this._createMetaBar(),this._createFeedbackButton()},t.GridTiles.prototype=$.extend({},i.prototype,{_updateItems:function(){i.prototype._updateItems.call(this),this._rowsToShow&&this._updateHiddenRows(),this.tilesContainerHeight=this._getTilesContainerHeight()},_appendItem:function(t){if(i.prototype._appendItem.call(this,t),e.device.isMobile){var s=this.views.items[this.views.items.length-1];this.bindEvents([[s,"rerender",this._updateHiddenRows]])}},shouldExpandOnShow:function(){var e=this.model.meta.autoExpand&&this.model.meta.autoExpandRows;return this.model.canExpand&&(this._isQuerystringIAX()||this.model.allowModuleIA)&&!e},_shouldScrollToTileOnItemSelect:function(){var t=this.model,i=t.selectedItem,s=e.device.isMobile,a=t.expanded&&!s;return this.model.openedFromModule?a||!i.visible&&!s:a||!i.visible},show:function(){this.model.expanded&&this._setIARequery(),i.prototype.show.call(this);var e=this.model,t=e.meta;!e.expanded&&e.canExpand&&t.autoExpand&&(this.model.set("expanded",1),t.autoExpandRows&&(this._rowsToShow=t.autoExpandRows,this._updateHiddenRows(),t.alwaysShowMetabar||this.views.metabar&&this.views.metabar.hide()),t.autoExpand=0),this.tilesContainerHeight=this._getTilesContainerHeight()},hide:function(){this._clearIARequery(),i.prototype.hide.call(this)},_updateVisibleItems:function(){var t,s,a,o={offscreenRight:[],offscreenLeft:[],visible:[]},n=this.views.items.length;if(n){if(this.model.expanded){if(e.device.isMobile&&this.model.meta.autoExpandRows&&!this.model.isRequery&&(this.model.meta.autoExpand||this._rowsToShow)&&(n="Images"===this.model.name?10*this.model.meta.autoExpandRows:5*this.model.meta.autoExpandRows),!this.model.openedFromModule||!e.device.isMobile)for(t=0;s=this.views.items[t];t++)t<n&&(a=this.model.active&&!s.model.visible,s.model.set({visible:1,partiallyVisible:0}),o.visible.push(s),a&&this.emit("item-shown",s.model))}else o=i.prototype._updateVisibleItems.call(this);return this.tilesContainerHeight=this._getTilesContainerHeight(),o}},_collapse:function(){this._clearIARequery(),i.prototype._collapse.call(this),this.model.selectedItem&&this.model.selectedItem.unselect(),e.device.scrollTop(0),is_mobile?this.emit("close"):(this.$jsTiles.removeClass("has-tiles--grid").addClass("has-tiles"),this.$tileview.removeClass("tileview--grid").addClass("tileview"),delete this._height,delete this._tileMargins,this._updateScrollNav())},_expand:function(){this.model.meta.autoExpandRows||this._setIARequery(),i.prototype._expand.call(this),this.$tileview.removeClass("tileview").addClass("tileview--grid"),this.$jsTiles.removeClass("has-tiles").addClass("has-tiles--grid"),this._updateVisibleItems(),delete this._height,delete this._tileMargins,this.views.detail&&this.model.selectedItem&&(this._updateDetailViewPosition(),this._scrollToTile(this.views.itemsById[this.model.selectedItem.id])),this.tilesContainerHeight=this._getTilesContainerHeight()},getHeight:function(e){var t=i.prototype.getHeight.call(this,e);return e&&e.subtractMenu&&this.views.metabar?t-this.views.metabar.getHeight():t},_setIARequery:function(){this.model.isFullPage&&e.hidden.set("iar",this.model.nameId)},_clearIARequery:function(){e.hidden.clear("iar")},_createMetaBar:function(){this.views.metabar||(this.views.metabar=new e.Views.AnswerBar.Meta.MetaBar($.extend({model:this.model,parent:this,before:this.model.canShowSidebarFilters?this.$sidebarfilters:this.$tileWrap},this.model.meta)),this.views.metabar.on("stuck",this._onMetabarStuckChanged.bind(this)),this.views.metabar.on("close",this.emit.bind(this,"close")))},_createSidebarFilters:function(){this.views.sidebarFilters&&(this.views.sidebarFilters.destroyChildViews(),delete this.views.sidebarFilters),this.views.sidebarFilters=new e.Views.Dropdowns.FilterContainer({$el:this.$sidebarfilters,answer:this.model})},_createFeedbackButton:function(){this.views.feedback||!this.model.hasFeedbackButton||e.device.isMobile||(this.views.feedback=new e.Views.Feedback.Button({appendTo:this.$(".js-vertical-bottom-right"),category:this.model.id+"vertical"}))},_scrollToTile:function(t,s){if(t&&t.$el){var a=!s||void 0===s.animated||s.animated,o=this.model;if(o.expanded){var n=t.$el.offset().top,r=this.getTileMargins(),l=Math.max(n-r.top-r.bottom,0);this.views.metabar&&(l-=this.views.metabar.getHeight()),e.isHeaderFixed&&(l-=e.get_header_height()),l+=e.getProperty(this,"model.detailScrollOffset")||0,l=Math.round(l),o.canShowSidebarFilters&&(l=0),is_mobile_device||!a?e.device.scrollTop(l):e.device.scrollTop(l,!0)}else i.prototype._scrollToTile.call(this,t,s)}},_updateHiddenRows:function(){if(this.model.expanded&&this._rowsToShow){for(var e,t,i=0,s=null,a=0,o=0;e=this.views.items[o];o++)a?e.hide():(e.model.gridRow?i=e.model.gridRow:(t=e.$el.position().top,null!==s&&t===s||(i++,s=t)),i>this._rowsToShow?(a=1,e.hide()):e.show());a&&this.addLoadMore(),this.tilesContainerHeight=this._getTilesContainerHeight()}},_getGridTileAt:function(e,t){e=e||0,t=t||0;for(var i,s=0;i=this.views.items[s];s++){var a=i.$el.offset();if(a.left>=e&&a.top>=t)return i}return null},_scrollToSelectedTopic:function(){this.model.selectedTopic&&this._scrollToTile(this.views.itemsById[this.model.selectedTopic.items[0].id])},_onCanExpandChanged:function(){this.model.expanded&&!this.model.canExpand&&this.model.set("expanded")},_onMetabarStuckChanged:function(){this.model.expanded&&!e.device.isMobile&&this._updateDetailViewPosition()},_onResize:function(){i.prototype._onResize.call(this),this._updateHiddenRows(),this._updateDetailViewPosition(),this.tilesContainerHeight=this._getTilesContainerHeight()},_onSelectedTopicChanged:function(){var e=this.model.selectedTopic;if(this.$(".active-topic").removeClass("active-topic"),e){var t=this.views.itemsById;this._scrollToSelectedTopic(),DDG.addClass(this.model.id,this.$el,"at-topic");for(var i=0;i<e.items.length;i++){t[e.items[i].id].$el.addClass("active-topic")}}else DDG.removeClass(this.model.id,this.$el,"at-topic")},_onJsTilesTouchEnd:function(){this.model.expanded||i.prototype._onJsTilesTouchEnd.call(this)},_onMouseWheel:function(e){this.model.expanded||i.prototype._onMouseWheel.call(this,e)},_onLoadMoreClick:function(t){e.device.isMobile&&this.model.isFullPage&&this._setIARequery(),i.prototype._onLoadMoreClick.call(this,t)},_getTilesContainerHeight:function(){return $(".zci.is-active .js-tiles").height()},_checkLoadMore:function(t){if(this.model.canLoadOnScroll()){var i=e.device,s=i.scrollTop(),a=e.get_header_height()+(this.views.metabar?this.views.metabar.getHeight():0);s+i.height>this.tilesContainerHeight+a-t&&this.model.loadMore()}},_updateLoadingMore:function(){if(this.$loadMore){var t="1"===e.settings.get("kc")?" is-auto-loading":"";this.model.isLoading?this.$loadMore.addClass("is-loading"+t):this.$loadMore.removeClass("is-loading"+t)}}})}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.GridTiles,s={desktop:{normal:180,fallback:163},mobile:{normal:150,fallback:120}},a={desktop:{normal:120,fallback:60},mobile:{normal:70,fallback:48}};t.Images=function(t){this._device=e.device.isMobile?"mobile":"desktop",this._type=t.model.isNonModuleFallback?"fallback":"normal",this.scrollHandler=this._onScroll.bind(this),i.call(this,t),this.model.on("change:isRequerying",this._removeDividers.bind(this))},t.Images.prototype=$.extend({},i.prototype,{requiredTemplates:null,show:function(){e.pixel.fire("verticalopenimages",{canRefireWhenLoadedFromBfcache:function(){return this.$el&&this.$el.is(":visible")}.bind(this)}),e.device.on("scroll",this.scrollHandler),this.model.isNonModuleFallback&&this.$el.addClass("is-fallback"),i.prototype.show.call(this)},hide:function(){e.device.removeListener("scroll",this.scrollHandler),e.keyboard.clear("nativeUpDown"),i.prototype.hide.call(this)},showNoResults:function(){var t={},s=this.model.name;!window.iqbi||e.settings.safeSearch.isOff()||e.history.get("iaf")||(t.message=l("%s blocked by safe search.",s)),i.prototype.showNoResults.call(this,t)},_updateItems:function(){i.prototype._updateItems.call(this),this.model.ads&&this._addProductAdsWithDividers(this.model.ads),this.model.expanded&&(this._recalcTileGridDimensions(),this._updateTileWidths(),this._checkLoadMore()),this._updateHiddenRows(),delete this._height,this._updateDetailViewPosition(),this.tilesContainerHeight=this._getTilesContainerHeight()},_appendItem:function(e){var t=a[this._device][this._type],o=s[this._device][this._type];e.loadHighRes=!is_mobile;var n=e.answerMeta&&e.answerMeta.signal_from?e.answerMeta.signal_from:"images";e.imageProxyOps={token:e.thumbnail_token,origin:n},e.width>t&&e.height>o?e.tileWidth=Math.ceil(o/e.height*e.width):e.width>t?e.tileWidth=e.width:e.tileWidth=t,i.prototype._appendItem.call(this,e)},getTileWidth:function(e){return e.model.tileWidth+2*this.getTileMargins().x},getLoadMoreWidth:function(){return this._loadMoreTileWidth||240},_loadMore:function(){i.prototype._loadMore.call(this),this.tilesContainerHeight=this._getTilesContainerHeight()},_expand:function(){this.$jsTiles.css("width",this.getWidth()),"images"===this.model.id&&(e.device.isMobile&&this.model.meta.autoExpandRows||this.$el.css("min-height",e.device.height-e.get_header_height())),i.prototype._expand.call(this),!e.device.isMobile&&this.model.isNonModuleFallback&&this._expandFromFallback(),this._recalcTileGridDimensions(),this._updateTileWidths(),e.history.set({ia:this.model.id}),this._checkLoadMore(),e.keyboard.set("nativeUpDown",!0)},_collapse:function(){i.prototype._collapse.call(this),this._clearMinHeight(),this._toggleTrailingTileVisibility(),this.$jsTiles.css("width","auto"),this._updateTileWidths(),e.keyboard.clear("nativeUpDown")},_clearMinHeight:function(){!e.device.isMobile&&e.settings.isDefault("kc")&&this.$el.css("min-height","")},_recalcTileGridDimensions:function(){if(this.views.items.length){for(var t,i,s=[],a=0,n=this.getWidth()-(e.device.isMobile?10:20),r=2*this.getTileMargins().x,l=1,d=0,c=0;t=this.views.items[c];c++)(i=t.model).gridWidth=i.tileWidth,delete i.killMinWidth,a+=i.gridWidth+r,s.push(i),i.gridRow=l,a>n&&(o(s,a-n,this._device,this._type),a=0,s=[],l++),i.selected&&(d=l);l>1&&this._toggleTrailingTileVisibility(l,n-a,d)}},_toggleTrailingTileVisibility:function(e,t,i){for(var s,o=a[this._device][this._type],n=0;s=this.views.items[n];n++)s.model.gridRow===e&&t>o&&i!==e?(s.model.set({hidden:1}),s.$el.addClass("is-hidden")):s.model.hidden&&(delete s.model.hidden,s.$el.removeClass("is-hidden"))},_updateTileWidths:function(){for(var e,t,i=this.getTileMargins(),s=0;t=this.views.items[s];s++)t.$el&&(e=t.model,t.$el.css({width:this.model.expanded?e.gridWidth:e.tileWidth,marginLeft:i.x+"px",marginRight:i.x+"px"}),e.killMinWidth&&t.$el.css({minWidth:0}));is_mobile||this.$loadMore.css({width:(this.model.expanded?300:this.getLoadMoreWidth())+"px",marginLeft:this.model.expanded?"auto":i.x+"px",marginRight:this.model.expanded?"auto":i.x+"px"})},_onResize:function(){this._width=null,this.$jsTiles.css("width",this.getWidth()),i.prototype._onResize.call(this),this.views.items.length&&this.model.expanded&&(this._recalcTileGridDimensions(),this._updateTileWidths(),this._updateDetailViewPosition(),this._checkLoadMore())},_onScroll:function(){if(!this.model||!this.model.isNonModuleFallback){var e=s[this._device][this._type];this._checkLoadMore(2*e)}},_onLoadMoreClick:function(t){e.device.isMobile&&this.model.isNonModuleFallback&&this._expandFromFallback(),i.prototype._onLoadMoreClick.call(this,t)},_expandFromFallback:function(){this._type="normal",this.$el.removeClass("is-fallback"),this.model.set("isNonModuleFallback",!1),this.model.isFullPage||(this.$el.addClass("is-full-page"),this.model.set("isFullPage",!0),this.model.meta.set("autoExpand",0),e.duckbar.setOrganicsVisibility(!1,this.model.id))},_addProductAdsWithDividers:function(t){if(e.settings.isDefault("k1")&&!this.views.productAdsHeader&&!this.views.imagesHeaderWhenProductAds){this.views.productAdsHeader=new e.Views.VerticalSectionDivider({appendTo:this.$topmodule,answer:this.model,adsMode:!0,border:!1});var i=this._addTopModule("products",t);if(i&&t.page_load_url&&t.visibility_url){var s=i.model.visibility,a=i.model.adReporting;a.setEndpoint("inlineAds",{impression:t.page_load_url,visibility:t.visibility_url}),a.sendAdImpressions({config:{},rendered:[]},s,{},a.endpoint.inlineAds.impression,"images")}this.views.imagesHeaderWhenProductAds=new e.Views.VerticalSectionDivider({appendTo:this.$topmodule,answer:this.model,border:!1,title:l("Images")})}},_removeDividers:function(e){!e&&this.views.productAdsHeader&&this.views.imagesHeaderWhenProductAds&&(this.views.productAdsHeader.destroy(),this.views.imagesHeaderWhenProductAds.destroy())}});var o=function(e,t,i,s){for(var o,n=Math.floor(t/e.length),r=a[i][s],l=0;o=e[l];l++){var d=n;o.gridWidth-n<r&&(d=o.gridWidth-r),o.gridWidth-=d,t-=d}var c=Math.ceil(t);for(l=0;o=e[l];l++){if(o.gridWidth-c>r){o.gridWidth-=c;break}l===e.length-1&&(o.gridWidth-=c,o.killMinWidth=1)}}}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.GridTiles;t.Videos=function(e){this.scrollHandler=this._onScroll.bind(this),i.call(this,e)},t.Videos.prototype=$.extend({},i.prototype,{show:function(){e.device.on("scroll",this.scrollHandler),i.prototype.show.call(this)},hide:function(){e.device.off("scroll",this.scrollHandler),i.prototype.hide.call(this)},showNoResults:function(){var t={},s=this.model.name;!window.iqbi||e.settings.safeSearch.isOff()||e.history.get("iaf")||(t.message=l("%s blocked by safe search.",s)),i.prototype.showNoResults.call(this,t)},_expand:function(){e.device.isMobile&&this.model.meta.autoExpandRows||this.$el.css("min-height",e.device.height-e.get_header_height()),i.prototype._expand.call(this)},_collapse:function(){this._clearMinHeight(),i.prototype._collapse.call(this)},_clearMinHeight:function(){!e.device.isMobile&&e.settings.isDefault("kc")&&this.$el.css("min-height","")},_onScroll:function(){this._checkLoadMore(750)}})}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.GridTiles;t.Products=function(e){this.scrollHandler=this._onScroll.bind(this),i.call(this,e),this.bindEvents([[this.model,"change:active",this._updateTitle],[this.model,"change:items",function(){this._bindEventsToImages(),this._checkLoadMore(0)}.bind(this)],[this.model,"change:hasRenderedFreeListingsDivider",this._setupFreeListingsDivider.bind(this)],[this.model,"ads-wrongly-after-free-listings",this.removeLoadMore]]),this.model.on("change:isRequerying",this._removeDividers.bind(this))},t.Products.prototype=$.extend({},i.prototype,{show:function(){e.pixel.fire("verticalopenshopping"),e.device.on("scroll",this.scrollHandler),i.prototype.show.call(this)},hide:function(){e.device.off("scroll",this.scrollHandler),i.prototype.hide.call(this)},removeLoadMore:function(){i.prototype.removeLoadMore.call(this),this.model.emit("removed-load-more")},_updateItems:function(){var e=!!this.model.items.length,t=!!(this.model.ads&&this.model.ads.results&&this.model.ads.results.length);(e||!e&&!t)&&i.prototype._updateItems.call(this),this.model.ads&&this._addProductAdsWithDividers(this.model.ads),(e||t)&&(this._detectItemsInViewport(),this.model.emit("added-items"))},_addProductAdsWithDividers:function(t){t&&t.results&&t.results.length>0&&(this.views.carouselAdsHeader||(this.views.carouselAdsHeader=new e.Views.VerticalSectionDivider({appendTo:this.$topmodule,answer:this.model,adsMode:!0,border:!1}),this._addTopModule("products",t,function(e){e.on("shopping-carousel-impression",function(e){this.model.inVerticalCarouselVisibility=e}.bind(this)),e.on("change:highlightedItem",function(e){this.model._reportShoppingItemHovered(e)}.bind(this)),e.on("clicked-external-link",function(){this.model.fire("iatc")}.bind(this))}.bind(this),function(t){e.device.isDesktop||t.$items.on("touchend",function(){if(1===this.model.expanded){var e=t._reportVisibility();this.model.adReporting.sendShoppingMobileVisibility(e)}}.bind(this))}.bind(this))),e.device.isMobile&&this.model.isFreeListings()&&(this.views.carouselAdsHeader=new e.Views.VerticalSectionHeader({appendTo:this.$topmodule,answer:this.model,freeListingsMode:!0})))},_removeDividers:function(e){!e&&this.views.carouselAdsHeader&&(this.views.carouselAdsHeader.destroy(),delete this.views.carouselAdsHeader)},_setupFreeListingsDivider:function(t){t?this.views.freeListingsDivider=new e.Views.FreeListingsDivider({appendTo:this.$jsTiles,answer:this.model}):this.views.freeListingsDivider&&(this.views.freeListingsDivider.destroy(),delete this.views.freeListingsDivider)},_onScroll:function(){e.device.isMobileDevice&&this._detectItemsInViewport(),this._checkLoadMore(660)},_detectItemsInViewport:function(){if(this.model.adReporting){for(var t=$(window),i=0;i<this.views.items.length;i++){var s=this.views.items[i],a=s.$el,o=a&&a.offset();o&&o.left+a.width()>t.scrollLeft()&&o.top+a.height()>t.scrollTop()&&o.left<t.scrollLeft()+t.innerWidth()&&o.top<t.scrollTop()+t.innerHeight()?s.model.inViewport=!0:s.model.inViewport=!1}e.device.isMobileDevice&&1===this.model.expanded&&this.model.adReporting.sendShoppingAdItemsForMobileVisibility(this.model.items)}},_bindEventsToImages:function(){e.device.isIE||this.$(".js-product-image").off("error").on("error",this._onImageError)},_onImageError:function(){var t=$(this);t.hide(),e.pixel.fire("jse","productimageerror",{msg:t.attr("src")})},_selectItemFromQuerystring:function(){this.model.bing||i.prototype._selectItemFromQuerystring.call(this)}})}(DDG),function(e){var t=e.Views.AnswerBar.Answers,i=t.Base,s={images:{mobile:185,desktop:216},nlp_qa:{mobile:133,desktop:253},products:{mobile:279,desktop:269},recipes:{mobile:251,desktop:205,desktopTall:268},sound_cloud:{mobile:330,desktop:311},time:{mobile:154,desktop:154},videos:{mobile:250.5,desktop:238,desktopTall:272}};t.Placeholder=function(e){this.signalWait=e.signalWait,this.timeAdded=(new Date).getTime(),i.call(this,e),this.show(),this.updateHeight()},t.Placeholder.prototype=$.extend({},i.prototype,{updateHeight:function(){var t,i=s[this.signalWait],a=e.device;i&&(t=a.isMobile?i.mobile||190:a.isTeapot()?i.desktop||190:i.desktopTall||i.desktop||190),this.$el.height(t)}})}(DDG),function(e){var t=e.Models.Base;e.Models.GLMap=function(e){this.locations=e.locations||[e.selectedLocation],this.selectedLocation=e.selectedLocation||1===this.locations.length&&e.locations[0],this.pixelId=e.pixelId,this.isSatellite=!1,this.canShowMap=!1,t.call(this,e)},e.Models.GLMap.prototype=$.extend({},t.prototype,{getApproximateGeoBBox:function(){var e=this.selectedLocation||this.locations.length&&this.locations[0];if(e)return this.getGeoBBox(e.lat,e.lon)},getGeoBBox:function(e,t,i,s){return{top_left:e+(i=i||.25)/2+","+(t-(s=s||.25)/2),bottom_right:e-i/2+","+(t+s/2),lat:e,lon:t,latDelta:i,lonDelta:s}}})}(DDG),function(e){var t=e.Views.Base;e.Views.Address.AddressDetail=function(e){this.answer=e.answer,t.call(this,e),this.bindEvents([[this.$address,"click",this._onLinkClick],[this.$title,"click",this._onLinkClick],[this.$el,"click",this._onClick],[this.$directions,"click",this._onDirectionsClick]])},e.Views.Address.AddressDetail.prototype=$.extend({},t.prototype,{template:"address_detail",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(i){t.prototype._render.call(this,$.extend({mapkitAppleDevice:e.device.isAppleDevice},this.model)),this._cacheElems(".js-address-detail",["title","address","directions"]);var s=e.duckbar.tabs.maps_expanded,a=s&&s.expandedMap&&s.expandedMap.model,o=a&&a.directionsModel;e.directionsModel=e.directionsModel||o||new e.Models.Maps.Directions,this.answer.isMapExpanded&&e.device.isEnglish&&(this.views.exampleSearches=new e.Views.Maps.ExampleSearches({appendTo:this.$parent,model:this.model,answer:this.answer}))},_updateMapLinks:function(){var t=e.directionSource.getMapURL(this.model),i=e.get_favicon_url(e.directionSource.selected.faviconURL||t),s=e.directionSource.selected.name;this.$address.attr("href",t).attr("title","Open in "+s),this.$(".js-maps-module-favicon img").attr("src",i)},updateDropdownPosition:function(e){this.views.directions&&this.views.directions.changeVerticalPos(e)},_openDirections:function(){e.directionsModel.canRetryLocationSearch=!1,e.directionsModel.setLocation({type:"end",what:this.model.address,display:this.model.address,coordinate:{lat:this.model.lat,lon:this.model.lon}}),e.directionsModel.set("endDisplay",this.model.address),e.directionsModel.userLocation&&e.directionsModel.setLocationToUserLocation("start"),this.answer.isMapExpanded?(this.answer.set("isDirectionsActive",!0),e.directionsModel.onDirectionsAction()):"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"directions",source:"directions",start:null,end:window.utils.encodeDirectionsStartEndForUrlQueryParam({value:this.model.address,suggestion:{what:this.model.address,lat:this.model.lat,lon:this.model.lon}})})):e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0,isDirections:!0})},_onClick:function(){this.answer.engaged()},_onLinkClick:function(t){this.answer.engaged(),t.preventDefault(),t.stopPropagation(),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"maps"})):e.router.navigate("toggle-map",{model:this.answer,isMapExpanded:!0}),this.answer.fire("iacg")},_onDirectionsClick:function(){e.pixel.fire("dir_loc"),this._openDirections()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Mapkit.Map=function(i){this.mapkit=i.mapkit||e.mapkit,this.geo=i.geo||e.geo,this.answer=i.answer,this._mapOffset=i.mapOffset||{top:0,right:0,bottom:0,left:0},this._isFrozen=i.isFrozen||!1,this._hideLoc=i.hideLoc||!1,this._hideMapTypeControl=i.hideMapTypeControl||!1,this._hideScale=i.hideScale||!1,this._hideCompass=i.hideCompass||!1,this._onMapReady=i.onMapReady,this.isDirections=i.isDirections,this.userLocation=i.userLocation,this._mapkitMapConstructorOptions=i.mapkitMapConstructorOptions,this._isCurrentThemeDark=e.settings.isDarkTheme(),this._markers=i.markers||[],t.call(this,i),this.bindEvents([[this.model,"change:canShowMap",this._onCanShowMapChange],[this.answer,"change:isMapExpanded",this._onIsMapExpandedChange],[this.answer,"change:selectedItem",this._onSelectedItemChange],[this.answer,"change:isRequerying",this._onRequeryingChange],[this.answer,"change:items",this._onItemsChange],[this.answer,"change:geo_bbox",this._onBoundingBoxChange],[this.answer,"change:mapType",this._onMapTypeChange],[e.settings,"change:"+e.settings.THEME_KEY,this._onThemeChange]])},e.Views.Mapkit.Map.prototype=$.extend({},t.prototype,{template:"mapkit_map",hide:function(){this.$el.addClass("is-hidden")},show:function(){this.$el.removeClass("is-hidden"),this.recenter()},recenter:function(e){if(this.views.map)if(e){var t=new w.mapkit.Coordinate(e.lat,e.lon);this.views.map.setCenterAnimated(t)}else this.views.map.setVisibleMapRectAnimated(this._originalMapRect)},updateMarkers:function(){this.views.map&&this._markers&&0!==this._markers.length&&this._markers.length!==this.views.map.annotations.length&&this._renderMarkers()},updateMapOffset:function(e){this.views.map&&(this._mapOffset=e,this.views.map.padding=new w.mapkit.Padding(this._mapOffset))},updateMap:function(t){if(t&&this.updateMapOffset(t),this.views.map&&this.views.markers&&0!==this._markers.length){var i,s={};if(e.history.get("bbox")){var a=e.history.get("bbox").split(",");s.top_left=a[0]+","+a[1],s.bottom_right=a[2]+","+a[3]}if(1!=e.history.get("strict_bbox")){if(1===this._markers.length){var o=this._markers[0],n=o.bbox||o.location&&o.location.bbox;n?i=this.mapkit.regionFromBoundingBox(n):o.lat&&o.lon&&(i=this.mapkit.regionFromLatLon(o.lat,o.lon)),i&&this.views.map.setRegionAnimated(i,!1)}else if(this.views.map.annotations&&this.views.map.annotations.length>1){var r,l=e.geo.boundingBox(this._markers),d=e.userLocator.hasLocation()&&e.userLocator.userLocation,c=!(!this.answer||!this.answer.proximity),h=e.mapkit.isUserLocNearMarkers(d,l,this._markers,c);r=d&&h?this.views.map.annotations.slice():this.views.map.annotations.slice(1),i=this.mapkit.regionFromBoundingBox(e.geo.enlargeBoundingBox(e.geo.expandBoundingBoxWithPercentage(e.geo.boundingBox(r.map((function(e){return{lat:e.coordinate.latitude,lon:e.coordinate.longitude}}))),.05),.5)),this.views.map.setRegionAnimated(i,!1)}}else s=Object.keys(s).length?s:this.answer.geo_bbox,i=this.mapkit.regionFromGeoBbox(s),this.views.map.setRegionAnimated(i,!1);this._originalMapRect=this.views.map.visibleMapRect}},getCenter:function(){var e=this.views.map.center;return{lat:e.latitude,lon:e.longitude}},updateRegion:function(e,t,i,s){if(this.views.map&&e&&t){var a=new w.mapkit.Coordinate(parseFloat(e),parseFloat(t)),o=new w.mapkit.CoordinateSpan(i||.016,s||.016),n=new w.mapkit.CoordinateRegion(a,o);this.views.map.setRegionAnimated(n,!1)}},addImageAnnotation:function(e,t,i){var s=new w.mapkit.Coordinate(e,t),a={url:{1:i}},o=new w.mapkit.ImageAnnotation(s,a);return this.views.map.addAnnotation(o)},clearMap:function(){this.views&&this.views.map&&(this.views.map.annotations&&this.views.map.annotations.length>0&&this.views.map.removeAnnotations(this.views.map.annotations),this.views.map.overlays&&this.views.map.overlays.length>0&&this.views.map.removeOverlays(this.views.map.overlays))},_isMarkerVisible:function(t){if(!t.annotation)return!1;var i=t.annotation.coordinate,s=this.views.map.convertCoordinateToPointOnPage(i),a=s.x>this._mapOffset.left&&s.x<e.device.width-this._mapOffset.right,o=s.y>this._mapOffset.top&&s.y<e.device.height-this._mapOffset.bottom;return a&&o},_onRequeryingChange:function(){this._isFrozen||this.answer.isRequerying&&this.clearMap()},_shouldShowUserLoc:function(){if(this._hideLoc||this.answer&&this.answer.isMapExpanded)return!0;var t=e.geo.boundingBox(this._markers),i=e.userLocator.hasLocation()&&e.userLocator.userLocation,s=!(!this.answer||!this.answer.proximity);return e.mapkit.isUserLocNearMarkers(i,t,this._markers,s)},_onItemsChange:function(){this.views.map&&!this._isFrozen&&(this.clearMap(),this._markers=this.answer.itemsOnMap,this._shouldShowUserLoc()&&this.renderUserLocation(),this._renderMarkers(),this._originalMapRect=this.views.map.visibleMapRect,this.answer.set("isSearchAreaBtnVisible",!1),this.answer.shouldMapViewportUpdate&&(this.answer.shouldMapViewportUpdate=!1))},_onBoundingBoxChange:function(){this.answer.shouldMapViewportUpdate&&this._isFrozen},_onSelectedItemChange:function(){if(!this._isFrozen&&!this.answer.isRequerying&&!this.answer.isSingle&&this.views.markers){var e=this.answer.selectedItem;e?this._isMarkerVisible(e)||this.recenter({lat:e.lat,lon:e.lon}):this.recenter()}},_updateMapType:function(){this.views.map&&this.answer&&!this._isFrozen&&(this.answer.mapType&&(this.views.map.mapType=this.answer.mapType),this.answer.set("isDarkMap",this._isCurrentThemeDark||"standard"!==this.views.map.mapType))},renderUserLocation:function(){this.views.userLocation&&this.removeUserLocation(),e.userLocator.hasLocation()&&(this.views.userLocation=new e.Views.Mapkit.UserLocation({model:e.userLocator,answer:this.answer,map:this.views.map}))},removeUserLocation:function(){if(this.views.userLocation){var e=this.views.map.annotations[0];e&&this.views.map.removeAnnotation(e),this.views.userLocation.destroy(),delete this.views.userLocation}},_renderMap:function(){var t={padding:new w.mapkit.Padding(this._mapOffset),showsScale:w.mapkit.FeatureVisibility[this._hideScale?"Hidden":"Visible"],isScrollEnabled:!this._mapkitMapConstructorOptions||this._mapkitMapConstructorOptions.isScrollEnabled,isZoomEnabled:!this._mapkitMapConstructorOptions||this._mapkitMapConstructorOptions.isZoomEnabled,showsMapTypeControl:!this._hideMapTypeControl,showsCompass:w.mapkit.FeatureVisibility[this._hideCompass?"Hidden":"Adaptive"],colorScheme:e.settings.isDarkTheme()?w.mapkit.Map.ColorSchemes.Dark:w.mapkit.Map.ColorSchemes.Light};if(this._markers.length>1){var i=e.geo.boundingBox(this._markers);t.region=this.mapkit.regionFromBoundingBox(e.geo.enlargeBoundingBox(e.geo.expandBoundingBoxWithPercentage(i,.05),.5))}else if(1===this._markers.length){var s=this._markers[0];s.bbox?t.region=this.mapkit.regionFromBoundingBox(s.bbox):t.region=this.mapkit.regionFromLatLon(s.lat,s.lon)}else this.model.selectedLocation?t.region=this.mapkit.regionFromLatLon(this.model.selectedLocation.lat,this.model.selectedLocation.lon):this.isDirections&&this.userLocation&&(t.region=this.mapkit.regionFromLatLon(this.userLocation.lat,this.userLocation.lon));this.views.map=new w.mapkit.Map(this.$el[0],t),this.views.map._impl._allowWheelToZoom=!0,this.views.map.distances=w.mapkit.Map.Distances["metric"===e.geo.getUOM()?"Metric":"Imperial"],this._updateMapType(),this._isFrozen&&setTimeout(function(){this.$el&&this.$el.addClass("mapkit-static--show-legal")}.bind(this),1e3),e.settings.isDefault("kay")&&this.answer&&this.answer.isMapExpanded?e.settings.set("kay","b",{saveToCloud:!0}):"i"===e.settings.get("kay")&&this.views.map.addTileOverlay(new w.mapkit.TileOverlay((function(){}))),this._originalMapRect=this.views.map.visibleMapRect,this.views.map.addEventListener("complete",function(e){this._onMapComplete()}.bind(this)),this.views.map.addEventListener("scroll-start",function(e){this.emit("dragstart")}.bind(this)),this.views.map.addEventListener("select",function(e){this.emit("select")}.bind(this)),this.views.map.addEventListener("zoom-start",function(e){this._onZoomStart()}.bind(this)),this.views.map.addEventListener("region-change-end",function(e){this._onMapMove()}.bind(this)),this.views.map.addEventListener("scroll-end",function(e){this._onMapScrollZoom()}.bind(this)),this.views.map.addEventListener("zoom-end",function(e){this._onMapScrollZoom()}.bind(this)),this.views.map.addEventListener("single-tap",function(e){this._onSingleTap()}.bind(this))},_renderMarkers:function(){this.views.map&&this._markers&&0!==this._markers.length&&(this.views.markers=this._markers.map(function(t){var i=new e.Views.Mapkit.Marker({model:t,answer:this.answer,isFrozen:this._isFrozen});return this.views.map.addAnnotation(i.annotation),t.annotation=i.annotation,i}.bind(this)),this.updateMap())},_createMap:function(){this._renderMap(),this._shouldShowUserLoc()&&this.renderUserLocation(),this.isDirections||this._renderMarkers()},_render:function(i){t.prototype._render.call(this,i),this.$clickOverlay=this.$(".js-mapkit-map-click-overlay"),this.mapkit.isInitialized?this._postInit():this.mapkit.init(function(e,t){t&&this._postInit()}.bind(this)),this.bindEvents([[this.$clickOverlay,"click",this._onClickOverlayClick]]),this._isFrozen&&e.pixel.fire("map_si")},_postInit:function(){this._createMap(),$.isFunction(this._onMapReady)&&!this._onMapReadyDone&&(this._onMapReady(),this._onMapReadyDone=!0)},_onIsMapExpandedChange:function(){this.answer.isMapExpanded?this.$clickOverlay.addClass("is-hidden"):this.$clickOverlay.removeClass("is-hidden")},_onCanShowMapChange:function(e){this.$el.toggleClass("is-loading",!e)},_onMapComplete:function(){this._isMapLoaded||(this.emit("load"),this._isMapLoaded=!0,e.history.get("start")||e.history.get("end")||!this.answer||"directions"===this.answer.id||this.model.set("canShowMap",!0),this.$(".mk-map-view").on("click",this._onClick.bind(this)))},_onClickOverlayClick:function(){this.emit("click")},_onZoomStart:function(){e.pixel.fire("map_eze")},_onMapTypeChange:function(){this._updateMapType(),e.pixel.fire("map_ete")},_onMapMove:function(){this.emit("dragend")},_onMapScrollZoom:function(){this.emit("scrollzoom")},_onClick:function(){this.emit("click")},_onSingleTap:function(){this.emit("single-tap")},_onThemeChange:function(){this._isCurrentThemeDark!==e.settings.isDarkTheme()&&(this.views.map.colorScheme=e.settings.isDarkTheme()?w.mapkit.Map.ColorSchemes.Dark:w.mapkit.Map.ColorSchemes.Light,this._isCurrentThemeDark=!this._isCurrentThemeDark,this.answer&&this.answer.set("isDarkMap",this._isCurrentThemeDark))}})}(DDG),function(e){var t=e.Views.Base;e.Views.Mapkit.StaticMap=function(i){this._ops={},this.answer=i.answer,t.call(this,i),this.bindEvents([[e.settings,"change:"+e.settings.THEME_KEY,this._onThemeChange]])},e.Views.Mapkit.StaticMap.prototype=$.extend({},t.prototype,{template:"mapkit_static_map",hide:function(){this.$el.hide()},show:function(){this.$el.show()},_render:function(i){this._ops=i||this._ops,this._isCurrentThemeDark=e.settings.isDarkTheme(),this._ops.userLoc=this._getUserLocMarkerCoords(),this._ops.url=e.mapkit.getStaticImageURL(this._ops),t.prototype._render.call(this,this._ops),e.pixel.fire("map_si"),setTimeout(function(){this.$el&&this.$el.addClass("mapkit-static--show-legal")}.bind(this),1e3),this.bindEvents([[this.$el,"click",this._onClick]])},_getUserLocMarkerCoords:function(){var t=null;if(this.answer){var i=this.answer.obfusLoc&&this.answer.obfusLoc.lat&&this.answer.obfusLoc.lon?this.answer.obfusLoc:null,s=e.userLocator.hasLocation()&&e.userLocator.userLocation,a=!!this.answer.proximity;if(s&&i){var o=e.geo.boundingBox(this._ops.markers);e.mapkit.isUserLocNearMarkers(i,o,this._ops.markers,a)&&(t=i)}}return t},_onThemeChange:function(){this._isCurrentThemeDark!==e.settings.isDarkTheme()&&(this._isCurrentThemeDark=!this._isCurrentThemeDark,this._rerender())},_onClick:function(){this.emit("click"),e.pixel.fire("map_se")},_onTabChanged:function(){if(!this.$el||this.$el.is(":visible")){var e=this.$el.outerWidth(),t=this.$el.outerHeight();this._ops.width===e&&this._ops.height===t||(this._ops.width=e,this._ops.height=t,this._rerender())}}})}(DDG),function(e){var t=e.Views.Base,i="circle",s="numbered",a="dot";e.Views.Mapkit.Marker=function(o){this.mapkit=o.mapkit||e.mapkit,this.answer=o.answer,this.model=o.model,this.markerType=i,o.markerType?this.markerType=o.markerType:this.answer&&this.answer.items.length>1&&(this.markerType=o.isFrozen&&this.model.number>3?a:s),o.markerType=this.markerType,o.number=this.markerType===s&&this.model.number,t.call(this,o),this.bindEvents([[this.answer,"change:selectedItem",this._updateSelectedState],[this.model,"change:selected",this._updateSelectedState],[this.model,"change:highlighted",this._onHighlightedChange]]),this.answer.selectedItem&&this._updateSelectedState()},e.Views.Mapkit.Marker.prototype=$.extend({},t.prototype,{template:"mapkit_marker",_render:function(e){t.prototype._render.call(this,e),this.annotation=this.mapkit.marker(this.model.lat,this.model.lon,function(){return this.$el[0]}.bind(this)),this.$mkEl=this.$el.parent(),this.$mkEl.addClass("mapkit-marker"),this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.$el,"click",this._onClick]])},_updateSelectedState:function(){this.$el.toggleClass("mgl-marker--selected",!!this.model.selected),this.$mkEl.toggleClass("mapkit-marker--selected",!!this.model.selected),!this.answer.selectedItem||this.model.selected?(this.$el.removeClass("mgl-marker--disabled"),this.$mkEl.removeClass("mapkit-marker--disabled")):this.answer.selectedItem&&!this.model.selected&&(this.$el.addClass("mgl-marker--disabled"),this.$mkEl.addClass("mapkit-marker--disabled"))},_onHighlightedChange:function(){this.$el.toggleClass("mgl-marker--highlighted",!!this.model.highlighted),this.$mkEl.toggleClass("mapkit-marker--highlighted",!!this.model.highlighted)},_onMouseEnter:function(){this.model.highlight()},_onMouseLeave:function(){this.model.unhighlight()},_onClick:function(){this.model.select()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Mapkit.UserLocationControl=function(e){t.call(this,e),this.bindEvents([[this.model,"change:waitingForLocation",this._onWaitingForLocationChange],[this.$el,"click",this._onClick]])},e.Views.Mapkit.UserLocationControl.prototype=$.extend({},t.prototype,{template:"mapkit_user_location_control",hide:function(){this.$el.addClass("is-hidden")},show:function(){this.$el.removeClass("is-hidden")},_onWaitingForLocationChange:function(){this.$el.toggleClass("mapbox-control--waiting",this.model.waitingForLocation)},_onClick:function(e){e.preventDefault(),e.stopPropagation(),this.model.updateLocation({force:!0,updateType:"map"})}})}(DDG),function(e){var t=e.Views.Base;e.Views.Mapkit.UserLocationMarker=function(i){this.mapkit=i.mapkit||e.mapkit,this.model=i.model,this.coords={lat:this.model.userLocation.lat,lon:this.model.userLocation.lon},i.markerType="loc",t.call(this,i)},e.Views.Mapkit.UserLocationMarker.prototype=$.extend({},t.prototype,{template:"mapkit_marker",_render:function(e){t.prototype._render.call(this,e),this.annotation=this.mapkit.marker(this.coords.lat,this.coords.lon,function(){return this.$el[0]}.bind(this))}})}(DDG),function(e){var t=e.Views.Base;e.Views.Mapkit.UserLocation=function(e){this.answer=e.answer,this.map=e.map,t.call(this,e),this.bindEvents([[this.model,"change:userLocation",this._onUserLocationChange]])},e.Views.Mapkit.UserLocation.prototype=$.extend({},t.prototype,{template:"mapkit_user_location",_addToDOM:function(){this.views.marker=new e.Views.Mapkit.UserLocationMarker({model:this.model}),this.map.addAnnotation(this.views.marker.annotation),this._updateLocation()},_updateLocation:function(){var t=this.model.userLocation.lat,i=this.model.userLocation.lon;this.views.marker.annotation.coordinate=e.mapkit.coord(t,i)},_onUserLocationChange:function(){e.userLocator.hasLocation()&&this._updateLocation()}})}(DDG),function(e){var t=e.Views.Base,i="mapbox-position-picker__marker--moving";e.Views.Mapkit.PositionPicker=function(e){this.model=e.model,this.model.canShowMap=!0,t.call(this,e)},e.Views.Mapkit.PositionPicker.prototype=$.extend({},t.prototype,{template:"mapkit_position_picker",show:function(){this.views.map&&this.views.map.show()},hide:function(){this.views.map&&this.views.map.hide()},_getPosition:function(){if(!this.views.map)return null;var t=this.views.map.getCenter();return new e.Models.UserLocation({lat:t.lat,lon:t.lon,type:e.Models.UserLocation.MANUAL_LOCATION})},_render:function(e){t.prototype._render.call(this,e),this._cacheElems(".js-mapkit-position-picker",["map","marker"]),this._createMap()},_createMap:function(){this.views.map=new e.Views.Mapkit.Map({model:this.model,appendTo:this.$map,hideLoc:!0,hideMapTypeControl:!0,hideScale:!0,hideCompass:!0}),this.bindEvents([[this.views.map,"load",this._onMapLoaded],[this.views.map,"dragstart",this._onMapMoveStart],[this.views.map,"dragend",this._onMapMoveEnd]])},_onMapLoaded:function(){this.$map.removeClass("is-loading")},_onMapMoveStart:function(){this.$marker.addClass(i)},_onMapMoveEnd:function(){this.$marker.removeClass(i),this.model.set("selectedLocation",this._getPosition())}})}(DDG),function(e){var t=e.Views.Base;e.Views.Attribution=function(e){this.answer=e.answer,this.direction=e.direction,t.call(this,e),this.$(".js-attribution-link").click(this._onLinkClick.bind(this))},e.Views.Attribution.prototype=$.extend({},t.prototype,{template:"attribution",_onLinkClick:function(t){t.preventDefault(),t.stopPropagation(),this.views.modal||(this.views.modal=new e.Views.AttributionModal({answer:this.answer,direction:this.direction,appendTo:this.$el}));var i=this.views.modal;i.isShowing?i.hide():(e.pixel.fire("iaa",this.answer.pixelId),i.show()),this.answer.engaged()}})}(DDG),function(e){var t=e.Views.Modal;e.Views.AttributionModal=function(e){t.call(this,e)},e.Views.AttributionModal.prototype=$.extend({},t.prototype,{template:"attribution_modal",_render:function(e){var i=e.answer.meta,s=i.developer,a=!1;s.forEach((function(e){e&&e.name&&"DDG Team"!==e.name&&"DuckDuckGo"!==e.name&&"duckduckgo"!==e.name&&(e.show=a=!0)})),t.prototype._render.call(this,{direction:e.direction,devs:a&&s,meta:i})}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Base,s="is-hidden",a="feedback-btn--clicked";t.Button=function(e){this.category=e.category,this.clickPixel=e.clickPixel,this.noFaces=e.noFaces||!1,this.extraData=e.extraData||{},this.answer=e.answer,i.call(this,e)},t.Button.prototype=$.extend({},i.prototype,{template:"feedback_button",_render:function(e){i.prototype._render.call(this,e),this._cacheElems(".js-feedback",["start","love","nolove","icon-wrap"]),this.bindEvents([[this.$start,"click",this._onStartClick],[this.$love,"click",this._onLoveClick],[this.$nolove,"click",this._onNoLoveClick]])},_addModal:function(e){this.views.modal||(this.views.modal=new t.Modal({category:this.category,extraInfo:$.param(this.extraData),appendTo:$("body")}),this.views.modal.on("hidden",this._hideFaces.bind(this))),this.views.modal.show(e)},_showFaces:function(){this.$iconwrap.removeClass(s),setTimeout(function(){this.$el.addClass(a)}.bind(this),100)},_hideFaces:function(){this.$el.removeClass(a),setTimeout(function(){this.$iconwrap.addClass(s)}.bind(this),200)},_onStartClick:function(t){return t.preventDefault(),this.clickPixel&&e.pixel.fire(this.clickPixel),this.noFaces?this._addModal(!1):(this._showFaces(),e.$doc.one("click",this._onDocumentClick.bind(this))),!1},_onDocumentClick:function(e){this.$love.is(e.target)||this.$nolove.is(e.target)||this._hideFaces()},_onLoveClick:function(e){e.preventDefault(),this._addModal({isPositive:!0})},_onNoLoveClick:function(e){e.preventDefault(),this._addModal({isPositive:!1})}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Base;t.ReportAdsButton=function(e){this.category=e.category,this.extraData=e.extraData||{},this.ad=e.ad,this.whichAd=this.ad.adIndex,i.call(this,e)},t.ReportAdsButton.prototype=$.extend({},i.prototype,{template:"report_ads_button",_render:function(e){i.prototype._render.call(this,e),this._cacheElems(".js-report-ad",["start"]),this.bindEvents([[this.$start,"click",this._onAdReportClick]])},_showModal:function(e){this.views.modal||(this.views.modal=new t.Modal({category:"ads",adInfo:JSON.stringify(e),appendTo:$("body")})),this.views.modal.show(!1),this.views.modal.on("submitted",this._hideReportAdButton.bind(this))},_hideReportAdButton:function(){this.$start.addClass("is-hidden")},_onAdReportClick:function(t){t.preventDefault();var i=this._getAdData();this._showModal(i),i.adt=encodeURIComponent(i.adt),i.adsnippet=encodeURIComponent(i.adsnippet),e.pixel.fire("readsb",i)},_getAdData:function(){var t=this.ad;return{whichad:this.whichAd,adrlink:this._getRlink(t.c),adt:e.Utils.Strings.htmlDecode(t.t),adsrc:t.d,adgood:t.relevancy?t.relevancy.is_good_v8:0,adsnippet:e.Utils.Strings.htmlDecode(t.a)}},_getRlink:function(t){return e.Utils.Strings.getUrlParameter(t,"u3")}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Modal,s="other",a="is-hidden",o="is-invisible",n="is-disabled",r=["ads","autoads","toursactivities","creditcards"],d=["wikinlp"];t.Modal=function(t){this._onHide=t.onHide,this.sourceName=t.sourceName||"",this.defaultCategory=t.category||"",this.category=t.category||"",this.categoryValue=t.categoryValue||"",this.issue="",this.extraInfo=t.extraInfo,this.adInfo=t.adInfo,this.genericLabel=t.genericLabel,t.model=t.model||new e.Models.Feedback,e.settings.region.isProductAdsMarket()?r.push("products"):e.Data.FeedbackIssues.products=[{text:"I don't want results from Amazon",val:"amazon"}],this.hasIssues=this._checkHasIssues(),this.requiresSuggestion=-1!==r.indexOf(this.category),this.optionalSuggestion=-1!==d.indexOf(this.category),i.call(this,t),this.bindEvents([[this.model,"change:success",this._onFeedbackSuccess],[this.model,"change:error",this._onFeedbackError]])},t.Modal.prototype=$.extend({},i.prototype,{template:"feedback_modal",show:function(t){if(t=t||{},e.isDev&&"object"!=typeof t)throw new Error("An object must be passed to modal.show");if(this.$suggestionlabel.html(t.isPositive?lp("feedback form","What did you like?"):lp("feedback form","What could be better?")),this._isPositive=t.isPositive,this._isGeneric=t.isGeneric,this.$form.removeClass(a),this.$success.addClass(a),this._showHideSuggestions(),this._toggleSubmitButton(),!this._isPositive&&this.category&&this.hasIssues?(this.$positives.addClass(o),this.$issues.removeClass(o),this.$dropdown.val(this.category),this._setCategoryIssues(this.categoryValue)):this._isPositive&&this.category&&(this.$positives.removeClass(o),this.$dropdown.val(this.category),this._setCategoryPositives(this.categoryValue)),this.category){var s=this.categoryValue||this.category,n=["fbe",t.isPositive?"positive":"negative",s];e.pixel.fire.apply(e.pixel,n)}i.prototype.show.call(this)},_render:function(t){var a=[{text:lp("feedback form","Pick a category"),val:""}],o=[{text:l("Results"),val:"organics"},{text:lp("feedback form","Wikipedia info"),val:"wikipedia"},{text:lp("feedback form","Advertisements"),val:"ads"},{text:l("Images"),val:"images"},{text:l("Videos"),val:"videos"},{text:l("News"),val:"news"},{text:lp("feedback form","Maps / location info"),val:"maps"},{text:l("Products"),val:"products"},{text:lp("feedback form","Search box"),val:"search box"},{text:lp("feedback form","Security issue (opens in new tab)"),val:"security"},{text:lp("feedback form","Settings"),val:"settings"},{text:lp("feedback form","Date filters"),val:"filters"},{text:lp("feedback form","Other"),val:s}];if(e.settings.region.isAutoAdsMarket()&&o.splice(3,0,{text:"Car Advertisements",val:"autoads"}),e.settings.region.isToursActivitiesMarket()&&o.splice(3,0,{text:"Tours & Activities Advertisements",val:"toursactivities"}),e.settings.region.isCreditCardsMarket()&&o.splice(3,0,{text:"Credit Cards Advertisements",val:"creditcards"}),t.categoryName){this.categoryName=t.categoryName;for(var n=0;n<o.length;n++)if(o[n].val===t.category){o[n].text=this.categoryName;break}}i.prototype._render.call(this,$.extend({},t,{defaultCategory:this.categoryName||this.defaultCategory,options:a.concat(o),query:e.get_query(),inputMax:50,textareaMax:500,subtitleText:t.subtitleText||lp("feedback form","What do you think of the information shown?"),isDuckAssist:"wikinlp"===t.category,isDuckChat:"duckchat"===t.category})),this._cacheElems(".js-feedback",["form","success","dropdown","issues","positives","suggestion","suggestion-label","submit"]),this.category&&this.$dropdown.val(this.category),this.bindEvents([[this.$dropdown,"change",this._onCategoryChange],[this.model,"issue-selected",this._onIssueChange],[this.$submit,"click",this._onSubmitClick],[this.$suggestion,"input",this._toggleSubmitButton]])},hide:function(){this._reset(),i.prototype.hide.call(this),this._onHide&&this._onHide()},_showSuccessMessage:function(){this.$success.removeClass(a),this.$form.addClass(a)},_onSubmitClick:function(t){if(t.preventDefault(),!this.$submit.hasClass(n)){this.$submit.addClass(n);var i=e.duckbar.getActiveTab(),s=i?i.pixelId:"",a=e.duckbar.sideModules||{},o=Object.keys(a).map((function(e){return e.toLowerCase()+"_module"})).concat([s]).join(", "),r=this.$suggestion.val();r.length>0&&this.extraInfo&&(r+=" | "+this.extraInfo);var l={ia:o,comment:r,rating:this._isPositive?1:-1,looking_for:this.categoryValue||this.category,category_issue:this.issue,search_exp:e.searchExperiments.getPixelParameters()};"ads"===l.looking_for&&(l.ads_issue=l.category_issue,delete l.category_issue,delete l.ad_issue),"great"===l.category_issue&&(l.rating=1);var d=e.page.ads.getAds(),c=-1===l.rating&&"ads"===l.looking_for&&d;if(this.adInfo&&"ads"===l.looking_for)l=$.extend(l,JSON.parse(this.adInfo));else if(!this.adInfo&&c){l.whichad="all",l.adt="",l.adsrc="",l.adsnippet="",l.adgood="";for(var h=0;h<d.length;h++){var p,u=d[h];p=p=h<d.length-1?", ":"",l.adt+=e.Utils.Strings.htmlDecode(u.t)+p,l.adsrc+=u.d+p,l.adsnippet+=e.Utils.Strings.htmlDecode(u.a)+p}}l.hasOptionalSuggestions=this.optionalSuggestion,this.model.send(l)}},_reset:function(){this.$submit.addClass(n),this.category=this.defaultCategory,this.hasIssues=this._checkHasIssues(),this.issue="",this.$dropdown.val(this.defaultCategory),this.$issues.addClass(o),this.isOtherCategory=!1,this.isOtherIssue=!1,this.$suggestion.val(""),this.requiresSuggestion=-1!==r.indexOf(this.category),this.optionalSuggestion=-1!==d.indexOf(this.category)},_toggleSubmitButton:function(){var e=this._shouldEnableSubmit();this.$submit.toggleClass(n,!e)},_setCategoryIssues:function(i){var a=this._getIssues(i);this.$issues.empty(),this._isGeneric&&"ads"!==this.category&&"places_multiple"!==i&&a.unshift({text:"map_no_results"===this.category?"This is what I expected":this.genericLabel||"These results are helpful",val:"great"}),"b"===e.searchExperiments.getActiveVariant("image_exp")&&("organics"===i||"images"===i)&&a.push({text:"The images shown next to search results are not helpful",val:"images"}),"places_multiple"===i&&e.shuffle(a),a.push({text:lp("feedback form","Other"),val:s}),this.views.issues=new t.IssueList({model:this.model,appendTo:this.$issues,issues:a})},_setCategoryPositives:function(e){var i=this._getPositives(e);this.$positives.empty(),i.push({text:lp("feedback form","Other"),val:s}),this.views.positives=new t.PositiveList({model:this.model,appendTo:this.$positives,positives:i})},_onCategoryChange:function(t){this.defaultCategory&&e.pixel.fire("fbc");var i=$(t.target).val(),a=e.duckbar.getActiveTab();if("security"===i)return nug(DDG.get_http_redirect({href:"https://hackerone.com/duckduckgo"}));e.device.isMobileDevice&&e.getProperty(a,"model.hasFeedbackButton")&&e.Data.FeedbackIssues[i+"vertical"]&&(i+="vertical"),this.$suggestion.val(""),this.issue="",this.isOtherIssue=!1,this.category=i,this.isOtherCategory=i===s,this.hasIssues=this._checkHasIssues(),this.requiresSuggestion=-1!==r.indexOf(this.category),this.optionalSuggestion=-1!==d.indexOf(this.category),this.$issues.toggleClass(o,!this.hasIssues||this._isPositive),this.$positives.toggleClass(o,!this.hasPositives||!this._isPositive),this.hasIssues&&this._setCategoryIssues(this.category),this.hasPositives&&this._setCategoryPositives(this.category),this._showHideSuggestions(),this._toggleSubmitButton();var n=this.categoryValue||this.category,l=["fbe",this._isPositive?"positive":"negative",n];e.pixel.fire.apply(e.pixel,l)},_onIssueChange:function(){var e=this.$issues.find(".js-feedback-radio:checked").val();this.issue=e,this.isOtherIssue=e===s,this.$suggestion.val(""),this._showHideSuggestions(),this._toggleSubmitButton()},_showHideSuggestions:function(){var e=!0;(this._isPositive&&this.category||this.requiresSuggestion||this.optionalSuggestion||this.category&&!this.hasIssues||this.category&&this.hasIssues&&this.isOtherIssue)&&(e=!1),this.$suggestion.attr("placeholder",lp("feedback form","Please provide feedback")),this.$suggestion.toggleClass(a,e)},_shouldEnableSubmit:function(){var e=this.$suggestion.val().trim().length>0,t=this.category.length,i=t&&"ads"===this.category,s="string"==typeof this.issue?this.issue.length:0;if(!t)return!1;if(this._isPositive&&!this.isOtherCategory)return!0;if(i){if(!e)return!1;if(s||this._isPositive)return!0}else{if(this.requiresSuggestion&&!e)return!1;if(this.isOtherCategory&&e)return!0;if(!this.hasIssues)return!0;if(this.hasIssues&&s)return!0}return!1},_checkHasIssues:function(){return"ads"===this.category||("productsvertical"===this.category&&1===window.shfl||("duckchat"===this.category||!!e.device.isEnglish&&DDG.Data.FeedbackIssues.hasOwnProperty(this.category)))},_getIssues:function(e){return e=e||this.category,DDG.Data.FeedbackIssues[e].slice()},_getPositives:function(e){return(e=e||this.category)&&DDG.Data.FeedbackPositives.hasOwnProperty(e)?DDG.Data.FeedbackPositives[e].slice():[]},_getLookingFor:function(){return this.category===this.defaultCategory&&this.categoryValue?this.categoryValue:this.category},_onFeedbackSuccess:function(){this.model.success&&(this._reset(),this._showSuccessMessage())},_onFeedbackError:function(){this.model.error&&(this.hide(),this._reset())}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Base;t.FeedbackPrompt=function(s){e.device.isMobile&&!s.showOnMobile||(this.category=s.category,this.extraData=s.extraData||{},s.showYesNo=!1!==s.showYesNo,s.showThumbs=!!s.showThumbs,this.categoryName=s.categoryName,this.categoryValue=s.categoryValue,this.sourceName=s.sourceName,this.asButton=s.asButton,this.hasNoResults=s.hasNoResults,this.promptText=s.promptText,this.subtitleText=s.subtitleText,this.genericLabel=s.genericLabel||null,this.modalView=s.modalView||("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&"places_single"===this.category?e.Views.Feedback.SinglePlaceModal:t.Modal),this.modalViewData=s.modalViewData,i.call(this,s),this.bindEvents([[".js-feedback-prompt-yes","click",this._onYesClicked],[".js-feedback-prompt-no","click",this._onNoClicked],[".js-feedback-prompt-generic","click",this._onGenericClicked]]))},t.FeedbackPrompt.prototype=$.extend({},i.prototype,{template:"feedback_prompt",_showModal:function(e){this.views.modal||(this.views.modal=new this.modalView({subtitleText:this.subtitleText,sourceName:this.sourceName,category:this.category,categoryName:this.categoryName,categoryValue:this.categoryValue,extraInfo:$.param(this.extraData),genericLabel:this.genericLabel,modalViewData:this.modalViewData,appendTo:$("body")})),this.views.modal.show(e)},_onYesClicked:function(t){t.preventDefault(),e.pixel.fire("fbp",this.category,"yes",this.extraData),this._showModal({isPositive:!0})},_onNoClicked:function(t){t.preventDefault(),e.pixel.fire("fbp",this.category,"no",this.extraData),this._showModal({isPositive:!1})},_onGenericClicked:function(e){e.preventDefault(),this._showModal({isPositive:!1,isGeneric:!0})}})}(DDG),function(e){var t=e.Views.Modal,i="is-hidden",s="is-disabled",a="other";e.Views.ReportImageModal=function(i){i.appendTo=i.appendTo||".js-site-wrapper",i.model=i.model||new e.Models.Feedback,t.call(this,i),this.model.thumbnail=i.thumbnail,this.model.image=i.image,this.bindEvents([[this.model,"change:success",this._onFeedbackSuccess],[this.model,"change:error",this._onFeedbackError]])},e.Views.ReportImageModal.prototype=$.extend({},t.prototype,{template:"report_image_modal",hide:function(){this._reset(),t.prototype.hide.call(this)},show:function(){this.$form.removeClass(i),this.$success.addClass(i),t.prototype.show.call(this)},_onDropdownChange:function(e){this.$dropdown.val()===a&&this.$comment.focus(),this._toggleSubmitButton()},_onFeedbackError:function(){this.model.error&&this.hide()},_onFeedbackSuccess:function(){this.model.success&&(this._reset(),this._showSuccessMessage())},_onSubmitClick:function(t){if(t.preventDefault(),!this.$submit.hasClass(s)){this.$submit.addClass(s);var i=e.duckbar.getActiveTab(),a=i?i.pixelId:"",o={comment:this.$comment.val(),reason:this.$dropdown.val(),tab:a,type:"images"};this.model.send(o)}},_render:function(e){var i=[{text:lp("feedback form","Pick a specific problem"),val:""},{text:lp("Report image modal","Not relevant"),val:"not_relevant"},{text:lp("Report image modal","Copyright violation"),val:"copyright_violation"},{text:lp("Report image modal","Explicit content"),val:"explicit"},{text:lp("Report image modal","Child sexual abuse"),val:"child_abuse"},{text:lp("feedback form","Other"),val:a}];t.prototype._render.call(this,$.extend({},e,{thumbnail:this.model.thumbnail,options:i})),this._cacheElems(".js-feedback",["comment","dropdown","form","submit","success"]),this.bindEvents([[this.$dropdown,"change",this._onDropdownChange],[this.$submit,"click",this._onSubmitClick],[this.$comment,"input",this._toggleSubmitButton]])},_reset:function(){this.$submit.addClass(s),this.$dropdown.val(""),this.$comment.val("")},_showSuccessMessage:function(){this.$success.removeClass(i),this.$form.addClass(i)},_toggleSubmitButton:function(){var e=this.$comment.val().trim(),t=this.$dropdown.val(),i=t===a?e.length:t.length;this.$submit.toggleClass(s,!i)}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Base;t.IssueList=function(e){this.issues=e.issues,i.call(this,e)},t.IssueList.prototype=$.extend({},i.prototype,{template:"feedback_issue_list",_render:function(e){i.prototype._render.call(this,$.extend({},e)),this._cacheElems(".js-feedback",["radio"]),this.bindEvents([[this.$radio,"change",this._onRadioChange]])},_onRadioChange:function(){this.model.emit("issue-selected")}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Base;t.PositiveList=function(e){this.positives=e.positives,i.call(this,e)},t.PositiveList.prototype=Object.assign({},i.prototype,{template:"feedback_positive_list",_render:function(e){i.prototype._render.call(this,Object.assign({},e)),this._cacheElems(".js-feedback",["radio"]),this.bindEvents([[this.$radio,"change",this._onRadioChange]])},_onRadioChange:function(){this.model.emit("issue-selected")}})}(DDG),function(e){var t=e.Views.Feedback,i=e.Views.Modal,s="is-hidden",a="is-disabled";t.SinglePlaceModal=function(t){t=t||{},this.issues=[],this.issue="",this.correction="",this.extraInfo=t.extraInfo,this.placeData=Object.assign({providerMeta:t.modalViewData&&t.modalViewData.provider_meta||{},dataProviders:t.modalViewData&&t.modalViewData.data_providers||{}},t.modalViewData),t.model=new e.Models.Feedback,i.call(this,t),this.bindEvents([[this.model,"change:success",this._onFeedbackSuccess],[this.model,"change:error",this._onFeedbackError]])},t.SinglePlaceModal.prototype=$.extend({},i.prototype,{template:"feedback_modal",show:function(t){if(e.isDev&&"object"!=typeof t)throw new Error("An object must be passed to modal.show");this.$suggestionlabel.html(lp("feedback form","What could be better?")),this.$form.removeClass(s),this.$success.addClass(s),this.$suggestion.addClass(s),this.$manage.addClass(s),this.$dropdown.val(""),this.$suggestion.val(""),this._toggleSubmitButton(),i.prototype.show.call(this)},_render:function(t){this.issues=this._getIssues(this.placeData),i.prototype._render.call(this,$.extend({},t,{defaultCategory:null,options:this.issues,query:e.get_query(),subtitleText:lp("feedback form","Share feedback for these results."),singlePlaceDisclaimerText:this.getSinglePlaceDisclaimerText(this.placeData)})),this._cacheElems(".js-feedback",["form","success","success-message","dropdown","manage","suggestion","suggestion-label","submit"]),this.bindEvents([[this.$dropdown,"change",this._onIssueChange],[this.$suggestion,"input",this._onCorrectionChange],[this.$submit,"click",this._onSubmitClick]])},hide:function(){this._reset(),i.prototype.hide.call(this)},_getConcatSourcesText:function(e){var t=$.map(e.providerMeta,(function(e){return e.name})).filter((function(e,t,i){return i.indexOf(e)===t}));return Handlebars.helpers.concat(t,{hash:{sep:", ",conj:" and "},fn:function(e){return e}})},getSinglePlaceDisclaimerText:function(e){var t=this._getConcatSourcesText(e);return lp("feedback form","Reports are anonymous and sent to DuckDuckGo to help improve our search service. Your anonymous feedback is also shared with %s to help improve their services.",t)},getSuccessMessageText:function(e){var t=this._getConcatSourcesText(e);return lp("feedback form","We use feedback like this to improve DuckDuckGo. Suggestions will be incorporated at the discretion of %s. Corrections may not show up in results right away.",t)},getSinglePlaceManageLinkText:function(e){var t=e.manageSource;return lp("feedback form","Own this business? Manage on %s",t)},_showSuccessMessage:function(){this.$successmessage.html(this.getSuccessMessageText(this.placeData)),this.$success.removeClass(s),this.$form.addClass(s)},_onSubmitClick:function(t){if(t.preventDefault(),!this.$submit.hasClass(a)){this.$submit.addClass(a);var i=e.duckbar.getActiveTab(),s=i?i.pixelId:"",o=e.duckbar.sideModules||{},n={ia:Object.keys(o).map((function(e){return e.toLowerCase()+"_module"})).concat([s]).join(", "),comment:this.correction.trim(),data_providers:JSON.stringify(this.placeData.dataProviders),provider_meta:JSON.stringify(this.placeData.providerMeta),rating:-1,looking_for:"places_single",category_issue:this.issue,search_exp:e.searchExperiments.getPixelParameters()};this.model.send(n)}},_reset:function(){this.$submit.addClass(a),this.issue="",this.correction=""},_toggleSubmitButton:function(){var e=this._shouldEnableSubmit();this.$submit.toggleClass(a,!e)},_onIssueChange:function(e){this.issue=e.target.value;var t=this._getSingleIssue(this.issue);this.$suggestion.val(""),this.correction="",t.prompt?(this.$suggestion.attr("placeholder",t.prompt),this.$suggestion.toggleClass(s,!1)):this.$suggestion.toggleClass(s,!0),t.manageUrl?(this.$manage.attr("href",t.manageUrl),this.$manage.html(this.getSinglePlaceManageLinkText(t)),this.$manage.toggleClass(s,!1)):this.$manage.toggleClass(s,!0),this._toggleSubmitButton()},_onCorrectionChange:function(e){this.correction=e.target.value,this._toggleSubmitButton()},_shouldEnableSubmit:function(){var e=this.correction.trim().length;return!!this.issue.length&&!(this._getSingleIssue(this.issue).prompt&&!e)},_getIssues:function(e){var t,i=e.providerMeta,s=[{text:lp("feedback form","Pick a specific problem"),val:""},{text:lp("feedback form","Wrong place is shown"),val:"wrongPlace"},{text:lp("feedback form","Location on map is wrong"),val:"incorrectCoords"}],a={text:lp("feedback form","Address is incorrect"),val:"incorrectAddress",prompt:lp("feedback form","Please suggest the correct address")},o=e.dataProviders.address;o&&(a.manageSource=i[o].name,a.manageUrl=i[o].manage_url),s.push(a),t=e.phone?{text:lp("feedback form","Phone number is incorrect"),val:"incorrectPhone",prompt:lp("feedback form","Please suggest the correct phone number")}:{text:lp("feedback form","Phone number is missing"),val:"missingPhone",prompt:lp("feedback form","Please suggest the phone number")};var n,r=e.dataProviders.phone;r&&(t.manageSource=i[r].name,t.manageUrl=i[r].manage_url),s.push(t),n=e.website?{text:lp("feedback form","Website is incorrect"),val:"incorrectWebsite",prompt:lp("feedback form","Please suggest the correct website URL")}:{text:lp("feedback form","Website is missing"),val:"missingWebsite",prompt:lp("feedback form","Please suggest the website URL")};var l,d=e.dataProviders.url;d&&(n.manageSource=i[d].name,n.manageUrl=i[d].manage_url),s.push(n),l=e.hours&&Object.keys(e.hours).length?{text:lp("feedback form","Hours are incorrect"),val:"incorrectHours",prompt:lp("feedback form","Please suggest the correct hours of operation")}:{text:lp("feedback form","Hours are missing"),val:"missingHours",prompt:lp("feedback form","Please suggest the hours of operation")};var c=e.dataProviders.hours;return c&&(l.manageSource=i[c].name,l.manageUrl=i[c].manage_url),s.push(l),s.push({text:lp("feedback form","This place is permanently closed"),val:"closed"}),s.push({text:lp("feedback form","This place is too far away"),val:"badProximity"}),s.push({text:lp("feedback form","Other"),val:"other",prompt:lp("feedback form","Please provide feedback")}),s},_getSingleIssue:function(e){return $.grep(this.issues,(function(t){return t.val===e}))[0]},_onFeedbackSuccess:function(){this.model.success&&(this._reset(),this._showSuccessMessage())},_onFeedbackError:function(){this.model.error&&(this.hide(),this._reset())}})}(DDG),function(e){e.Views.FilterableDropdownMixin=function(e){this.view=e},e.Views.FilterableDropdownMixin.prototype=$.extend({},{setup:function(e){this.$divider=e.$divider||null,this.$input=e.$input||this.view.$el.find('input[type="search"]'),this.$items=e.$items||this.view.$el.find(".js-dropdown-items"),this._bindEvents()},_bindEvents:function(){this.view.bindEvents([[this.$input,"click focus",this._onInputFocus.bind(this)],[this.$input,"keydown keypress input keyup paste",this._onInputChange.bind(this)]])},reset:function(){this.$input.val(""),this.$items.show(),this.$divider&&this.$divider.show()},focus:function(){setTimeout(function(){this.$input.focus()}.bind(this),1)},_onInputChange:function(){var e=this.$input.val(),t=!1,i=!1;this.$items.each((function(s,a){var o=a.textContent.toLowerCase().indexOf(e.toLowerCase())>-1;a.style.display=o?"block":"none",o&&a.classList.contains("is-before-divider")?t=!0:o&&(i=!0)})),this.$divider&&this.$divider.toggle(t&&i)},_onInputFocus:function(){return!1}})}(DDG),function(e){var t="is-active";e.Views.KeyboardNavigableMixin=function(e,t){this.activeIndex=-1,this.view=e,this._onSelect=t},e.Views.KeyboardNavigableMixin.prototype=$.extend({},{setup:function(e){this.$items=e.$items||this.view.$el.find(".js-dropdown-items"),this._bindEvents()},reset:function(){this.activeIndex=-1,this._updateActive()},_isShown:function(){return this.view.$el.hasClass("is-showing")},_bindEvents:function(){this.view.bindEvents([[e.keyboard,"up.modal",this._onUp.bind(this)],[e.keyboard,"down.modal",this._onDown.bind(this)],[e.keyboard,"enter.modal",this._onEnter.bind(this)],[e.keyboard,"escape.modal",this._onEscape.bind(this)]])},_getItems:function(){return this.$items.filter(":visible")},_getSelected:function(){return this._getItems().eq(this.activeIndex)},_updateActive:function(e){var i=this._getSelected(),s=i.offsetParent();if(this.$items.removeClass(t),this.activeIndex>-1&&i.addClass(t),i.length){var a=s.scrollTop(),o=a+s.height(),n=a+i.position().top,r=a+n+i.outerHeight();0===this.activeIndex?s.scrollTop(0):40===e&&r>o?s.scrollTop(n-s.height()+i.outerHeight()):38===e&&n<a&&s.scrollTop(n)}},_onUp:function(e){this._isShown()&&(e.stopPropagation(),this.activeIndex--,this.activeIndex=Math.max(this.activeIndex,-1),this._updateActive(e.which))},_onDown:function(e){this._isShown()&&(e.stopPropagation(),this.activeIndex++,this.activeIndex=Math.min(this._getItems().length-1,this.activeIndex),this._updateActive(e.which))},_onEnter:function(e){if(this._isShown()){if(e.stopPropagation(),this.activeIndex>-1)this._onSelect(this._getSelected().data("value"));else{var t=this._getItems();t&&1===t.length&&this._onSelect(this._getSelected().data("value"))}this.reset()}},_onEscape:function(){this.reset()}})}(DDG),function(e){var t=e.Views.Dropdowns.SelectListDropdown,i=e.Views.Dropdowns;i.DirectionDropdown=function(i){this.model=i.model=e.directionSource,i.key="directions",i.header=lp("maps_places","Choose service"),i.horizontalPos="center",i.verticalPos=i.verticalPos||"bottom",i.showSelected="Places"!==i.answer.answerType&&"Place"!==i.answer.answerItemModel,this._loc=i.loc,this._answer=i.answer,t.call(this,i),this._loadSourceFromSettings()},i.DirectionDropdown.prototype=$.extend({},t.prototype,{changeVerticalPos:function(e){this.views.modal&&(this.views.modal.$el.removeClass("modal--popout--"+this._verticalPos),this.views.modal.$el.addClass("modal--popout--"+e)),this._verticalPos=this.modalOps.position=e,this._repositionModal()},open:function(){t.prototype.open.call(this),this._answer&&this._answer.engaged()},_loadSourceFromSettings:function(){var t=e.settings.get("kam");t&&this.model.select(t)},_getURL:function(){return this.model.getDirectionsURL(this._loc)},_onItemClick:function(i){t.prototype._onItemClick.call(this,i),e.settings.set("kam",i,{saveToCloud:!0})}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Base;t.FilterContainer=function(t){this._answer=t.answer,this._showPrivacyReminder=t.showPrivacyReminder||!1,this._answer?(this._safeSearch=this._answer.safeSearch,this._region=this._answer.region,this._date=this._answer.date):this._safeSearch=this._region=this._date=!0,i.call(this,t),t.allTab&&(e.history.get("iax")||e.history.get("iar"))?e.deep.on("change:finished",this._initFilters.bind(this)):this._initFilters()},t.FilterContainer.prototype=$.extend({},i.prototype,{_initFilters:function(){this.views.filters=[],this._showPrivacyReminder&&this.views.filters.push(new t.PrivacyReminder({appendTo:this.$el})),this._region&&this.views.filters.push(new t.RegionFilter({appendTo:this.$el})),this._safeSearch&&!e.page.isSafeDDG&&this.views.filters.push(new t.SafeSearchFilter({appendTo:this.$el})),this._date&&this.views.filters.push(new t.DateFilter({appendTo:this.$el})),this._answer&&this._answer.parameters&&this._answer.parameters.forEach(function(t){var i=this._answer.canShowSidebarFilters?"SidebarFilter":"FilterDropdown",s=new e.Views.AnswerBar.Meta[i]({model:t,answer:this._answer,appendTo:this.$el});this.views.filters.push(s)}.bind(this))}})}(DDG),function(e){var t=e.Views.Dropdowns,i=t.Base;t.DateFilter=function(t){i.call(this,t),e.search.on("change:dateFilterId",this._rerender.bind(this))},t.DateFilter.prototype=$.extend({},i.prototype,{modalClass:"DateFilterModal",_render:function(t){(t=t||{}).isActive=e.search.dateFilterId,t.key="date",t.buttonContent=e.search.getDateFilterName(),i.prototype._render.call(this,t)},open:function(){e.pixel.fire("dfc","f",{iao:"web"!==e.duckbar.activeTabId?1:0,vertical:e.duckbar.activeTabId}),i.prototype.open.call(this)}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Modal;t.DateFilterModal=function(e){i.call(this,e)},t.DateFilterModal.prototype=$.extend({},i.prototype,{template:"dropdown_modal",_render:function(t){i.prototype._render.call(this,{isPopover:t.isPopover,header:t.isPopover&&l("Filter by Date"),footerLink:!e.search.isVertical&&{className:"js-custom-date-range",label:l("Custom date range"),selected:e.search.isCustomDateFilter()},values:e.search.getDateFilters(),key:"date"}),this.$(".js-dropdown-items").click(this._onFilterClick.bind(this)),this.$(".js-custom-date-range").click(this._onCustomDateRangeClick.bind(this))},_onFilterClick:function(t){t.preventDefault();var i=$(t.currentTarget).attr("data-value"),s=e.search,a=e.Data.HiddenFields.DATE_FILTER;i&&""!==i?e.hidden.set(a,i):e.hidden.clear(a),this._fireClickedPixel(i),s.set("dateFilterId",i),s.requery()},_onCustomDateRangeClick:function(t){this.dateRangeModal=this.dateRangeModal||new e.Views.CustomDateRange({appendTo:$("body"),model:new e.Models.CustomDateRange({})}),this.dateRangeModal&&this.dateRangeModal.show(),this._fireClickedPixel("c")},_fireClickedPixel:function(t){var i=!e.search.dateFilterId&&t;e.pixel.fire("dfc","ci",{fd:i?1:0,vertical:e.duckbar.activeTabId})}})}(DDG),function(e){var t=e.Views.Dropdowns,i=t.Base;t.PrivacyReminder=function(e){i.call(this,e)},t.PrivacyReminder.prototype=$.extend({},i.prototype,{template:"privacy_reminder",modalClass:"PrivacyReminderModal",_render:function(t){i.prototype._render.call(this,t),this.bindEvents([[this.$el,"mouseenter",this._onMouseover],[this.$el,"mouseleave",this._onMouseleave]]),e.pixel.fire("privacyreminder")},open:function(){DDG.pixel.fire("privacyreminder_modal"),i.prototype.open.call(this)},_onMouseover:function(e){this.$el.addClass("privacy-reminder--hovered"),this.$el.addClass("privacy-reminder--hovered-grow"),setTimeout(function(){this.$el.removeClass("privacy-reminder--hovered-grow")}.bind(this),330)},_onMouseleave:function(e){$(e.toElement);this.$el.removeClass("privacy-reminder--hovered")}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Modal;t.PrivacyReminderModal=function(e){this.view=e.view||{},i.call(this,e)},t.PrivacyReminderModal.prototype=$.extend({},i.prototype,{template:"privacy_reminder_modal",_render:function(){i.prototype._render.call(this,$.extend({openLinkTag:'<a class="privacy-reminder__modal-link" href="/settings#appearance">',closeLinkTag:"</a>"})),this.bindEvents([[this.$el,"mouseleave",this._onMouseleave],[this.$el,"click",this._onClick]]),this.learnMoreLink=this.$(".js-privacyreminder__modal-learnmore")[0]},_onClick:function(t){var i=t.target===this.learnMoreLink?"privacyreminder_modal_learnmore":"privacyreminder_modal_hide";e.pixel.fire(i)}})}(DDG),function(e){var t=e.Views.Dropdowns,i=t.Base;t.RegionFilter=function(t){i.call(this,t);var s=e.settings.region;this.bindEvents([[s,"change:id",this._rerender],[s,"change:suggestedRegion",this._rerender]]),s.disabledSuggested()||s.fetchSuggested()},t.RegionFilter.prototype=$.extend({},i.prototype,{template:"region_filter",modalClass:"RegionFilterModal",_render:function(){var t,s=e.settings.region,a=s.hasRegion();t=a?s.getId():s.hasPrevRegion()?s.prevId:s.suggestedRegion,i.prototype._render.call(this,{hasActiveRegion:a,hasRegion:t,iconURL:t&&s.getSmallIconURL(t),regionName:s.getName(t),isAllRegion:!t||t===s.getDefaultId()}),this._cacheElems(".js-region-filter",["switch"]),this.$switch.on("click",this._onSwitchClick.bind(this))},open:function(){e.pixel.fire("rgc","f",{iao:"web"!==e.duckbar.activeTabId?1:0}),i.prototype.open.call(this)},_onSwitchClick:function(t){t.preventDefault(),t.stopPropagation();var i,s,a=e.settings.region,o=(new Date).getTime();a.hasRegion()?(this.$switch.removeClass("is-on"),i=a.getDefaultId(),s="off"):(this.$switch.addClass("is-on"),i=a.getPrevId()||a.suggestedRegion,s="on");var n=!a.getPrevId()&&a.getId()===a.getDefaultId();e.pixel.fire("rgc","s",s,{fr:n?1:0}),a.setId(i,{saveToSettings:!0,fallbackToURLParam:!0},(function(){var t=(new Date).getTime()-o;setTimeout((function(){e.search.requery()}),Math.min(DDG.animation_speed-t,0))}))}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Modal,s="is-highlighted";t.RegionFilterModal=function(t){t.model=e.settings.region,i.call(this,t),this.bindEvents([[e.keyboard,"up.modal",this._onUpArrow],[e.keyboard,"down.modal",this._onDownArrow],[e.keyboard,"enter.modal",this._onEnter]])},t.RegionFilterModal.prototype=$.extend({},i.prototype,{template:"region_filter_modal",cursorIndex:-1,hide:function(){i.prototype.hide.call(this),this._unfocusKeyboard()},show:function(){i.prototype.show.call(this),e.device.isMobileDevice||this.$input.focus()},pointAt:function(e){i.prototype.pointAt.call(this,e),this._top=parseInt(this.$list.offset().top,10)},_render:function(e){this._allRegions=this.model.getAll(),i.prototype._render.call(this,$.extend({hasRegionOrSuggested:this.model.hasRegionOrSuggested()},e)),this._cacheElems(".js-region-filter",["list","input","clear"]),this._renderRegions(),this.$input.keyup(this._onInputKeyUp.bind(this)),this.$input.click(this._onInputClick.bind(this)),this.$clear.click(this._onClearClick.bind(this))},_renderRegions:function(){var t=this._filteredRegions||this._allRegions;this._highlightIdx=-1,t&&t.length?(this.$list.html(e.exec_template("region_filter_modal_items",{regions:t,showListHeader:e.device.isMobile&&this.model.hasRegionOrSuggested()&&!this._filteredRegions})),this.$links=this.$(".js-region-filter-link"),this.$list.find(".js-region-filter-clear").on("click",this._onClearClick.bind(this)),this.$links.on("mouseenter touchstart",this._onItemMouseEnter.bind(this)).on("mouseleave",this._onItemMouseLeave.bind(this)).click(this._onRegionClick.bind(this))):this.$list.empty()},_clearFilter:function(){this._filteredRegions&&(delete this._filteredRegions,this._renderRegions()),this.$input.val("")},_updateHighlightedItem:function(){if(this.$("."+s).removeClass(s),-1===this._highlightIdx)this.$input.focus();else{var e=this.$links[this._highlightIdx];if(e){var t=$(e),i=t.outerHeight(),a=parseInt(t.offset().top,10),o=a+i;t.addClass(s),o>=this._top+300?this.$list.scrollTop(this.$list.scrollTop()+i):a<this._top&&this.$list.scrollTop(this.$list.scrollTop()-i)}}},_focusKeyboard:function(){this._keyboardFocus||(this._keyboardFocus=!0,e.$doc.on("mousemove.region",this._onMouseMove.bind(this)))},_unfocusKeyboard:function(){this._keyboardFocus&&(this._keyboardFocus=!1,e.$doc.off("mousemove.region"))},_sendRegionSelectedPixel:function(t,i){var s,a=this.model,o=a.getDefaultId(),n=o===t,r=a.getPrevRegions().indexOf(t)>-1,l=n?"d":r?"p":"n";s=!a.getPrevId()&&a.getId()===o,e.pixel.fire("rgc",i,l,{fr:s?1:0,vertical:e.duckbar.activeTabId})},_onInputKeyUp:function(t){if(e.keyboard.keyCodeIsOneOf(t.keyCode,["up","down","enter","escape"]))return!1;var i=this.$input.val().toLowerCase();i?this._filteredRegions=this._allRegions.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1})):delete this._filteredRegions,e.pixel.fire("rgc","ku"),this._renderRegions()},_onItemMouseEnter:function(e){if(!this._keyboardFocus){var t=$(e.target),i=parseInt(t.data("index"),10);$.isNumeric(i)&&this.highlightIdx!==i&&(this._highlightIdx=i,this._updateHighlightedItem())}},_onItemMouseLeave:function(e){if(!this._keyboardFocus){var t=$(e.target),i=parseInt(t.data("index"),10);$.isNumeric(i)&&this.highlightIdx===i&&(this._highlightIdx=-1,this._updateHighlightedItem())}},_onMouseMove:function(){this._unfocusKeyboard()},_onUpArrow:function(){this._highlightIdx--,this._focusKeyboard(),this._highlightIdx=Math.max(this._highlightIdx,-1),this._updateHighlightedItem()},_onDownArrow:function(){this._highlightIdx++,this._focusKeyboard(),this._highlightIdx=Math.min(this._highlightIdx,this.$links.length-1),this._updateHighlightedItem()},_onEnter:function(){var t;if(this._highlightIdx>-1?t=this._highlightIdx:this._filteredRegions&&1===this._filteredRegions.length&&(t=0),$.isNumeric(t)){var i=this.$links[t],s=$(i).data("id");this._sendRegionSelectedPixel(s,"ei"),this.model.setId(s,{saveToSettings:!0,fallbackToURLParam:!0},(function(){e.search.requery()}))}},_onInputClick:function(e){e.stopPropagation()},_onClearClick:function(t){t.preventDefault(),e.pixel.fire("rgc","cl"),this.model.reset(function(){this.model.disableSuggested((function(){e.search.requery()}))}.bind(this))},_onRegionClick:function(t){var i=$(t.target),s=i.data("id")||i.parent().data("id");this._sendRegionSelectedPixel(s,"ci"),this.model.setId(s,{saveToSettings:!0,fallbackToURLParam:!0},function(){this.hide(),e.search.requery()}.bind(this))}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Dropdowns.Base;t.SafeSearchFilter=function(t){t.model=e.settings.safeSearch,i.call(this,t),this.bindEvents([[this.model,"change:id",this._rerender]]),this.modalOps={entryPoint:t.entryPoint||"of"}},t.SafeSearchFilter.prototype=$.extend({},i.prototype,{modalClass:"SafeSearchFilterModal",_render:function(e){(e=e||{}).isActive=this.model.isActive(),e.key="safe-search",e.buttonContent=l("Safe search:")+" "+(this.model.getName()||"").toLowerCase(),i.prototype._render.call(this,e)}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Modal;t.SafeSearchFilterModal=function(t){this.entryPoint=t.entryPoint,t.model=e.settings.safeSearch,i.call(this,t)},t.SafeSearchFilterModal.prototype=$.extend({},i.prototype,{template:"dropdown_modal",_render:function(e){i.prototype._render.call(this,{isPopover:e.isPopover,header:e.isPopover&&l("Safe search"),showDescriptions:!0,values:this.model.getAll(),key:"safe-search"}),this.$(".js-dropdown-items").click(this._onFilterClick.bind(this))},_onFilterClick:function(t){var i=$(t.currentTarget).attr("data-value");this.model.setId(i,(function(){e.search.requery()})),e.pixel.fire("sss","f",{v:e.settings.safeSearch.getId(),ep:this.entryPoint,vertical:e.duckbar.activeTabId})}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationBadge=function(i){i.model=e.userLocator,this.isProximityQuery=!!i.isProximityQuery||!1,this._onExpandedMap=i.onExpandedMap||!1,this.$dropdownAppendEl=i.$originEl,t.call(this,i),e.pixel.fire("lti")},e.Views.UserLocation.UserLocationBadge.prototype=$.extend({},t.prototype,{template:"user_location_badge",_render:function(i){t.prototype._render.call(this,i),this.views.dropdown=new e.Views.UserLocation.UserLocationDropdown({appendTo:this.$dropdownAppendEl,onExpandedMap:this._onExpandedMap}),this.views.dropdown.setTrigger(this.$el),this._cacheElems(".js-user-loc-badge",["btn-loc","btn-loc-icon","btn-close","desc"]),this.bindEvents([[this.$el,"click",this._onClick.bind(this)],[this.model,"change:waitingForLocation",this._onWaitingForLocationChange],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange],[this.model.userLocation,"change:desc",this._setLocationDesc],[this.views.dropdown,"hidden",this._onDropdownHidden.bind(this)],[this.views.dropdown,"shown",this._onDropdownShown.bind(this)],[this.model,"meaningfulUserLocationChange",this._onUserLocationChange.bind(this)]]),this._updateStyle(),this._setLocationDesc(),this.showUserLocationCTA()},_onDropdownHidden:function(e){this.$btnclose.addClass("is-hidden"),this.$btnloc.removeClass("is-hidden"),this.$desc.removeClass("is-hidden"),this._onExpandedMap&&(this.$parent.css("z-index",1),$(".js-vertical-map").css("overflow-y","scroll"))},_onDropdownShown:function(e){this.$btnclose.removeClass("is-hidden"),this.$btnloc.addClass("is-hidden"),this.$desc.addClass("is-hidden"),this._onExpandedMap&&(this.$parent.css("z-index",201),$(".js-vertical-map").css("overflow-y","hidden"))},_updateStyle:function(){this.model.hasLocation()?this.$btnloc.addClass("loc-enabled"):this.$btnloc.removeClass("loc-enabled")},_onClick:function(t){e.pixel.fire("ltc"),this.views.dropdown.toggle({triggeredBy:"badgeClick"})},_onErrorGettingLocationChange:function(e){e&&"bg"!==this.model.lastUpdateType&&"implicit"!==this.model.lastUpdateType&&this.views.dropdown.show({triggeredBy:"errorGettingLocation"})},_onWaitingForLocationChange:function(t){t?(this.$spinner=e.$exec_template("spinner",{className:"user-loc-badge__spinner"}),this.$btnlocicon.addClass("is-hidden"),this.$btnloc.append(this.$spinner),this.views.dropdown.hide({triggeredBy:"waitingForLocation"})):this.$spinner&&(this.$spinner.remove(),this.$btnlocicon.removeClass("is-hidden"),delete this.$spinner),this._setLocationDesc()},_onUserLocationChange:function(t){!this._onExpandedMap&&this.$el.is(":visible")&&(w.location.search=e.Utils.Strings.setSearchParameter(w.location.search,"ia","places")),this._updateStyle()},_getDesc:function(){var e="";if(this.model.waitingForLocation)e=this.model.hasLocation()?lp("precise_user_location","Updating location..."):lp("precise_user_location","Waiting for Location...");else if("b"!==DDG.searchExperiments.getActiveVariant("locstr_exp")){var t=this.model.hasLocation()&&this.model.userLocation.desc||"";t.length&&(e=lp("precise_user_location","Results near")+"<br>"+t)}return e},_setLocationDesc:function(){var e=this._getDesc();e.length&&!this._onExpandedMap&&(this.isProximityQuery||this.model.waitingForLocation)?(this.$desc.html(e),this.$desc.addClass("can-show")):this.$desc.removeClass("can-show")},_triggerImplicitAsk:function(){!e.device.isMobileDevice||e.device.isAndroid&&e.device.isDDGApp||(this.views.notification=new e.Views.UserLocation.UserLocationNotification),this.model.updateLocation({force:!0,updateType:"implicit"})},_mapVisibleCheck:function(){var t=!1,i=document.querySelector(".js-places-multiple-map");this._mapObserver=new e.Utils.IsIntoViewObserver(i,{threshold:.8},function(e){e&&(t=!0,this._triggerImplicitAsk(),this._mapObserver.destroy())}.bind(this)),this._timeoutId=setTimeout(function(){!t&&this.views.dropdown.show({triggeredBy:"explicitTrigger"}),this._mapObserver&&this._mapObserver.destroy()}.bind(this),1e3)},showUserLocationCTA:function(){this.model.canGetLocation()&&(this.model.hasLocation()&&this.isProximityQuery?this.model.updateLocation({updateType:"bg"}):this.isProximityQuery&&e.settings.isDefault("kat")&&!e.search.isNavigational&&this._mapVisibleCheck())},destroy:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._mapObserver&&(this._mapObserver.destroy(),this._mapObserver=null),t.prototype.destroy.call(this)},showLocationPicker:function(){this._onClick()}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationTile=function(i){i.model=e.userLocator,this.position=i.position,this.answer=i.answer,this._constrainChildren=i.constrainChildren,this.$tooltipAppendEl=i.$originEl,this._onExpandedMap=i.onExpandedMap||this.answer&&this.answer.isMapExpanded,t.call(this,i),e.pixel.fire("lti")},e.Views.UserLocation.UserLocationTile.prototype=$.extend({},t.prototype,{template:"user_location_tile",_render:function(){t.prototype._render.call(this,{position:this.position}),this._cacheElems(".js-user-loc-tile",["icons","down","marker","button"]),this.views.userLocationTooltip=new e.Views.UserLocation.UserLocationTooltip({appendTo:this.$tooltipAppendEl,position:this.position,$positionAgainst:this.$button,constrain:this._constrainChildren,afterShow:this._afterTooltipShow.bind(this),afterHide:this._afterTooltipHide.bind(this)}),e.userLocator.hasLocation()&&(this.$marker.addClass("tx-clr--blue-light"),this.$button.attr("data-tooltip-text",lp("precise_user_location","Anonymous location enabled"))),this.bindEvents([[this.$el,"click",this._onTileClick],[this.$button,"mouseenter",this._onMouseEnter],[this.$button,"mouseleave",this._onMouseLeave],[this.model,"change:waitingForLocation",this._onWaitingForLocation],[this.model,"meaningfulUserLocationChange",this._onUserLocationChange]]),this.showUserLocationCTA()},_onTileClick:function(t){t.stopPropagation(),e.pixel.fire("ltc"),this.$button.removeClass("simple-tooltip"),this.views.userLocationTooltip.isVisible()?this.views.userLocationTooltip.onDismissClick(t):this.views.userLocationTooltip.showTooltip({source:"userInteraction"})},_onUserLocationChange:function(){!this._onExpandedMap&&this.$el.is(":visible")&&(w.location.search=e.Utils.Strings.setSearchParameter(w.location.search,"ia","places")),e.userLocator.hasLocation()?(this.$marker.addClass("tx-clr--blue-light"),this.$button.attr("data-tooltip-text",lp("precise_user_location","Anonymous location enabled"))):(this.$marker.removeClass("tx-clr--blue-light"),this.$button.attr("data-tooltip-text",lp("precise_user_location","Find results closer to you")))},_onWaitingForLocation:function(t){t?(this.$spinner=e.$exec_template("spinner"),this.$icons.addClass("is-hidden"),this.$button.append(this.$spinner)):this.$spinner&&(this.$spinner.remove(),this.$icons.removeClass("is-hidden"),delete this.$spinner)},_afterTooltipShow:function(){e.device.isMobile||(this.model.hasLocation()&&this.$button.attr("data-tooltip-text",lp("precise_user_location","Anonymous location enabled")),this.$button.removeClass("simple-tooltip"))},_afterTooltipHide:function(){e.device.isMobile||this.$button.addClass("simple-tooltip")},showUserLocationCTA:function(){e.userLocator.canGetLocation()&&(e.userLocator.hasLocation()&&this.answer.proximity?e.userLocator.updateLocation({updateType:"bg"}):this.answer.proximity&&e.settings.isDefault("kat")&&!e.search.isNavigational&&this.views.userLocationTooltip.showTooltip({delay:500}))},showLocationPicker:function(){this.views.userLocationTooltip.showTooltip({source:"manual"})}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationTooltipContent=function(i){i.model=e.userLocator,this.device=i.device||e.device,this.updateType="cta",this.showDesc=i.showDesc,t.call(this,i)},e.Views.UserLocation.UserLocationTooltipContent.prototype=$.extend({},t.prototype,{template:"user_location_tooltip_content",_render:function(){t.prototype._render.call(this,this._getRenderOps()),this._cacheElems(".js-user-loc-content",["copy","help","buttons"]),this.views.buttons=new e.Views.UserLocation.UserLocationButton({clickPixel:"lctac",updateType:"cta",updateButton:this.model.hasLocation(),appendTo:this.$buttons}),this.bindEvents([[this.model,"change:retryLocation",this._onRetryLocationChange],[this.model,"change:errorGettingLocation",this._rerender.bind(this)],[this.model,"change:problemUpdatingLocation",this._rerender.bind(this)],[this.model.userLocation,"change:desc",this._rerender.bind(this)],[this.model,"meaningfulUserLocationChange",this._rerender.bind(this)],[this.$help,"click",this._onHelpClick]])},_rerender:function(){this.unbindEvents(),t.prototype._rerender.call(this)},_getInstructions:function(){var e=null;return this.device.isAndroid?e=this.device.isDDGApp&&this.device.isEnglish?[lp("precise_user_location","%sLong-press%s the DuckDuckGo app icon on the home screen","<b>","</b>"),lp("precise_user_location","Tap the %sapp info icon%s","<b>","</b>"),lp("precise_user_location","Tap %sPermissions > Location%s","<b>","</b>")]:this.device.isChrome||this.device.isBrave?["Tap the <b>lock icon</b> on the address bar.","Go to 'Site Settings'.","Ensure 'Location' is set to <b>allow</b>.","<b>Reload</b> DuckDuckGo, and try again."]:["Open the <b>Settings app</b>.","Open 'Location', and ensure location is <b>enabled</b>.","Navigate to Settings > Apps.","Ensure your browser is allowed location access.","<b>Reload</b> DuckDuckGo, and try again."]:this.device.isIDevice?e=["Open the <b>Settings</b> app.","Open 'Privacy', then 'Location Services'.","Ensure 'Location Services' is <b>enabled</b>.","Scroll down and locate <b>your browser</b> in the list.","Ensure your browser is allowed <b>location access</b>.","<b>Reload</b> DuckDuckGo, and try again."]:(this.device.isBrave||this.device.isChrome||this.device.isFirefox)&&(this.device.isWindows||this.device.isOSX)?e=["Click the <b>lock icon</b> on the address bar.","Ensure location access is <b>allowed</b>.","<b>Reload</b> DuckDuckGo, and try again."]:this.device.isOSX&&this.device.isSafari&&(e=["Select <b>'Settings for this Website...'</b> from the Safari menu.","Ensure <b>'Allow'</b> is selected for the 'Location' setting.","<b>Reload</b> DuckDuckGo, and try again."]),e},_getRenderOps:function(){return this.model.errorGettingLocation?{locError:!0,instructions:this._getInstructions()}:this.model.problemUpdatingLocation?{locUpdProblem:!0,desc:this.showDesc?this.model.userLocation.desc:""}:this.model.hasLocation()?{locSet:!0,desc:this.showDesc?this.model.userLocation.desc:""}:(this.model.hasLocation(),{locUnset:!0})},_onHelpClick:function(){e.pixel.fire("lhc",this.updateType)},_onRetryLocationChange:function(){this.model.retryLocation&&(e.settings.clear("kat",{saveToCookie:!0,saveToCloud:!1}),"manual"===this.model.retryLocation?this.views.buttons.requestManualLocation():"precise"===this.model.retryLocation&&this.views.buttons.requestPreciseLocation("survey","lctar"))},hide:function(){this.$el.addClass("is-hidden")},show:function(){this.$el.removeClass("is-hidden")}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationTooltip=function(i){i.model=e.userLocator,this.position=i.position,this.$positionAgainst=i.$positionAgainst,this._constrain=i.constrain,this._afterShow=i.afterShow,this._afterHide=i.afterHide,this._hasFired=!1,this._showSource=null,t.call(this,i)},e.Views.UserLocation.UserLocationTooltip.prototype=$.extend({},t.prototype,{template:"user_location_tooltip",_render:function(){t.prototype._render.call(this),this._cacheElems(".js-user-loc-tooltip",["triangle-outer","triangle-inner","more","dismiss","inner"]),this.views.content=new e.Views.UserLocation.UserLocationTooltipContent({appendTo:this.$inner,showDesc:"below-left"!==this.position}),this._updateArrowStyle(),this.bindEvents([[this.$dismiss,"click",this.onDismissClick],[this.model,"change:userLocation",this._onCurrentLocationChange],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange],[this.model,"successGettingLocation",this._onSuccessGettingLocation],[e.history,"popstate",this._onStateChange],[e.router,"navigate",this._onStateChange],[e.settings,"change:kae",this._updateArrowStyle]])},onDismissClick:function(t){t.preventDefault();var i=$(t.delegateTarget).closest(".js-user-loc-tile").length?"tile":"tooltipX";!this.model.hasLocation()&&e.settings.isDefault("kat")&&"userInteraction"!==this._showSource&&(e.pixel.fire("lctax"),this.model.disableLocAsk()),this._hideTooltip(i)},_hideTooltip:function(t){t=t||"other",e.pixel.fire("lctah",t),this.$el.removeClass("user-loc-tooltip--animation"),this.$el.fadeOut(200,function(){this._afterHide()}.bind(this)),e.$doc.off("click.pul-tooltip")},_updateArrowStyle:function(){this.model.errorGettingLocation?e.settings.isDarkTheme()?this.$triangleinner.css({borderBottomColor:"#171818"}):this.$triangleinner.css({borderBottomColor:"#f0f3f5"}):this.$triangleinner.css({borderBottomColor:""})},_handleDocClick:function(e){0===$(e.target).closest(this.$el).length&&this._hideTooltip("outsideClick")},_onCurrentLocationChange:function(){this.model.hasLocation()&&this._hideTooltip("currentLocationChange")},_onErrorGettingLocationChange:function(e){this._updateArrowStyle(),"implicit"===this.model.lastUpdateType&&1===e&&this._hideTooltip(this.model.lastUpdateType)},_onSuccessGettingLocation:function(){this._hideTooltip("successGettingLocationChange")},_onStateChange:function(){!this.$parent.is(":visible")&&this._hideTooltip("stateChange")},isVisible:function(){return this.$el.is(":visible")},showTooltip:function(t){if(t=$.extend({delay:0,source:"auto"},t),this._showSource=t.source,this.$parent.is(":visible")){this._hasFired||(e.pixel.fire("lctai"),this._hasFired=!0),"manual"!==this._showSource&&e.$doc.on("click.pul-tooltip",this._handleDocClick.bind(this)),this.$el.addClass("user-loc-tooltip--"+this.position);var i=this.$positionAgainst.parent().parent().position().top,s=this.$positionAgainst.outerHeight()+i,a=this.$positionAgainst.outerWidth()/2+i;"below"===this.position?a-=2*a:"below-left"===this.position&&(a+=2*i),this._constrain&&this.$el.addClass("tooltip-constrained"),this.$el.css({top:s,right:a}),t.delay?setTimeout(function(){this.$el.fadeIn(400,function(){this._afterShow()}.bind(this)),this.$el.addClass("user-loc-tooltip--animation")}.bind(this),t.delay):this.$el.fadeIn(200,function(){this._afterShow()}.bind(this))}}})}(DDG),function(e){var t=e.Views.Modal;e.Views.UserLocation.UserLocationDropdown=function(i){i.model=e.userLocator,this._onExpandedMap=i.onExpandedMap,this._hasFired=!1,i._triggerEvents=this._onExpandedMap?["mousedown.modal","touchstart.modal"]:["click.modal"],this._lastShowTrigger="other",t.call(this,i)},e.Views.UserLocation.UserLocationDropdown.prototype=$.extend({},t.prototype,{template:"user_location_dropdown",_render:function(i){t.prototype._render.call(this,i),this.bindEvents([[e.router,"navigate",this._onStateChange]]),this.views.content=new e.Views.UserLocation.UserLocationContent({appendTo:this.$el,dismiss:this.hide.bind(this),onExpandedMap:this._onExpandedMap})},_onStateChange:function(){this.hide({triggeredBy:"navigation"})},_handleClick:function(e){Boolean(this.$el.has(e.target).length)||this.hide()},_formatShowHideOps:function(e){return $.extend({triggeredBy:"other"},e)},show:function(i){i=this._formatShowHideOps(i),e.device.isMobileDevice||this._hasFired||(e.pixel.fire("lctai"),this._hasFired=!0),this._lastShowTrigger=i.triggeredBy,this.isShowing||e.pixel.fire("lctas",i.triggeredBy),t.prototype.show.call(this)},hide:function(i){i=this._formatShowHideOps(i),this.isShowing&&e.pixel.fire("lctah",i.triggeredBy),e.$doc.off(this._triggerEvents,this._handleClick.bind(this)),t.prototype.hide.call(this),!this.model.hasLocation()&&e.settings.isDefault("kat")&&"explicitTrigger"===this._lastShowTrigger&&"other"!==i.triggeredBy&&(e.pixel.fire("lctax"),this.model.disableLocAsk())}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationContent=function(i){i.model=e.userLocator,this.dismiss=i.dismiss,this.device=e.device,this._locFetchAttempt=!1,this._onExpandedMap=i.onExpandedMap,t.call(this,i)},e.Views.UserLocation.UserLocationContent.prototype=$.extend({},t.prototype,{template:"user_location_content",_requestPreciseLocation:function(t){this.model.updateLocation({force:!0,updateType:t}),e.pixel.fire("lctac")},_requestManualLocation:function(t){this._locFetchAttempt||this.model.geoipLocation||this.model.hasLocation()?(this.views.manualModal||(this.views.manualModal=new e.Views.UserLocation.ManualUserLocationModal({model:this.model,appendTo:"body",onExpandedMap:this._onExpandedMap})),this.views.manualModal.show()):(this._locFetchAttempt=!0,this.model.fetchGeoIPLocation(function(e){e&&this._requestManualLocation()}.bind(this)))},_render:function(e){var i=this._getRenderOps();t.prototype._render.call(this,$.extend({},e,i)),this._cacheElems(".js-user-loc-content",["header","copy","alt-manual","alt-precise","btn-cancel","btn-enable","btn-manual","btn-update","btn-clear","btn-dismiss"]),this.bindEvents([[this.model,"change:waitingForLocation",this._rerender.bind(this)],[this.model,"change:errorGettingLocation",this._rerender.bind(this)],[this.model,"meaningfulUserLocationChange",this._rerender.bind(this)],[this.model.userLocation,"change:desc",this._rerender.bind(this)],[this.$altmanual,"click",this._onAltManualClick.bind(this)],[this.$altprecise,"click",this._onAltPreciseClick.bind(this)],[this.$btncancel,"click",this._onCancelClick],[this.$btnenable,"click",this._onPreciseLocationClick],[this.$btnmanual,"click",this._onManualLocationClick],[this.$btnupdate,"click",this._onUpdateLocationClick],[this.$btnclear,"click",this._onClearClick],[this.$btndismiss,"click",this._onDismissClick]])},_rerender:function(){this.unbindEvents(),t.prototype._rerender.call(this)},_getRenderOps:function(){var t;if(this.model.errorGettingLocation){var i=this._getInstructions();t={state:"locError",list:i.list,additional:i.additional,isMobile:e.device.isMobileDevice,isBrowserTroubleshoot:0===i.list.length}}else t=this.model.hasLocation()?{state:"locSet",waiting:this.model.waitingForLocation,locType:this.model.userLocation.type,desc:this.model.userLocation.desc}:{state:"locUnset",waiting:this.model.waitingForLocation};return t},_getInstructions:function(){var e={list:[],additional:""};return this.device.isAndroid?this.device.isDDGApp&&this.device.isEnglish?e.list=[lp("precise_user_location","%sLong-press%s the DuckDuckGo app icon on the home screen","<b>","</b>"),lp("precise_user_location","Tap the %sapp info icon%s","<b>","</b>"),lp("precise_user_location","Tap %sPermissions > Location%s","<b>","</b>"),lp("precise_user_location","Select an option to %sallow%s location access","<b>","</b>"),lp("precise_user_location","Turn on %sPrecise Location%s for more accurate results","<b>","</b>"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:this.device.isChrome||this.device.isBrave?e.list=[lp("precise_user_location","Tap the %spermissions icon%s in the address bar","<b>","</b>"),lp("precise_user_location","Ensure Location is set to %sAllow%s","<b>","</b>"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:e.list=[lp("precise_user_location","Open the %sSettings app%s","<b>","</b>"),lp("precise_user_location","Open %sLocation%s, and ensure location is %senabled%s","<b>","</b>","<b>","</b>"),lp("precise_user_location","Navigate to %sSetting > Apps%s","<b>","</b>"),lp("precise_user_location","Ensure your browser is allowed location access"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:this.device.isIDevice?this.device.isDDGApp?e.list=[lp("precise_user_location","Open the %sSettings%s app","<b>","</b>"),lp("precise_user_location","Go to %sPrivacy & Security > Location Services%s","<b>","</b>"),lp("precise_user_location","Select %sDuckDuckGo%s in the list and %sallow%s location access","<b>","</b>","<b/>","<b/>"),lp("precise_user_location","Turn on %sPrecise Location%s for more accurate results","<b>","</b>"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:e.list=[lp("precise_user_location","Open the %sSettings%s app","<b>","</b>"),lp("precise_user_location","Go to %sPrivacy & Security > Location Services%s","<b>","</b>"),lp("precise_user_location","Select %syour browser%s in the list and %sallow%s location access","<b>","</b>","<b/>","<b/>"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:(this.device.isBrave||this.device.isChrome||this.device.isFirefox)&&(this.device.isWindows||this.device.isOSX)?e.list=[lp("precise_user_location","Click the %spermissions icon%s in the address bar","<b>","</b>"),lp("precise_user_location","Ensure location access is %sallowed%s","<b>","</b>"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:this.device.isOSX&&this.device.isSafari?e.list=[lp("precise_user_location","Open the Safari menu and select %sSettings for DuckDuckGo...%s","<b>","</b>"),lp("precise_user_location","Ensure Location is set to %sAllow%s","<b>","</b>"),lp("precise_user_location","%sReload%s DuckDuckGo, and try again","<b>","</b>")]:e.list=[],e},_onAltManualClick:function(){this._requestManualLocation()},_onAltPreciseClick:function(){this._requestPreciseLocation("explicit")},_onPreciseLocationClick:function(){this.model.waitingForLocation||this._requestPreciseLocation("explicit")},_onDismissClick:function(){this.model.set("errorGettingLocation",!1),this.model.userLocation.type!==e.Models.UserLocation.MANUAL_LOCATION?this.dismiss({triggeredBy:"dismissButton"}):this.dismiss({triggeredBy:"setManuallyButton"})},_onManualLocationClick:function(){this.model.waitingForLocation||(this._requestManualLocation(),this._onDismissClick())},_onUpdateLocationClick:function(){this.model.waitingForLocation||(this.model.userLocation.type===e.Models.UserLocation.MANUAL_LOCATION?this._requestManualLocation():(this._requestPreciseLocation("user"),this.dismiss({triggeredBy:"updateButton"})))},_onCancelClick:function(){this.model.cancelLocation()},_onClearClick:function(){this.model.hasLocation()&&this.model.clearLocation(),this.model.disableLocAsk(),this.dismiss({triggeredBy:"clearButton"})}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationButton=function(i){i.model=i.model||e.userLocator,this.updateButton=i.updateButton,this.clickPixel=i.clickPixel,this.updateType=i.updateType,t.call(this,i)},e.Views.UserLocation.UserLocationButton.prototype=$.extend({},t.prototype,{template:"user_location_button",requestPreciseLocation:function(t,i){this.model.updateLocation({force:!0,updateType:t||this.updateType}),e.pixel.fire(i||this.clickPixel)},_showManualUserLocationModal:function(){this.views.modal||(this.views.modal=new e.Views.UserLocation.ManualUserLocationModal({model:this.model,appendTo:"body"})),this.views.modal.show()},requestManualLocation:function(){e.pixel.fire("lmm"),this.model.geoipLocation||this.model.hasLocation()?this._showManualUserLocationModal():this.model.fetchGeoIPLocation(function(){this._showManualUserLocationModal()}.bind(this))},_render:function(){t.prototype._render.call(this,{waiting:this.model.waitingForLocation,showManualLocationButton:!this.updateButton,highlightManualLocationButton:this.model.errorGettingLocation,update:this.updateButton,problemUpdatingLocation:this.model.problemUpdatingLocation}),this._cacheElems(".js-user-loc-btn",["cancel","enable","manual","update","clear"]),this.bindEvents([[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange],[this.model,"change:problemUpdatingLocation",this._onProblemUpdatingLocation],[this.model,"meaningfulUserLocationChange",this._rerender.bind(this)],[this.model,"change:waitingForLocation",this._onWaitingForLocationChange],[this.$cancel,"click",this._onCancelClick],[this.$enable,"click",this._onPreciseLocationClick],[this.$manual,"click",this._onManualLocationClick],[this.$update,"click",this._onUpdateLocationClick],[this.$clear,"click",this._onClearClick]])},_rerender:function(){this.unbindEvents(),t.prototype._rerender.call(this)},_onPreciseLocationClick:function(){this.model.waitingForLocation||this.requestPreciseLocation()},_onManualLocationClick:function(){this.model.waitingForLocation||this.requestManualLocation()},_onUpdateLocationClick:function(){this.model.waitingForLocation||(this.model.problemUpdatingLocation||this.model.userLocation.type===e.Models.UserLocation.MANUAL_LOCATION?this.requestManualLocation():this.requestPreciseLocation())},_onCancelClick:function(){this.model.cancelLocation()},_onClearClick:function(){e.userLocator.hasLocation()&&(e.userLocator.clearLocation(),e.pixel.fire("lfmx")),e.userLocator.disableLocAsk()},_onWaitingForLocationChange:function(){this._rerender()},_onErrorGettingLocationChange:function(){this._rerender()},_onProblemUpdatingLocation:function(){this._rerender()}})}(DDG),function(e){var t=e.Views.Modal;e.Views.UserLocation.ManualUserLocationModal=function(i){i.appendTo=i.appendTo||".js-site-wrapper",this._onExpandedMap=i.onExpandedMap;var s=i.model.userLocation;this._zoomLevel=14,!i.model.hasLocation()&&i.model.geoipLocation&&(s=i.model.geoipLocation,this._zoomLevel=10),this._mapModel=new e.Models.GLMap({selectedLocation:s}),this._initialPositionChanged=!1,t.call(this,i)},e.Views.UserLocation.ManualUserLocationModal.prototype=$.extend({},t.prototype,{template:"manual_user_location_modal",show:function(){t.prototype.show.call(this),this.views.map?this.views.map.show():this.views.map=new e.Views.Mapkit.PositionPicker({appendTo:this.$map,model:this._mapModel,zoomLevel:this._zoomLevel}),this._toggleScroll(),this._updateCloseButtonTheme(),e.pixel.fire("lmm")},hide:function(i){t.prototype.hide.call(this),this.views.map&&this.views.map.hide(),!1!==i&&e.pixel.fire("lmmh"),this._toggleScroll()},_render:function(e){t.prototype._render.call(this,e),this._cacheElems(".js-manual-user-location",["map","map-controls","done-btn","close"]),this.bindEvents([[this.$donebtn,"click",this._onPositionPicked],[this._mapModel,"change:selectedLocation",this._onPositionChanged]])},_toggleScroll:function(){e.$html.toggleClass("disable-place-scroll",!!this.isShowing)},_updateCloseButtonTheme:function(){var t="map-control__btn--darkmap";this.isDarkMap=e.settings.isDarkTheme(),this.isDarkMap?this.$close.addClass(t):this.$close.removeClass(t)},_onPositionChanged:function(){this._initialPositionChanged=!0,this.$donebtn.removeClass("is-disabled")},_onPositionPicked:function(){this._initialPositionChanged&&this._mapModel.selectedLocation&&(e.settings.set(e.settings.LOCATION_SETTING_KEY,1,{saveToCookie:!0}),e.geo.fetchBucketData(this._mapModel.selectedLocation,function(){this.model.setLocation(this._mapModel.selectedLocation),this._onExpandedMap&&this.model.userLocation.setDescByGeocoding((function(){this.model.setLocation(this.model.userLocation)})),e.pixel.fire("lmms"),setTimeout(function(){this.hide(!1)}.bind(this),50)}.bind(this)))}})}(DDG),function(e){var t=e.Views.Base;e.Views.UserLocation.UserLocationNotification=function(i){i=$.extend({appendTo:"body",model:e.userLocator},i),t.call(this,i)},e.Views.UserLocation.UserLocationNotification.prototype=$.extend({},t.prototype,{template:"user_location_notification",_render:function(e){t.prototype._render.call(this,e),this._cacheElems(".js-user-loc-notification",[]),this.bindEvents([[this.model,"change:waitingForLocation",this._onWaitingForLocationChange.bind(this)],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange.bind(this)],[this.$el,"click",this._onClick.bind(this)]]),setTimeout(function(){this._show()}.bind(this),50)},_show:function(){this.$el.removeClass("is-hidden")},_onWaitingForLocationChange:function(e){e||this.destroy()},_onErrorGettingLocationChange:function(e){e&&this.destroy()},_onClick:function(){this.destroy()}})}(DDG),function(e){var t=e.Views.Base,i="search--focus",s="search--hover";e.Views.Maps.MapSearchbar=function(e){this._ops=e,this.directionsModel=e.directionsModel||null,this.directionsType=e.directionsType||null,this.listBoxId="autocompleteList"+(this.directionsType||""),this.initValue=e.initValue,this.model=e.model,this.model.hideSearchButton=!!this.directionsModel,this.directionsModel?this.model.searchFormPlaceholder="start"===this.directionsType?lp("maps_directions","Enter start location"):lp("maps_directions","Enter your destination"):this.model.searchFormPlaceholder="",t.call(this,this._ops),this.bindEvents([[this.model,"change:items",this._onItemsChange],[this.model.meta,"change:requery",this._onQueryChange],[this.model,"change:isMapStartActive",this._onMapStartActiveChange],[this.autocompleteModel,"change:suggestions",this._onAutocompleteSuggestionsChange],[this.directionsModel,"change:"+this.directionsType,this._onLocationChange],[this.directionsModel,"change:canRetryLocationSearch",this._onLocationChange]])},e.Views.Maps.MapSearchbar.prototype=$.extend({},t.prototype,{template:"map_searchbar",show:function(){this.$el.show()},hide:function(){this.$el.hide()},blur:function(){this.$searchinput&&this.$searchinput.blur()},focus:function(){this.$searchinput&&this.$searchinput.focus()},clearInput:function(){this.autocomplete&&(this.autocomplete.clear(),this.autocomplete.hide()),this.$searchinput.val("")&&this.$searchinput.focus(),this._updateClearButtonAndSearchbar(),this.directionsModel&&this.directionsModel.updateCanRouteStatus(this.directionsType,"")},getCurrentValue:function(){return this.$searchinput&&e.strip_all_html(this.$searchinput.val())},set:function(t){t&&(this.$searchinput.val(e.strip_all_html(t)),this._updateClearButtonAndSearchbar())},_render:function(){t.prototype._render.call(this,Object.assign({listBoxId:this.listBoxId},this._ops)),this._cacheElems(".js-vertical-map",["search-button","search-clear","search-input","search"]),this.$body=$("body"),this.bindEvents([[this.$searchinput,"touchstart click",this._onInputFocus],[this.$searchinput,"focus",this._onInputFocus],[this.$searchinput,"blur",this._onInputBlur],[this.$searchinput,"keyup",this._onInputKeyUp],[this.$search,"submit",this._onSearchSubmit]]),Modernizr.touch?(this.$searchbutton.on("touchstart",this._onSearchButtonTouch.bind(this)),this.$searchclear.on("touchstart click",this._onClearClick.bind(this)),this.$search.on("touchstart",this._onInputFocus.bind(this))):(this.$searchclear.on("click",this._onClearClick.bind(this)),this.$search.on("click",this._onInputFocus.bind(this))),e.keyboard.on("escape.searchbar",this._onEscape.bind(this)),this._updateSearchButtonOnHover(),this.directionsModel?this.set(e.Utils.Strings.decodeHex(this.initValue)||""):this.set(e.Utils.Strings.decodeHex(this.model.meta.query||this.model.query)),this._updateClearButtonAndSearchbar(),this._initAutocomplete()},_initAutocomplete:function(){this.$searchinput&&!this.autocomplete&&(this.autocompleteModel=new e.Models.Maps.Autocomplete({answer:this.model}),this.autocomplete=new e.Views.AutoComplete({$input:this.$searchinput,$parentForm:this.$search,model:this.autocompleteModel,isTwoRowsText:!0,id:this.listBoxId}),this.$search.append(this.autocomplete.$el))},_updateSearchButtonOnHover:function(){this.$search.hover((function(){$(this).addClass(s)}),(function(){$(this).removeClass(s)}))},_updateSearchButton:function(){this.$searchinput.val()?this.$search.addClass(i):this.$search.removeClass(i)},_updateClearButtonAndSearchbar:function(){if(this.$searchinput){var t=this.$searchinput.val();e.device.isMobile&&this.$searchclear.val("×"),t&&""!==t?(this.$search.addClass("has-text"),this.$searchclear.removeClass("empty")):(this.$search.removeClass("has-text"),this.$searchclear.addClass("empty"))}},_resetNamespace:function(){"searchbar"===e.keyboard.namespace&&e.keyboard.set("namespace")},_onAutocompleteSuggestionsChange:function(){this.isFocused||this.autocomplete.hide()},_onClearClick:function(e){e.preventDefault(),e.stopPropagation(),this.directionsModel&&this.directionsModel.set(this.directionsType,null),this.clearInput()},_onEscape:function(e){this.autocomplete&&this.autocomplete.isVisible()&&this.autocomplete.hide(),this.$searchinput.blur()},_onQueryChange:function(t){t&&(this.directionsModel||this.set(e.Utils.Strings.decodeHex(t)))},_onLocationChange:function(){!this.directionsModel[this.directionsType]||this.directionsModel.canRetryLocationSearch&&!e.history.get("iaxm")||this.set(this.directionsModel[this.directionsType].display)},_onMapStartActiveChange:function(){this.directionsModel||(this.model.isMapStartActive?this.clearInput():(this.model.meta.requery||this.model.query)&&this.set(this.model.meta.requery||this.model.query))},_onItemsChange:function(){this._resetNamespace(),this.$searchinput.blur(),this.$searchbutton.blur(),this.autocomplete&&(this.autocomplete.clear(),this.autocomplete.hide())},_setNamespaceSearchbar:function(){var t=e.keyboard.namespace;(!t||"autocomplete"!==t&&"searchbar"!==t)&&e.keyboard.set("namespace","searchbar")},_onSearchButtonTouch:function(e){e.stopPropagation()},_onInputFocus:function(t){t.stopPropagation(),this._updateSearchButton(),!this.$searchinput.val()&&this.autocomplete?this.autocomplete.hide():this._setNamespaceSearchbar(),e.device.isMobileDevice&&this.$body.on("touchstart.searchbar",this._onTouchOut.bind(this)),this.emit("searchbar-focused"),this.isFocused=!0},_onInputBlur:function(t){this.$search.removeClass(i),this._resetNamespace(),e.device.isMobileDevice&&this.$body.off("touchstart.searchbar"),this.isFocused=!1},_onInputKeyUp:function(t){this._updateSearchButton(),this._updateClearButtonAndSearchbar(),this.directionsModel&&this.directionsModel.updateCanRouteStatus(this.directionsType,e.strip_all_html(this.$searchinput.val())),""===this.$searchinput.val()&&this.directionsModel.set(this.directionsType,null)},_onTouchOut:function(e){e.stopPropagation(),this.$searchinput.blur()},_onSearchSubmit:function(t){if(t.preventDefault(),this.autocomplete.model.selectedSuggestion)delete this.autocomplete.model.selectedSuggestion;else{var i=this.$searchinput.val();if(i=e.strip_all_html(i),this.$searchinput.blur(),this.$searchbutton.blur(),this._resetNamespace(),this.autocomplete&&(this.autocomplete.clear(),this.autocomplete.hide()),this.directionsModel){if(this.directionsType){var s={};s[this.directionsType]={what:i},this.directionsModel.onDirectionsAction(s)}this.directionsModel.autocompleteLocation({loc:i,type:this.directionsType})}else this.model.set("shouldMapViewportUpdate",!0),this.model.set("isSearchAreaBtnVisible",!1),this.emit("requery-submit",{query:i,strict_bbox:"0"}),e.pixel.fire("map_ere"),e.pixel.fire("map_er","submit")}}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.MapSidebar=function(e){this.directionsModel=e.directionsModel,t.call(this,e),this.bindEvents([[this.model,"change:selectedItem",this._onSelectedItemChanged],[this.model,"change:isMapExpanded",this._onMapExpandedChanged],[this.model,"change:isDirectionsActive",this._onDirectionsActiveChange]])},e.Views.Maps.MapSidebar.prototype=$.extend({},t.prototype,{template:"map_sidebar",show:function(){this.$el.show()},hide:function(){this.$el.hide()},blurSearchInput:function(){e.device.isMobileDevice||this.views.mapSearchbar&&this.views.mapSearchbar.blur()},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-vertical-map",["content","results-container","detail","close-map","close-directions","back","back-to-list","back-to-serp","type-container","user-loc-container"]),this.model.isMapExpanded&&(this._renderSearchHeader(),this.views.mapTypeSelect=new e.Views.Maps.MapTypeSelect({appendTo:this.$typecontainer,model:this.model,small:!1}),e.userLocator.canShowPUL()&&!e.device.isDesktop&&(this.views.userLocBadge=new e.Views.UserLocation.UserLocationBadge({appendTo:this.$userloccontainer,$originEl:this.$el,onExpandedMap:!0})),this.bindEvents([[this.$back,"click",this._onBackClick]])),this.bindEvents([[this.$backtolist,"click",this._onBackToListClick],[this.$closemap,"click",this._onCloseMapClick],[this.$closedirections,"click",this._onCloseDirectionsClick]])},_renderSearchHeader:function(){this.views.directionsSearch||(this.views.directionsSearch=new e.Views.Maps.DirectionsSearch({model:this.model,directionsModel:this.directionsModel,appendTo:this.$content,showTransportType:!0,autoInit:!0})),this.views.mapSearchbar||(this.views.mapSearchbar=new e.Views.Maps.MapSearchbar({appendTo:this.$content,model:this.model})),this._toggleDirections()},_toggleDirections:function(){this.model.isDirectionsActive?(this.views.mapSearchbar.hide(),this.views.directionsSearch&&this.views.directionsSearch.show(),this.$closedirections&&this.$closedirections.show()):(this.views.directionsSearch&&this.views.directionsSearch.hide(),this.views.mapSearchbar.show(),this.$closedirections&&this.$closedirections.hide())},_onSelectedItemChanged:function(e){"Place"!==this.model.answerItemModel&&"Places"!==this.model.answerType||this.model.isSingle||(e?(this.$backtoserp.hide(),this.$backtolist.removeClass("is-hidden")):(this.$backtoserp.show(),this.$backtolist.addClass("is-hidden")))},_onMapExpandedChanged:function(t){this.model.selectedItem&&(this.model.selectedItem.unselect(),e.history.clear("iai")),this.views.mapSearchbar&&(t?this.model.isDirectionsActive?this.views.directionsSearch&&this.views.directionsSearch.show():this.views.mapSearchbar&&this.views.mapSearchbar.show():this.model.meta.requery||this.views.mapSearchbar.hide())},_onBackClick:function(t){t.preventDefault(),t.stopPropagation(),e.pixel.fire("map_ebe"),w.history.back()},_onBackToListClick:function(t){t.preventDefault(),t.stopPropagation(),this.model.selectedItem&&(this.model.selectedItem.unselect(),e.history.clear("iai")),this.views.currentPlaceDetail&&(this.views.currentPlaceDetail.destroy(),delete this.views.currentPlaceDetail),this.$detail.hide(),this.$resultscontainer.show(),this.$backtolist.addClass("is-hidden")},_onCloseMapClick:function(t){t.preventDefault(),t.stopPropagation(),this.model.set("isMapExpanded",!1),this.model.engaged(),e.pixel.fire("map_ebe")},_onCloseDirectionsClick:function(){this.model.onMapStartAction()},_onDirectionsActiveChange:function(e){this._toggleDirections()}})}(DDG),function(e){var t=e.Views.Base,i="normal",s="min";e.Views.Maps.MapSidebarMobile=function(i){this.directionsModel=i.directionsModel,this.views={},t.call(this,i),this.bindEvents([[this.model,"change:sidebarPosition",this._onSidebarPositionChanged],[this.model,"requery-complete",this._onRequeryComplete],[this.model,"change:isMapExpanded",this._onMapExpandedChanged],[this.model,"change:isDirectionsActive",this._onDirectionsActiveChange]]),this.searchHeaderOffset=Math.ceil(e.device.height-this.model.sidebarTranslateY),this.model.set("sidebarPosition",this.model.sidebarPosition||"normal")},e.Views.Maps.MapSidebarMobile.prototype=$.extend({},t.prototype,{template:"map_sidebar_mobile",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-vertical-map-sidebar-mobile",["header","header-content","back","close-directions","toggle","toggle-icon","toggle-text"]),this._renderSearchHeader(),this.views.mapTypeSelect=new e.Views.Maps.MapTypeSelect({appendTo:$(".js-vertical-map"),model:this.model,showLabel:!1,small:!0}),e.userLocator.canShowPUL()&&!e.device.isDesktop&&(this.views.userLocBadge=new e.Views.UserLocation.UserLocationBadge({appendTo:$(".js-vertical-map-control-topleft"),$originEl:this.$el,onExpandedMap:!0})),this.bindEvents([[this.$back,"click",this._onBackClick],[this.$toggle,"click",this._onToggleClick],[this.$closedirections,"click",this._onCloseDirectionsClick]])},_renderSearchHeader:function(){this.views.directionsSearch||(this.views.directionsSearch=new e.Views.Maps.DirectionsSearch({model:this.model,directionsModel:this.directionsModel,appendTo:this.$headercontent,showTransportType:!0,autoInit:!0})),this.views.mapSearchbar||(this.views.mapSearchbar=new e.Views.Maps.MapSearchbar({appendTo:this.$headercontent,isMobile:!0,isIPhone:e.device.isIPhone,model:this.model}),this.bindEvents([[this.views.mapSearchbar,"searchbar-focused",this._onSearchbarFocused]])),this.model.isDirectionsActive?(this.views.mapSearchbar.hide(),this.views.directionsSearch.show(),this.$closedirections.show()):(this.views.directionsSearch.hide(),this.$closedirections.hide(),this.views.mapSearchbar.show()),this.$el.hide().show(0)},_onSearchbarFocused:function(){var e=s;this.model.sidebarPosition!==e&&this.model.set("sidebarPosition",e)},_onRequeryComplete:function(){var e=i;this.model.sidebarPosition!==e&&this.model.set("sidebarPosition",e)},_onSidebarPositionChanged:function(){var e,t="Place"!==this.model.answerItemModel||1===this.model.items.length||this.model.selectedItem,i="normal"===this.model.sidebarPosition;e=i?lp("mobile expanded map","Expand Map"):t?lp("mobile expanded map","Show Detail"):lp("mobile expanded map","Show List"),this.$toggletext.text(e),this.$toggleicon.toggleClass("vertical--map__mobile-toggle-icon--map",i),this.$toggleicon.toggleClass("vertical--map__mobile-toggle-icon--list",!i)},_onBackClick:function(t){t.preventDefault(),t.stopPropagation(),e.pixel.fire("map_ebe"),w.history.back()},_onMapExpandedChanged:function(t){this.model.selectedItem&&(this.model.selectedItem.unselect(),e.history.clear("iai")),this.views.mapSearchbar&&(t?this.model.isDirectionsActive?this.views.directionsSearch&&this.views.directionsSearch.show():this.views.mapSearchbar&&this.views.mapSearchbar.show():this.model.meta.requery||this.views.mapSearchbar.hide())},_onToggleClick:function(t){var i="min"===this.model.sidebarPosition?"normal":"min";this.model.set("sidebarPosition",i),e.pixel.fire("map_est")},_onCloseDirectionsClick:function(){this.model.set("isDirectionsActive",!1)},_onDirectionsActiveChange:function(){this._renderSearchHeader()}})}(DDG),function(e){var t=e.Views.Base,i="map-sidebar-footer";function s(e){var t=!("Place"===e.answerItemModel&&e.selectedItem||"Directions"===e.answerItemModel||e.isDirectionsActive||!(e.hasNoResults||e.hasExampleSearches||e.isMoreAtVisible));return e.hasExternalDirectionsProvider&&(t=!0),t}e.Views.Maps.MapSidebarFooter=function(i){this._ops=i,t.call(this,this._ops),this.footerModel=new e.Models.Footer,this.bindEvents([[this.model,"change:sidebarLayout",this._onSidebarLayoutChanged],[this.model,"change:selectedItem",this._onSelectedItemChanged],[this.model,"change:items",this._onItemsChanged],[this.model,"change:hasExampleSearches",this._onHasExampleSearchesChange],[this.model,"change:hasNoResults",this._onHasNoResultsChange],[this.model,"change:isMoreAtVisible",this._onIsMoreAtVisibleChange],[this.model,"change:hasExternalDirectionsProvider",this._onHasExternalDirectionsProviderChange]])},e.Views.Maps.MapSidebarFooter.prototype=$.extend({},t.prototype,{template:"map_sidebar_footer",_render:function(){this._ops=$.extend({},this._ops,{offsetted:s(this.model)}),t.prototype._render.call(this,this._ops),this._createFeedbackPrompt()},_onItemsChanged:function(){this._createFeedbackPrompt()},_onSelectedItemChanged:function(e){this.$el.toggleClass(i+"--offsetted",s(this.model)),this._createFeedbackPrompt()},_onSidebarLayoutChanged:function(){this._rerender()},_onHasExampleSearchesChange:function(){this.$el.toggleClass(i+"--offsetted",s(this.model))},_onIsMoreAtVisibleChange:function(){this.$el.toggleClass(i+"--offsetted",s(this.model))},_onHasExternalDirectionsProviderChange:function(){this._rerender()},_onHasNoResultsChange:function(){this.$el.toggleClass(i+"--offsetted",s(this.model)),this._createFeedbackPrompt()},_createFeedbackPrompt:function(){if(e.device.isEnglish){var t=this.model.getFeedbackCategory(),i={category:t,categoryName:this.model.getCurrentItemName(),categoryValue:t,sourceName:this.model.sourceName,promptText:lp("feedback form","Share Feedback"),appendTo:this.$el,showYesNo:!1,showOnMap:!0,showOnMobile:!0,subtitleText:lp("feedback form","Share feedback on your search results."),asButton:!1};"places_single"===t&&(i.modalView=e.Views.Feedback.SinglePlaceModal,i.modalViewData=this.model.selectedItem||this.model.items[0]),this.views.feedback&&this.views.feedback.destroy(),this.views.feedback=new e.Views.Feedback.FeedbackPrompt(i)}}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.MapTypeSelect=function(e){this._ops=e||{},t.call(this,this._ops)},e.Views.Maps.MapTypeSelect.prototype=$.extend({},t.prototype,{template:"map_type_select",_render:function(){t.prototype._render.call(this,this._ops),this._cacheElems(".js-map-type-select",["label"]),this.bindEvents([[this.$el,"click",this._onMapTypeClick]])},_onMapTypeClick:function(){var e="map-type-select--satellite",t="map-type-select--map";this.model.mapType&&this.model.mapType!==w.mapkit.Map.MapTypes.Standard?(this.model.set("mapType",w.mapkit.Map.MapTypes.Standard),this.$el.addClass(e),this.$el.removeClass(t),this.$label.html("Satellite")):(this.model.set("mapType",w.mapkit.Map.MapTypes.Hybrid),this.$el.addClass(t),this.$el.removeClass(e),this.$label.html("Map"))}})}(DDG),function(e){var t=e.Views.Base;e.Views.NoMapResults=function(e){this.vertical=e.vertical||"web",this.resultType=e.resultType||l("Results"),this.query=e.query||rqd,this.model=e.model,t.call(this,e)},e.Views.NoMapResults.prototype=$.extend({},t.prototype,{template:"no_map_results",destroy:function(){t.prototype.destroy.call(this),this.model.set("hasNoResults",!1)},show:function(){this.$el.removeClass("is-hidden"),this.model.set("hasNoResults",!0)},hide:function(){this.$el.addClass("is-hidden"),this.model.set("hasNoResults",!1)},updateQuery:function(e){this.query=e,this._rerender()},_render:function(){var i=!e.deep.bn||e.deep.bn.ivc?1:0,s="?q="+encodeURIComponent(this.query)+"&ia=web"+(w.kurl?w.kurl:"");t.prototype._render.call(this,{query:e.Utils.Strings.decodeQueryAndStripHTML(this.query),resultType:this.resultType.toLowerCase(),webSearchUrl:s,openWrapQueryTag:"<b>",closeWrapQueryTag:"</b>"}),this._cacheElems(".js-no-map-results",["web-search"]),this._pixelData={r:0,i506:e.deep.is506?1:0,ivc:i,irt:e.history.get("norrc")?1:0,v:this.vertical},e.pixel.fire("nor",this._pixelData),this.bindEvents([[this.$websearch,"click",this._onWebClick]]),this.model.set("hasNoResults",!0)},_onWebClick:function(t){e.pixel.fire("norwc",this._pixelData)}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.ExampleSearches=function(e){this.answer=e.answer,t.call(this,e)},e.Views.Maps.ExampleSearches.prototype=$.extend({},t.prototype,{template:"map_example_searches",show:function(){this.$el.show()},hide:function(){this.$el.hide()},destroy:function(){t.prototype.destroy.call(this),this.answer.set("hasExampleSearches",!1)},_render:function(){this.categories=[{query:"Restaurants",iconUrl:"restaurants.svg"},{query:"Banks",iconUrl:"banks.svg"},{query:"Hotels",iconUrl:"hotels.svg"},{query:"Parking",iconUrl:"parking.svg"},{query:"Bars",iconUrl:"bars.svg"},{query:"Coffee",iconUrl:"coffee.svg"},{query:"Groceries",iconUrl:"groceries.svg"},{query:"Parks",iconUrl:"parks.svg"}];var e=this.answer.meta.requery?encodeURIComponent(this.answer.meta.requery):this.answer.queryEncoded;this.webSearchUrl="?q="+e+"&ia=web"+(w.kurl?w.kurl:""),t.prototype._render.call(this,$.extend(this.model,{categories:this.categories,webSearchUrl:this.webSearchUrl})),this._cacheElems(".js-example-search",["button"]),this.bindEvents([[this.$button,"click",this._onButtonClick.bind(this)]]),this.answer.set("hasExampleSearches",!0)},_onButtonClick:function(t){t.preventDefault();var i=$(t.currentTarget).data("category");e.duckbar.tabs.maps_expanded&&e.duckbar.tabs.maps_expanded.expandedMap&&(e.duckbar.tabs.maps_expanded.expandedMap.onRequeryAction({query:i,strict_bbox:"1",shouldMapViewportUpdate:!1}),this.answer.set("isSearchAreaBtnVisible",!1))}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsButton=function(i){this.answer=i.answer,this.loc=i.loc,this.isAddress=i.isAddress,i.showDirectionsIcon="Place"===this.answer.answerItemModel||"Places"===this.answer.answerType,t.call(this,i),this._updateLinkURL(),this.bindEvents([[e.directionSource,"change:selected",this._updateLinkURL]])},e.Views.Maps.DirectionsButton.prototype=$.extend({},t.prototype,{template:"directions_button",changeVerticalPos:function(e){return this.views.directions&&this.views.directions.changeVerticalPos(e)},_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-dir-btn",["link","text"]),this.bindEvents([[this.$link,"click",this._onLinkClicked]]),e.device.isAppleDevice||(this.views.directions=new e.Views.Dropdowns.DirectionDropdown({appendTo:"Places"===this.answer.answerType||"Place"===this.answer.answerItemModel?this.$text:this.$el,loc:this.loc,answer:this.answer}))},_updateLinkURL:function(){var t=e.directionSource.getDirectionsURL(this.loc);this.$link.attr("href",t),this.$link.data("wrapped",""),this.$link.off("click.wrap"),this._wrapLinks()},_onLinkClicked:function(){this.answer&&(e.pixel.fire("ia_directions_external",this.answer.pixelId,e.directionSource.selected.id),this.answer.clickedExternalLink(),this.answer.engaged())}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsSearch=function(e){this.directionsModel=e.directionsModel,this.showTransportType=!!e.showTransportType,this.autoInit=!!e.autoInit,t.call(this,e),this.bindEvents([[this.directionsModel,"change:currentTransportType",this._onTransportTypeChange]]),this.model.isMapExpanded&&this.bindEvents([[this.directionsModel,"change:start",this._onLocationChange],[this.directionsModel,"change:end",this._onLocationChange]])},e.Views.Maps.DirectionsSearch.prototype=$.extend({},t.prototype,{template:"directions_search",show:function(){this.$el.show()},hide:function(){this.$el.hide()},blur:function(){},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-directions-search",["inputs","drive","walk","reverse","reverse-tooltip","reverse-cta"]),this.bindEvents([[this.$drive,"click",this._onDriveClick],[this.$walk,"click",this._onWalkClick]]),this.model.isMapExpanded&&(this.bindEvents([[this.$el,"submit",this._onSubmit],[this.$reversecta,"click",this._onReverseClick]]),this.$reverse.removeClass("is-hidden")),this.views.mapSearchbarStart=this.views.mapSearchbarStart||new e.Views.Maps.MapSearchbar({appendTo:this.$inputs,model:this.model,directionsModel:this.directionsModel,directionsType:"start",initValue:this.directionsModel.startDisplay?this.directionsModel.startDisplay:""}),this.views.mapSearchbarEnd=this.views.mapSearchbarEnd||new e.Views.Maps.MapSearchbar({appendTo:this.$inputs,model:this.model,directionsModel:this.directionsModel,directionsType:"end",initValue:this.directionsModel.endDisplay?this.directionsModel.endDisplay:""}),this.views.mapSearchbarStart.autocomplete.on("requery-submit",function(t){t&&t.event&&t.event.preventDefault(),this.directionsModel.canRetryLocationSearch=!1,this.directionsModel.setLocation({type:"start",what:t.suggestion.what,where:t.suggestion.where,display:this.directionsModel.formatDisplayLocation(t.suggestion.what,t.suggestion.where)}),this.directionsModel.set("startDisplay",this.directionsModel.formatDisplayLocation(t.suggestion.what,t.suggestion.where)),this.autoInit&&this.directionsModel.onDirectionsAction(),e.pixel.fire("dir_chg",e.history.get("iaxm")?"iaxm":"ia")}.bind(this)),this.views.mapSearchbarEnd.autocomplete.on("requery-submit",function(t){t&&t.event&&t.event.preventDefault(),this.directionsModel.canRetryLocationSearch=!1,this.directionsModel.setLocation({type:"end",what:t.suggestion.what,where:t.suggestion.where,display:this.directionsModel.formatDisplayLocation(t.suggestion.what,t.suggestion.where)}),this.directionsModel.set("endDisplay",this.directionsModel.formatDisplayLocation(t.suggestion.what,t.suggestion.where)),this.autoInit&&this.directionsModel.onDirectionsAction(),e.pixel.fire("dir_chg",e.history.get("iaxm")?"iaxm":"ia")}.bind(this)),this.directionsModel.canRoute&&this.model.isMapExpanded&&this.directionsModel.onDirectionsAction({noRouting:!0})},_onSubmit:function(t){t.preventDefault(),e.pixel.fire("dir_rq");try{var i={};i.start=this.views.mapSearchbarStart.getCurrentValue(),i.end=this.views.mapSearchbarEnd.getCurrentValue(),this.views.mapSearchbarStart.autocomplete.hide(),this.views.mapSearchbarEnd.autocomplete.hide(),this.views.mapSearchbarStart.autocomplete.model.clearData(),this.views.mapSearchbarEnd.autocomplete.model.clearData(),["start","end"].forEach(function(e){i[e]!==this.directionsModel[e+"Display"]&&(this.directionsModel.set("start"===e?"isStartUpdating":"isEndUpdating",!0),this.directionsModel.autocompleteLocation({loc:i[e],type:e,callbackFn:function(){this.set("isStartUpdating",!1),this.set("start"===e?"isStartUpdating":"isEndUpdating",!1)}.bind(this.directionsModel)}))}.bind(this))}catch(t){}},_onDriveClick:function(){this.directionsModel.onDirectionsAction({transport:"drive"})},_onWalkClick:function(){this.directionsModel.onDirectionsAction({transport:"walk"})},_onReverseClick:function(){(this.directionsModel.start||this.directionsModel.end)&&(this.directionsModel.reverseDirections(),this.directionsModel.start?this.directionsModel.end||this.views.mapSearchbarEnd.clearInput():this.views.mapSearchbarStart.clearInput(),this._showReverseAction())},_showReverseAction:function(){e.device.isMobile?this.$reversecta.toggleClass("directions-search__reverse__button--reversed"):(this.$reversetooltip.addClass("simple-tooltip__visible"),setTimeout(function(){this.$reversetooltip.removeClass("simple-tooltip__visible")}.bind(this),2e3))},_onTransportTypeChange:function(t){e.pixel.fire("dir_tpt",t.id),this.$drive.toggleClass("is-selected","drive"===t.id),this.$walk.toggleClass("is-selected","walk"===t.id)},_onLocationChange:function(){var e=!this.directionsModel.start&&!this.directionsModel.end,t=e?"":lp("directions","Reverse origin and destination"),i=this.$reversecta.attr("title");this.$reversecta.toggleClass("is-disabled",e),i!==t&&this.$reversecta.attr("title",t)}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsResults=function(e){this.answer=e.answer,this.routeViewList=[],this.map=e.map,this.bindEvents([[e.model,"change:routeList",this._onRouteListChange],[e.model,"change:isRouting",this._onIsRoutingChange],[this.answer,"change:hasExternalDirectionsProvider",this._onHasExternalDirectionsProviderChange],[this.answer,"change:isDirectionsActive",this._onIsDirectionsActiveChange]]),t.call(this,e)},e.Views.Maps.DirectionsResults.prototype=$.extend({},t.prototype,{template:"directions_results",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-directions-results",["initial-message","external-provider"]),this.bindEvents([[this.$externalprovider,"click",this._onExternalProviderClick]]),this.views.skeletonLoader=this.views.skeletonLoader||new e.Views.Maps.DirectionsSkeletonLoader({model:this.model,prependTo:this.$el}),this.model.routeList&&this.model.routeList.length>0?this._showRoutes():this.model.canRoute&&!this.model.isRouting&&this.model.route()},_updateAnnotations:function(){this.map&&(this.map.clearMap(),this.model.coordStart&&(this.startAnnotation=this.map.addImageAnnotation(this.model.coordStart.latitude,this.model.coordStart.longitude,"/assets/maps/directions-start.svg")),this.model.coordEnd&&(this.map.addImageAnnotation(this.model.coordEnd.latitude,this.model.coordEnd.longitude,"/assets/maps/directions-end.svg"),this.map.addImageAnnotation(this.model.coordEnd.latitude,this.model.coordEnd.longitude,"/assets/maps/marker-light-default-active.svg")))},_showRoutes:function(){this._updateAnnotations(),this.model.routeList.length>0?(this.views.noResults&&this.views.noResults.hide(),this.$initialmessage.hide(),this.model.routeList[0].isSelected=!0,this.model.routeList.reverse(),this.routeViewList=this.model.routeList.map(function(t,i){return new e.Views.Maps.DirectionsRoute({model:t,directionsModel:this.model,answer:this.answer,map:this.map?this.map.views.map:null,prependTo:this.$el})}.bind(this)),this._updateExternalMapProvider()):this.model.canRoute?(this.$initialmessage.hide(),this.views.noResults=this.views.noResults||new e.Views.Maps.NoDirectionsResults({prependTo:this.$el}),this.views.noResults.show()):this.$initialmessage.show()},_updateExternalMapProvider:function(){if(this.model.externalMapProvider){this.$externalprovider.removeClass("is-hidden");var t,i=this.model.end.where||this.model.endDisplay||this.model.end.what;t=this.model.startDisplay===lp("directions","Your Location")?e.getProperty(this.model,"start.coordinate.lat")+","+e.getProperty(this.model,"start.coordinate.lon"):this.model.start.where||this.model.startDisplay||this.model.start.what,"apple"===this.model.externalMapProvider?this.$externalprovider.find("a").attr("href","https://maps.apple.com/?saddr="+t+"&daddr="+i):"google"===this.model.externalMapProvider&&this.$externalprovider.find("a").attr("href","geo:?q="+i)}},_onRouteListChange:function(t){this._showRoutes(),t&&t.length>0&&this._updateExternalMapProvider(),this.answer.set("hasExternalDirectionsProvider",t&&t.length>0&&!!e.device.isMobileDevice)},_onIsRoutingChange:function(t){t?(this.routeViewList&&this.routeViewList.forEach((function(e){e.destroy()})),this.$initialmessage.hide(),this.views.skeletonLoader.show(),this.views.noResults&&this.views.noResults.hide(),this.answer.set("hasExternalDirectionsProvider",!1)):(this.views.skeletonLoader.hide(),this.answer.set("hasExternalDirectionsProvider",!!e.device.isMobileDevice))},_onHasExternalDirectionsProviderChange:function(){this.$externalprovider.toggle(this.hasExternalDirectionsProvider)},_onIsDirectionsActiveChange:function(e){this.map&&(e?this._showRoutes():(this.map.clearMap(),this.routeViewList&&this.routeViewList.forEach((function(e){e.destroy()}))))},_onExternalProviderClick:function(){e.pixel.fire("dir_ext",this.model.externalMapProvider)}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsRoute=function(e){this.directionsModel=e.directionsModel,this.answer=e.answer,this.map=e.map,t.call(this,e),this.bindEvents([[this.directionsModel,"change:isMapLoaded",this._onIsMapLoadedChange]])},e.Views.Maps.DirectionsRoute.prototype=$.extend({},t.prototype,{template:"directions_route",_render:function(){t.prototype._render.call(this,this.model),this.bindEvents([[".js-directions-route","click",this._onClick]]),this.views.directionsRouteOverview=new e.Views.Maps.DirectionsRouteOverview({model:this.model,directionsModel:this.directionsModel,appendTo:this.$el}),this.views.directionsRouteSteps=new e.Views.Maps.DirectionsRouteStepList({model:this.model,directionsModel:this.directionsModel,appendTo:this.$el}),this.map?this._renderRouteLine():this._isWaitingForMap=!0},_renderRouteLine:function(){this.views.directionsRouteLine=new e.Views.Maps.DirectionsRouteLine({model:this.model,directionsModel:this.directionsModel,answer:this.answer,appendTo:this.$el,map:this.map})},_onIsMapLoadedChange:function(e){this._isWaitingForMap&&(this._renderRouteLine(),this._isWaitingForMap=!1)},_onClick:function(e){}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsRouteInfo=function(e){t.call(this,e),this.bindEvents([[this.model,"change:routeList",this._onRouteListChange],[this.model,"change:isRouting",this._onIsRoutingChange]])},e.Views.Maps.DirectionsRouteInfo.prototype=$.extend({},t.prototype,{template:"directions_route_info",_render:function(){t.prototype._render.call(this,this.model)},_onIsRoutingChange:function(e){this.$el.toggle(!e)},_onRouteListChange:function(){this._rerender()}})}(DDG),function(e){var t=e.Views.Base,i="#3969EF",s="#8FABF9",a="#769DFF",o="#ADC2FC",n=8,r=6,l={top:100,right:100,bottom:100,left:100};e.Views.Maps.DirectionsRouteLine=function(e){this.answer=e.answer,this.map=e.map,this.lineThickness=e.lineThickness,this.mapPadding=e.mapPadding,t.call(this,e),this.bindEvents([[this.model,"change:isSelected",this._onSelectedChange],[this.model.directionsModel,"change:isRouting",this._onIsRoutingChange],[this.answer,"change:mapType",this._onMapTypeChange],[this.answer,"change:isDirectionsActive",this._onIsDirectionsActiveChange]])},e.Views.Maps.DirectionsRouteLine.prototype=$.extend({},t.prototype,{template:"directions_route_line",_render:function(){t.prototype._render.call(this,this.model),this.model.polyline||(this.model.polyline={},this.model.polyline.points=[],this.model.path.forEach(function(e){e.forEach(function(e){this.model.polyline.points.push(new w.mapkit.Coordinate(e.lat,e.lng))}.bind(this))}.bind(this))),this.polyline=new w.mapkit.PolylineOverlay(this.model.polyline.points),this._style(),this.polyline.addEventListener("select",this._onPolylineSelect.bind(this)),this.map.addOverlay(this.polyline),this.map.showItems(this.polyline,{padding:new w.mapkit.Padding(this.mapPadding||l)})},destroy:function(){DDG.history.get("iaxm")&&"directions"===this.answer.id||(t.prototype.destroy.call(this),this.map.removeOverlays(this.map.overlays))},_style:function(){this.polyline.selected=!!this.model.isSelected,this.polyline.style.lineWidth=this.lineThickness||(this.model.isSelected?n:r),this.polyline.style.strokeColor=this._getColor(),this.polyline.style.strokeOpacity=.5},_getColor:function(){return this.answer.mapType&&"hybrid"===this.answer.mapType||e.settings.isDarkTheme()?this.model.isSelected?a:o:this.model.isSelected?i:s},_onSelectedChange:function(){this._style()},_onPolylineSelect:function(){this.model.directionsModel.selectRoute(this.model.name)},_onIsRoutingChange:function(){DDG.history.get("iaxm")&&"directions"===this.answer.id||(this.polyline.visible=!1)},_onMapTypeChange:function(){this.polyline.style.strokeColor=this._getColor()},_onIsDirectionsActiveChange:function(e){this.polyline&&(this.polyline.visible=!!e)}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsRouteOverview=function(e){this.directionsModel=e.directionsModel,t.call(this,e),this.bindEvents([[this.model,"change:isSelected",this._rerender]])},e.Views.Maps.DirectionsRouteOverview.prototype=$.extend({},t.prototype,{template:"directions_route_overview",_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-directions-route-overview",["toggle","toggle-show","toggle-hide","print"]),this.bindEvents([[this.$el,"click",this._onClick],[this.$toggle,"click",this._onToggle],[this.$print,"click",this._onPrintClick]]),this.directionsModel&&this.directionsModel.routeList&&1===this.directionsModel.routeList.length&&this._toggleStepsCTA()},_toggleStepsCTA:function(){this.$toggleshow.toggleClass("is-hidden"),this.$togglehide.toggleClass("is-hidden")},_onClick:function(e){this.directionsModel.selectRoute(this.model.name)},_onToggle:function(t){t.stopPropagation(),this.directionsModel.toggleRoute(this.model.name),this._toggleStepsCTA(),e.pixel.fire("dir_stp")},_onPrintClick:function(t){t.stopPropagation(),this.views.modal||(this.views.modal=new e.Views.Maps.DirectionsPrintPreview({model:this.model,appendTo:"body"})),this.views.modal.show(),e.pixel.fire("dir_pr")}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsRouteStepList=function(e){this.isPrintPreview=e.isPrintPreview,t.call(this,e),this.bindEvents([[this.model,"change:isExpanded",this._onRouteExpandedChange]])},e.Views.Maps.DirectionsRouteStepList.prototype=$.extend({},t.prototype,{template:"directions_route_step_list",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-directions-route-step-list",["container"]),this.views.steps=this.model.steps.map(function(t){return new e.Views.Maps.DirectionsRouteStep({model:new e.Models.Maps.DirectionsRouteStep(t),appendTo:this.$container,isPrintPreview:this.isPrintPreview})}.bind(this))},_onRouteExpandedChange:function(e){this.isPrintPreview||(e?this.show():this.hide())}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsRouteStep=function(e){this.isPrintPreview=e.isPrintPreview,t.call(this,e),this.bindEvents([[this.model,"change:route",this._rerender]])},e.Views.Maps.DirectionsRouteStep.prototype=$.extend({},t.prototype,{template:"directions_route_step",_render:function(){this.isPrintPreview&&(this.model.imageUrl=this.model.imageUrl.replace("arrowFill=cccccc","arrowFill=000000")),t.prototype._render.call(this,this.model),this.bindEvents([[".js-directions-route-step","click",this._onClick]])},_onClick:function(e){}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.NoDirectionsResults=function(e){t.call(this,e)},e.Views.Maps.NoDirectionsResults.prototype=$.extend({},t.prototype,{template:"no_directions_results",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){var e="?q="+w.rq+"&ia=web"+(w.kurl?w.kurl:"");t.prototype._render.call(this,{webSearchUrl:e})}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsSkeletonLoader=function(e){e.model.loadItems=[{},{},{}],t.call(this,e)},e.Views.Maps.DirectionsSkeletonLoader.prototype=$.extend({},t.prototype,{template:"directions_skeleton_loader",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){t.prototype._render.call(this,this.model)}})}(DDG),function(e){var t=e.Views.Modal;e.Views.Maps.DirectionsPrintPreview=function(e){t.call(this,e)},e.Views.Maps.DirectionsPrintPreview.prototype=$.extend({},t.prototype,{template:"directions_print_preview",show:function(){t.prototype.show.call(this),this.model.directionsModel.set("isPrintPreviewOpen",!0),this.originalTitle=document.title;var e=this.model.directionsModel.startDisplay||this.model.directionsModel.start.what,i=this.model.directionsModel.endDisplay||this.model.directionsModel.end.what;document.title=e+" → "+i},hide:function(){t.prototype.hide.call(this),this.model.directionsModel.set("isPrintPreviewOpen",!1),this.originalTitle&&(document.title=this.originalTitle,this.originalTitle=null)},_render:function(e){e.start=this.model.directionsModel.start.what||this.model.directionsModel.startDisplay,e.end=this.model.directionsModel.end.what||this.model.directionsModel.endDisplay,t.prototype._render.call(this,e),this._cacheElems(".js-directions-print-preview",["cta","body","map","steps"]),this.$body.css("height",$(window).height()-200),this.bindEvents([[this.$cta,"click",this._onCtaClicked]]),this._fetchStaticMap(),this._renderSteps()},_fetchStaticMap:function(){var t=this.model.polyline.points.map((function(e){return[e.latitude,e.longitude]})),i=e.mapkit.getStaticDirectionsURL(t,{width:780,height:326,colorScheme:"light"}),s=document.createElement("img");s.addEventListener("load",this._onMapLoaded.bind(this)),s.src=i,this.$map.find("img").remove(),this.$map.append(s)},_renderSteps:function(){this.views.routeSteps=this.views.routeSteps||new e.Views.Maps.DirectionsRouteStepList({model:this.model,appendTo:this.$steps,isPrintPreview:!0}),this.views.routeSteps.show()},_onCtaClicked:function(){this._isMapLoaded&&window.print()},_onMapLoaded:function(){this.$cta.addClass("btn--primary"),this._isMapLoaded=!0}})}(DDG),function(e){var t=e.Views.Base;e.Views.Maps.DirectionsPrintErrorMessage=function(e){this.answer=e.answer,t.call(this,e),this.bindEvents([[this.model,"change:isPrintPreviewOpen",this._onPrintPreviewOpenChange],[this.answer,"change:isMapExpanded",this._onMapExpandedChange]])},e.Views.Maps.DirectionsPrintErrorMessage.prototype=$.extend({},t.prototype,{template:"directions_print_error_message",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){t.prototype._render.call(this,this.model),this.show()},_onPrintPreviewOpenChange:function(e){e?this.hide():this.show()},_onMapExpandedChange:function(e){e?this.show():this.hide()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlacesSingle=function(i){this.answer=i.model,this.model=this.answer.primaryPlace,t.call(this,{model:this.model,appendTo:i.appendTo}),this.bindEvents([[e.settings,"change:kam",this._onDirectionSourceUpdated]])},e.Views.Places.PlacesSingle.prototype=$.extend({},t.prototype,{template:"places_single",_onDirectionSourceUpdated:function(){var t=e.directionSource.getMapURL(this.model);this.model.set("mapURL",t),this.model.set("directionsTitle",this.model.getDirectionsTitle()),this._rerender(this.model)},_render:function(){t.prototype._render.call(this,this.model);var i={model:this.model,answer:this.answer,appendTo:this.$el};this.views.header=new e.Views.Places.PlaceHeader(i),this.views.detail=new e.Views.Places.PlaceDetail(i)}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlacesSingleMap=function(e){this._ops=e||{},this.answer=e.answer,this.model=e.model,"applemaps"===this.model.sourceId&&"START"===this.model.embedLoading&&(this._ops.showPlaceholder=!0),t.call(this,this._ops),this.bindEvents([[this.model,"change:embedLoading",this._onEmbedLoadingChange]])},e.Views.Places.PlacesSingleMap.prototype=$.extend({},t.prototype,{template:"places_single_map",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(){t.prototype._render.call(this,$.extend({},this.model,this._ops));var i={model:this.model,answer:this.answer,appendTo:this.$el};(this.model.thumbnails||this.model.image)&&(this.views.header=new e.Views.ModuleImageHeader(i)),this.views.detail=new e.Views.Places.PlaceDetail(i)},_onEmbedLoadingChange:function(){"DONE"===this.model.embedLoading&&(this._ops.showPlaceholder=!1,this._rerender())}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlacesMultiple=function(i){i.isMobile=e.device.isMobile,t.call(this,i),this._timeoutId=null},e.Views.Places.PlacesMultiple.prototype=$.extend({},t.prototype,{template:"places_multiple",_render:function(i){if(t.prototype._render.call(this,i),this._cacheElems(".js-places-multiple",["map","list","expand","top-right","top-left"]),this.bindEvents([[this.$map,"click",this._onMapClick.bind(this)],[this.$expand,"click",this._onMapClick.bind(this)]]),this.model.glMapModel=new e.Models.GLMap({locations:this.model.items,pixelId:this.model.pixelId}),this.model.isFunctionalLayout){var s=e.duckbar.tabs.maps_expanded,a=s&&s.expandedMap&&s.expandedMap.model,o=a&&a.directionsModel;e.directionsModel=this.model.directionsModel||e.directionsModel||o||new e.Models.Maps.Directions({geoip:this.model.geoip})}this.views.placeListItems=this.model.topPlaces.map(function(t){return new e.Views.Places.PlaceListItem({appendTo:this.$list,model:t,answer:this.model})}.bind(this)),this._timeoutId=setTimeout(function(){this.views&&(this.views.map=new e.Views.Mapkit.StaticMap({markers:this.model.itemsOnMap,appendTo:this.$map,width:this.$map.outerWidth(),height:this.$map.outerHeight(),showCTA:!0,answer:this.model}),e.userLocator.canShowPUL()&&(this.views.locationTile=new e.Views.UserLocation.UserLocationBadge({appendTo:this.$topleft,$originEl:this.$el,isProximityQuery:this.model.proximity})))}.bind(this),0)},destroy:function(){null!=this._timeoutId&&clearTimeout(this._timeoutId),t.prototype.destroy.call(this)},_onMapClick:function(t){t.preventDefault(),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places"})):e.router.navigate("toggle-map",{model:this.model,isMapExpanded:!0,directionsModel:e.directionsModel}),this.model.fire("iacg"),e.pixel.fire("map_se")},_onExternalLinkClick:function(e){this.model.engaged()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlaceHeader=function(e){this._ops=e||{},this.answer=e.answer,t.call(this,this._ops),this._timeoutId=null,this.bindEvents([[this.model,"change:image",this._onImageLoaded]])},e.Views.Places.PlaceHeader.prototype=$.extend({},t.prototype,{template:"place_header",_render:function(){t.prototype._render.call(this,$.extend(this._ops||{},this.model)),this._cacheElems(".js-place-header",["image","map"]),this.bindEvents([[this.$el,"click",this._onClick],[this.$map,"click",this._onMapClick.bind(this)],[this.$image,"click",this._onImageClick.bind(this)]]),this._timeoutId=setTimeout(function(){this.views&&(this.views.map=new e.Views.Mapkit.StaticMap({markers:[this.model],width:this.$map.outerWidth(),height:this.$map.outerHeight(),url:this.model.directions,appendTo:this.$map,showCTA:!0,answer:this.answer}))}.bind(this),0)},destroy:function(){null!=this._timeoutId&&clearTimeout(this._timeoutId),t.prototype.destroy.call(this)},_onClick:function(e){e.stopPropagation(),this.answer.engaged()},_onMapClick:function(t){t.preventDefault(),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places"})):e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0}),e.pixel.fire("ia_header_map_click",this.answer.pixelId)},_onImageClick:function(){e.pixel.fire("ia_header_img_click",this.answer.pixelId)},_onExternalLinkClick:function(e){this.answer.engaged(),this.answer.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)},_onImageLoaded:function(){this._ops.isScrapedImage=!0,this._rerender()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlaceDetail=function(i){this.answer=i.answer,this._ops=i||{},t.call(this,this._ops),this.bindEvents([[this.model,"change:reviews",this._onReviewsUpdate],[this.model,"change:hoursExpanded",this._onHoursExpandedChange],[this.model,"change:reviewsExpanded",this._onReviewsExpandedChange],[this.model,"change:embedLoading",this._onEmbedLoadingChange]]),this.bindEvents([[e.settings,"change:"+e.settings.THEME_KEY,this._onThemeChange]])},e.Views.Places.PlaceDetail.prototype=$.extend({},t.prototype,{template:"place_detail",_render:function(){this.model.isMapExpanded=this.answer.isMapExpanded,this._ops.showSubtitlePlaceholder="START"===this.model.embedLoading,t.prototype._render.call(this,$.extend({},this.model,this._ops)),this._cacheElems(".js-place-detail",["price-range","hours","hours-toggle","hours-toggle-icon","reviews-toggle","reviews-toggle-icon","reviews-container","popular-hours","phone","title","social","review-count","website","directions","map","call","tab-nav","tab-content","ta-logo"]),this.bindEvents([[this.$title,"click",this._onTitleClick.bind(this)],[this.$hourstoggle,"click",this._onHoursToggleClick.bind(this)],[this.$reviewstoggle,"click",this._onReviewsToggleClick.bind(this)],[this.$phone,"click",this._onPhoneClick.bind(this)],[this.$map,"click",this._onMapClick.bind(this)],[this.$website,"click",this._onWebsiteClick.bind(this)],[this.$call,"click",this._onCallClick.bind(this)],[this.$tabnav,"click",this._onTabNavClick.bind(this)],[this.$social,"click",this._onSocialClick.bind(this)],[this.model,"change:expanded",this._rerender]]),this.bindEvents([[this.$directions,"click",this._onDirectionsClick]]);var i=e.duckbar.tabs.maps_expanded,s=i&&i.expandedMap&&i.expandedMap.model,a=s&&s.directionsModel;if(e.directionsModel=e.directionsModel||a||new e.Models.Maps.Directions({geoip:this.answer.geoip}),this.model.price&&(this.views.placePriceRange=new e.Views.Places.PlacePriceRange({priceRange:Math.round(this.model.price),appendTo:this.$pricerange})),this.model.popularHoursData&&this.$popularhours.width()>0&&this.model.popularHoursData[this.model.currentWeekDayAbbr]){var o=this.model.formatOpenHoursForDisplay(this.model.popularHoursData);this.views.placePopularHours=new e.Views.Places.PlacePopularHours({model:{title:this.model.popularHoursOnWeekday,hoursToday:this.model.popularHoursData[this.model.currentWeekDayAbbr],hoursTodayDisplay:o?o[0]:null},appendTo:this.$popularhours})}this._updateTripadvisorLogo(),this.views.placeHours=new e.Views.Places.PlaceHours({model:this.model,appendTo:this.$hours}),this.answer.isMapExpanded&&this.$reviewcount.find("a").attr({target:"_blank",rel:"noopener"}),this.model.hotel_id&&!e.device.isIE11p&&"US"===window.ct&&(this._reactDOMRoot||(this._reactDOMRoot=document.createElement("div"),this.$(".js-hotel-offers").prepend(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot)),this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{settings:DDG.settings,pixel:e.pixel,device:DDG.device,history:e.history,backData:DDG.backData,searchExperiments:DDG.searchExperiments,deep:DDG.deep},window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:{HOTEL_OFFERS_SHOW_MORE_RATES:lp("Single Place Hotel Offers Module","Show More Rates"),SHOW_LESS:lp("expand_text","Show Less"),HOTEL_OFFERS_OFFICIAL_WEBSITE:lp("Single Place Hotel Offers Module","official website"),HOTEL_OFFERS_LIST_EMPTY:function(e){return lp("Single Place Hotel Offers Module","Check %s for rates and availability.",e)},FROM:function(e){return l("From %s",e)}}},window.React.createElement(window.components.HotelOffersModuleLazy,{hotelId:this.model.hotel_id,hotelUrl:this.model.website,placesStore:window.stores.placesStore,pixelId:this.answer.pixelId,openType:this.answer.openType,getIaPixelData:function(){return this.answer.getPixelData()}.bind(this),createAdLabelView:function(e){return new DDG.Views.Places.PlaceDetailHotelAdLabel({appendTo:$(e),isMapExpanded:this.model.isMapExpanded})}.bind(this)})))))},_rerender:function(){this.views.directions&&(this.views.directions.destroy(),delete this.views.directions),t.prototype._rerender.call(this)},_openDirections:function(){e.directionsModel.canRetryLocationSearch=!1,e.directionsModel.setLocation({type:"end",what:this.model.name,where:this.model.address,display:this.model.name}),e.directionsModel.set("endDisplay",this.model.name),e.directionsModel.userLocation&&e.directionsModel.setLocationToUserLocation("start"),this.answer.isMapExpanded?(this.answer.set("isDirectionsActive",!0),e.directionsModel.onDirectionsAction()):"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"directions",source:"directions",start:null,end:window.utils.encodeDirectionsStartEndForUrlQueryParam({value:this.model.name,suggestion:{what:this.model.name,where:this.model.address,lat:this.model.lat,lon:this.model.lon}})})):e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0,isDirections:!0})},_openMap:function(){"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places"})):e.router.navigate("toggle-map",{model:this.answer,isMapExpanded:!0,directionsModel:e.directionsModel})},_onMapClick:function(t){t.stopPropagation(),this._openMap(),e.pixel.fire("map_cta","btn"),this.answer.engaged()},_updateTripadvisorLogo:function(){if(e.device.isIE11p){var t=e.settings.isDarkTheme()?"-darktheme":"";this.$talogo.attr("src","/assets/maps/logo-ta-owl"+t+".svg")}},_onTitleClick:function(t){t.stopPropagation(),this._openMap(),e.pixel.fire("map_cta","title"),this.answer.engaged()},_onDirectionsClick:function(){e.pixel.fire("dir_loc",this.answer.pixelId),this.answer.engaged(),this._openDirections()},_onWebsiteClick:function(){e.pixel.fire("ia_website_cta",this.answer.pixelId)},_onCallClick:function(){e.pixel.fire("ia_call_cta","btn",this.answer.pixelId)},_onTabNavClick:function(t){t.preventDefault(),this.activeTabId=$(t.target).data().tabNav,this.$tabnav.each(function(e,t){var i=$(t).data().tabNav;$(t).toggleClass("is-active",i===this.activeTabId)}.bind(this)),this.$tabcontent.each(function(e,t){var i=$(t).data().tabContent;$(t).toggleClass("is-hidden",i!==this.activeTabId)}.bind(this)),e.pixel.fire("iatab")},_onHoursToggleClick:function(t){t.preventDefault(),this.model.toggleHoursExpand(),this.answer.engaged(),e.pixel.fire("ia_hours_toggle")},_onReviewsToggleClick:function(t){t.preventDefault(),this.model.toggleReviewsExpand(),e.pixel.fire("ia_reviews_toggle",this.answer.pixelId),this.answer.engaged()},_onSocialClick:function(){e.pixel.fire("ia_social_click",this.answer.pixelId),this.answer.engaged()},_onHoursExpandedChange:function(){this.$hourstoggleicon.toggleClass("chevron--down",!this.model.hoursExpanded),this.$hourstoggleicon.toggleClass("chevron--up",this.model.hoursExpanded)},_onReviewsExpandedChange:function(){this.$reviewstoggleicon.toggleClass("chevron--down",!this.model.reviewsExpanded),this.$reviewstoggleicon.toggleClass("chevron--up",this.model.reviewsExpanded),this.$reviewscontainer.toggleClass("is-hidden",!this.model.reviewsExpanded)},_onPhoneClick:function(t,i){this.answer.engaged(),e.pixel.fire("ia_call_cta","link",this.answer.pixelId)},_onReviewsUpdate:function(){this.model.reviewsURL=e.localAPI.getPlaceReviewsURL(this.model),this._rerender()},_onExternalLinkClick:function(e){this.answer.clickedExternalLink(),this.answer.engaged(),t.prototype._onExternalLinkClick.call(this,e)},_onEmbedLoadingChange:function(){this._rerender()},_onThemeChange:function(){this._updateTripadvisorLogo()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlaceListItem=function(e){this._ops=e||{},"applemaps"===e.model.sourceId&&e.model.addressLines&&e.model.addressLines.length>1&&(this._ops.addressLine2=this._ops.model.addressLines[1]),t.call(this,this._ops),this.answer=e.answer,this.bindEvents([[this.model,"change:selected",this._onSelectedChanged],[this.model,"change:image",this._onImageLoaded]]),this.engagedPixelParams={listItemNum:this.model.number}},e.Views.Places.PlaceListItem.prototype=$.extend({},t.prototype,{template:"place_list_item",_render:function(){t.prototype._render.call(this,$.extend({},this._ops,this.model)),this._cacheElems(".js-place-list-item",["title","directions","call","website","details","image"]),this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.$details,"click",this._onClick],[this.$image,"click",this._onClick],[this.$directions,"click",this._onDirectionsClick],[this.$website,"click",this._onWebsiteClick],[this.$call,"click",this._onCallClick]])},_onClick:function(t){t.stopPropagation(),this.answer.engaged(this.engagedPixelParams),this.model.selected||this.model.select(),"maps_places"===this.answer.id&&("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places",iai:this.model.itemId||this.model.id})):e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0}))},_onSelectedChanged:function(){this.model.selected?e.history.set({iai:this.answer.getQuerystringItemId(this.model)}):e.history.clear("iai")},_onMouseEnter:function(e){this.model.highlight()},_onMouseLeave:function(e){this.model.unhighlight()},_onImageLoaded:function(){this._rerender()},_onCallClick:function(t){e.pixel.fire("ia_call_cta",this.answer.pixelId)},_onWebsiteClick:function(t){e.pixel.fire("ia_website_cta",this.answer.pixelId)},_onExternalLinkClick:function(e){e.stopPropagation(),this.answer.clickedExternalLink(),this.answer.engaged(this.engagedPixelParams),t.prototype._onExternalLinkClick.call(this,e)},_onDirectionsClick:function(t){t.stopPropagation(),e.pixel.fire("dir_loc",this.answer.pixelId),this.answer.engaged(this.engagedPixelParams),this._openDirections()},_openDirections:function(){e.directionsModel.canRetryLocationSearch=!1,e.directionsModel.setLocation({type:"end",what:this.model.name,where:this.model.address,display:this.model.name}),e.directionsModel.set("endDisplay",this.model.name),e.directionsModel.userLocation&&e.directionsModel.setLocationToUserLocation("start"),this.answer.isMapExpanded?(this.answer.set("isDirectionsActive",!0),e.directionsModel.onDirectionsAction()):("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"directions",source:"directions",start:null,end:window.utils.encodeDirectionsStartEndForUrlQueryParam({value:this.model.name,suggestion:{what:this.model.name,where:this.model.address,lat:this.model.lat,lon:this.model.lon}})})):e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0,isDirections:!0}),e.directionsModel.hasResults&&e.directionsModel.onDirectionsAction())}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlaceHours=function(e){t.call(this,e),this._cacheElems(".js-place-hours",["close"]),this.bindEvents([[this.$close,"click",this._onCloseClick],[this.model,"change:hoursExpanded",this._toggle]])},e.Views.Places.PlaceHours.prototype=$.extend({},t.prototype,{template:"place_hours",_render:function(){t.prototype._render.call(this,this.model)},_toggle:function(){this.$el.toggleClass("is-hidden")},_onCloseClick:function(){this.model.toggleHoursExpand()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlacePriceRange=function(e){e.model={priceRange:e.priceRange,numberOfPriceSymbols:parseInt(e.priceRange)},e.model.priceSymbolList=[];for(var i=0;i<4;i++)e.model.priceSymbolList.push({isFilled:i<e.model.numberOfPriceSymbols});t.call(this,e)},e.Views.Places.PlacePriceRange.prototype=$.extend({},t.prototype,{template:"place_price_range",_render:function(){t.prototype._render.call(this,this.model),this._cacheElems(".js-place-price-range",["subel1","subel2"])}})}(DDG),function(e){var t=e.Views.Base,i="http://www.w3.org/2000/svg",s="#666666",a={t:15,l:14,n:12,m:11,s:10};e.Views.Places.PlacePopularHours=function(i){this.hoursData=i.hoursData,t.call(this,i),this.bindEvents([[e.settings,"change:"+e.settings.THEME_KEY,this._onThemeChange],[e.settings,"change:ks",this._onFontSizeChange],[e.device,"resize",this._onResize]])},e.Views.Places.PlacePopularHours.prototype=$.extend({},t.prototype,{template:"place_popular_hours",_render:function(){t.prototype._render.call(this),this._drawChart()},_drawChart:function(){var t=this.$el.width(),i=(t-2-1)/24,a=t-1;this.hourWidth=i,this._createSVG({width:t,height:30}),this._setTitle(),this._setDescription(),this._drawLine({start:{x:1,y:8},end:{x:a,y:8},lineColor:s,lineWidth:1,opacity:.6}),this.model.hoursToday.forEach(function(e){var t,i,s=e.start.getHours(),a=e.end.getHours();s<6&&a>6?(t=this._getHourOffset(s,"start"),i=24,this._drawHourRange(t,i,1),t=0,i=this._getHourOffset(a,"end"),this._drawHourRange(t,i,1)):(t=this._getHourOffset(s,"start"),i=this._getHourOffset(a,"end"),this._drawHourRange(t,i,1))}.bind(this));for(var o=0;o<25;o++){var n=1.5+o*i,r=o%3==0,l=0===o,d=24===o;if(this._drawLine({start:{x:n,y:r?1:3},end:{x:n,y:8},lineColor:s,lineWidth:1,opacity:r?.6:.2}),r){var c;if(l)c=n-1;else if(d){c=n-("t"===e.settings.get("ks")||"l"===e.settings.get("ks")?26:21)}else c=n-8;var h=new Date(2012,11,20,o+6,0,0),p=o+6;window.Intl&&(p=new Intl.DateTimeFormat([],{hour:"numeric"}).format(h).toLowerCase().split(" ").join("")),this._drawText({x:c,y:24,text:p,color:s})}}},_getHourOffset:function(e,t){return 6===e?"start"===t?0:24:e<6?e+6+12:e-6},_drawHourRange:function(e,t,i){var s=e*this.hourWidth,a=t*this.hourWidth+1;this._drawRectangle({x:s,y:i+2,width:a-s,height:4.5})},_setTitle:function(){var e=document.createElementNS(i,"title"),t=document.createTextNode(this.model.title||"Popular hours today");e.appendChild(t),e.setAttribute("id","popular-hours-title"),this.svg.appendChild(e)},_setDescription:function(){var e=document.createElementNS(i,"desc"),t=document.createTextNode(this.model.hoursTodayDisplay.hours||"");e.setAttribute("id","popular-hours-descr"),e.appendChild(t),this.svg.appendChild(e)},_drawRectangle:function(e){if(!e||!isFinite(e.x)||!isFinite(e.y))throw"x or y coordinate invalid";if(!e.width||!e.height)throw"width or height missing";var t=document.createElementNS(i,"rect");t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("fill",e.color||DDG.settings.isDarkTheme()?"#CCDAFF":"#ADC2FC"),DDG.settings.isDarkTheme()&&t.setAttribute("opacity",.4),this.svg.appendChild(t)},_drawText:function(t){if(!t||!isFinite(t.x)||!isFinite(t.y))throw"x or y coordinate invalid";var o=document.createElementNS(i,"text"),n=document.createTextNode(t.text||"");o.setAttribute("x",t.x),o.setAttribute("y",t.y),o.setAttributeNS(null,"font-size",a[e.settings.get("ks")]||12),o.appendChild(n),o.setAttribute("fill",t.color||s),o.setAttribute("aria-hidden","true"),this.svg.appendChild(o)},_drawLine:function(e){if(!e||!e.start||!e.end)throw"Start or end object missing";var t=document.createElementNS(i,"line");t.setAttribute("stroke",e.lineColor||"black"),t.setAttribute("stroke-width",e.lineWidth||1),t.setAttribute("opacity",e.opacity||.6),t.setAttribute("class",e.className||""),t.setAttribute("x1",e.start.x),t.setAttribute("y1",e.start.y),t.setAttribute("x2",e.end.x),t.setAttribute("y2",e.end.y),this.svg.appendChild(t)},_createSVG:function(e){if(!e||!("width"in e)||!("height"in e))throw"missing width or height";var t=document.createElementNS(i,"svg");t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("viewBox","0 0 "+e.width+" "+e.height),t.setAttribute("aria-labelledby","popular-hours-title popular-hours-desc"),t.setAttribute("role","figure"),this.$el.append(t),this.svg=t},_onThemeChange:function(){this._rerender()},_onResize:function(){this._rerender()},_onFontSizeChange:function(){this._rerender()}})}(DDG),function(e){var t=e.Views.Base,i={phone:lp("maps_places","Phone"),hours:lp("maps_places","Regular Hours Today"),streetaddress:lp("maps_places","Address")};e.Views.Places.PlaceSnippet=function(e){this.answer=e.answer,this.item=e.answer.items[0]||{},this.infoSelector=e.answer.infoSelector||"",t.call(this,e)},e.Views.Places.PlaceSnippet.prototype=$.extend({},t.prototype,{template:"place_snippet",_render:function(){var i={title:this._getTitle(),name:this.item.name,infoType:this._getInfoTypeLabel(),url:this._getLinkUrl(),action:"streetaddress"===this.infoSelector};t.prototype._render.call(this,i),this._cacheElems(".js-place-snippet",["subtitle-name","trigger"]),this.bindEvents([[this.$subtitlename,"click",this._onSubtitleNameClicked],[this.$trigger,"click",this._onTriggerClicked]]),e.pixel.fire("sn_l",{infoSelector:this.infoSelector})},_getTitle:function(){return this.item.snippetInfoMap[this.infoSelector]},_getInfoTypeLabel:function(){var e=i[this.infoSelector];return e?", "+e:""},_getLinkUrl:function(){return"phone"===this.infoSelector?"tel:"+this.item.phone:null},_openExpandedMap:function(){"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places"})):e.router.navigate("toggle-map",{model:this.answer,isMapExpanded:!0}),this.answer.engaged({snippet:this.infoSelector})},_onTriggerClicked:function(e){e.preventDefault(),this._openExpandedMap()},_onSubtitleNameClicked:function(e){e.preventDefault(),this._openExpandedMap()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlaceDetailHotelAdLabel=function(i){this.tooltip=new e.Views.TooltipMixin(this),t.call(this,i)},e.Views.Places.PlaceDetailHotelAdLabel.prototype=$.extend({},t.prototype,{template:"place_detail_hotel_ad_label",_render:function(e){t.prototype._render.call(this,e),this.tooltip.setup({$triggerElement:this.$el,content:new DDG.Views.Places.PlaceDetailsHotelAdsTooltip({}),appendTo:e.isMapExpanded?$(".js-vertical-map"):void 0,extraClass:e.isMapExpanded?"tooltip-expanded-map":void 0})}})}(DDG),function(e){var t=e.Views.Base;e.Views.Places.PlaceDetailsHotelAdsTooltip=function(e){t.call(this,e)},e.Views.Places.PlaceDetailsHotelAdsTooltip.prototype=$.extend({},t.prototype,{template:"place_details_hotel_ads_tooltip"})}(DDG),function(e){var t=e.Views.Base;e.Views.OpenInApp=function(i){t.call(this,i),this.bindEvents([[e.settings,"change:"+e.settings.THEME_KEY,this._setDeepLink]])},e.Views.OpenInApp.prototype=$.extend({},t.prototype,{template:"open_in_app",_render:function(){$(".js-header-logo").addClass("header__logo-wrap--offset"),t.prototype._render.call(this,{}),this._cacheElems(".js-open-in-app",["link"]),this._firePixel("render"),this._setDeepLink(),this.bindEvents([[this.$link,"click",this._onClick]])},destroy:function(){t.prototype.destroy.call(this)},_setDeepLink:function(){this.$link.attr("href",this.model.createAppQueryUrl({campaign:"oia"}))},_onClick:function(){this._firePixel("click")},_firePixel:function(t){var i;switch(t){case"render":i="oiai";break;case"click":i="oiac";break;default:return}e.pixel.fire(i)}})}(DDG),function(e){var t=e.Models.Base;e.Models.AnomalyModal=function(e){t.call(this,e),this.determineFileNames(e.p),this.selectedTiles={}},e.Models.AnomalyModal.prototype=$.extend({},t.prototype,{determineFileNames:function(e){this.tiles=e.split("-").map((function(e){return e+".jpg"}))},toggleTile:function(e){var t=this.tiles[e];t&&(this.selectedTiles[t]=!this.selectedTiles[t])},getAnswer:function(){return Object.keys(this.selectedTiles).filter((function(e){return this.selectedTiles[e]}),this).map((function(e){return/\w+/.exec(e)||""})).sort().join("-")}})}(DDG),function(e){var t=e.Models.Base;e.Models.Maps.Autocomplete=function(e){this.answer=e.answer||{},t.call(this,e)},e.Models.Maps.Autocomplete.prototype=$.extend({},t.prototype,{totalRequested:0,lastReceived:0,suggestions:[],currentQuery:"",clearData:function(){this.suggestions=[],this.currentQuery=""},isBangQuery:function(e){return!1},getSuggestion:function(e){return void 0===e?{}:this.suggestions&&this.suggestions.length>=e?this.suggestions[e]:{}},getSuggestions:function(t){if(t){this.currentQuery=t;var i=this._getOptions(),s=this.totalRequested++;w.mapkit?(this.mapkitSearch||(this.mapkitSearch=new w.mapkit.Search),this.mapkitSearch.autocomplete(t,function(e,t){e||this._onSuggestionsReceived(t,s)}.bind(this),i)):(i.q=t,i.resultTypeFilter="address,poi",i.mkjsVersion="5.77.6",e.mapkit.autocomplete(i,function(e){this._onSuggestionsReceived(e,s)}.bind(this)))}else this.set("suggestions",[])},_getOptions:function(){if("directions"===this.answer.id){var e=this.answer.data&&this.answer.data[0]&&this.answer.data[0].user_location;e&&e.lat&&e.lon&&(e.lat=parseFloat(e.lat),e.lon=parseFloat(e.lon))}var t=this.answer.geo_bbox||this.answer.approx_geo_bbox||e,i={language:"en"};if(t)if(w.mapkit){var s=new w.mapkit.Coordinate(t.lat,t.lon),a=new w.mapkit.CoordinateSpan(t.lat_delta,t.lon_delta),o=new w.mapkit.CoordinateRegion(s,a);i.region=o,i.coordinate=s}else i.searchRegion=t.lat+","+t.lon+","+t.lat+","+t.lon;return i},_onSuggestionsReceived:function(e,t){if(!(t<this.lastReceived||("directions"===this.answer.id||this.answer.isDirectionsActive)&&e.query===lp("directions","Your Location")))if(this.lastReceived=t,e&&e.results&&!this.answer.isRequerying&&this.currentQuery){for(var i=e.results,s=[],a=0;a<i.length;a++){var o=i[a];if((o=this._formatSuggestion(o)).where&&o.where.match(new RegExp(lp("vertical_map","Search Near My Location"),"i"))&&!o.what.match(/location|position/gi)){o.isNearby=!0;var n=$.extend(!0,{},o);n.where=lp("vertical_map","Search Current Map Area"),n.type="area",this.answer.isDirectionsActive||"directions"===this.answer.id||s.push(n)}(this.answer.isDirectionsActive||"directions"===this.answer.id)&&o.isNearby||s.push(o)}this.set("suggestions",s)}else this.set("suggestions",[])},_formatSuggestion:function(e){if(!e)return{};var t=e.displayLines;return e.metadata=this._parseMetadata(e._completionUrl),t&&t.length>0&&(e.what=t[0],e.where=t.length>1?t[1]:"","search nearby"===e.where.toLowerCase()&&(e.where=lp("vertical_map","Search Near My Location"),e.type="nearby")),delete e.displayLines,delete e._completionUrl,e},_parseMetadata:function(e){if(e){var t=e.match(/\&metadata\=/)?e.replace(/^.*\&metadata\=/,""):"";return t=decodeURIComponent(t)}}})}(DDG),function(e){var t=e.Models.Base,i={drive:{id:"drive",text:"AUTOMOBILE",printDisplay:lp("directions","Driving")+" "+lp("directions","Directions")},walk:{id:"walk",text:"WALKING",printDisplay:lp("directions","Walking")+" "+lp("directions","Directions")}};e.Models.Maps.Directions=function(i){i=i||{},this.start=i.start||null,this.end=i.end||null,this.startDisplay=i.startDisplay||null,this.endDisplay=i.endDisplay||null,this.searchBoxValue={start:"",end:""},this.isStartUpdating=!1,this.isEndUpdating=!1,this.routeList=[],this.canRoute=!1,this.isRouting=!1,this.hasResults=!1,this.isMapLoaded=!1,this.isPrintPreviewOpen=!1,this.canRetryLocationSearch=!0,this.userLocationDirectionType=null,i.userLocation&&i.userLocation.lat&&i.userLocation.lon?this.addUserLocation({lat:i.userLocation.lat,lon:i.userLocation.lon}):this.fetchUserLocation(),e.device.isMobileDevice&&(this.externalMapProvider=e.device.isIDevice?"apple":"google",this.externalMapProviderDisplay="apple"===this.externalMapProvider?"Apple Maps":"Maps App"),this._setCurrentTransportType(i.transportType||"drive"),t.call(this,i),this.on("change:start",this._onLocationChange.bind(this,"start")),this.on("change:end",this._onLocationChange.bind(this,"end")),this.on("change:isStartUpdating",this._onLocationUpdatingChange),this.on("change:isEndUpdating",this._onLocationUpdatingChange),e.router.add("directions",this._handleDirections.bind(this))},e.Models.Maps.Directions.prototype=$.extend({},t.prototype,{onDirectionsAction:function(t){t&&t.start&&(this.setLocation({type:"start",what:t.start.what,where:t.start.where,coordinate:t.start.coordinate,display:t.start.display}),t.start.display&&this.set("startDisplay",t.start.display)),t&&t.end&&(this.setLocation({type:"end",what:t.end.what,where:t.end.where,coordinate:t.end.coordinate,display:t.end.display}),t.end.display&&this.set("endDisplay",t.end.display)),t&&t.transport&&("drive"===t.transport||"walk"===t.transport)&&this._setCurrentTransportType(t.transport),this.start&&this.end&&e.router.navigate("directions",t)},_handleDirections:function(t){e.history.get("bbox")&&e.history.clear("bbox"),e.history.get("strict_bbox")&&e.history.clear("strict_bbox"),e.history.get("iai")&&e.history.clear("iai"),t&&t.state?t.state.start||t.state.end?(["start","end"].map(function(i){if(t.state[i]){e.history.set(i,t.state[i]);var s=decodeURIComponentSafe(e.history.getComposite(i,"what")),a=decodeURIComponentSafe(e.history.getComposite(i,"where"));this.setLocation({type:i,what:s,where:a,display:s||a})}else e.history.clear(i),this.setLocationToUserLocation(i)}.bind(this)),t.state.transport&&(e.history.set("transport",t.state.transport),this._setCurrentTransportType(t.state.transport))):t&&t.state&&(e.history.clear("start"),e.history.clear("end"),e.history.clear("transport"),this.set("start",null),this.set("routeList",[])):this.isStartUpdating||this.isEndUpdating||this._updateRouteHistory(),!this.start&&!this.end||t&&t.noRouting||this.isRouting||this.route()},_updateComposite:function(t){var i=this[t];this._isRawLocation(i)?e.history.setComposite(t,"what",encodeURIComponent(i)):(i&&i.what?e.history.setComposite(t,"what",encodeURIComponent(i.what)):e.history.getComposite(t,"what")&&e.history.clearComposite(t,"what"),i&&i.where?e.history.setComposite(t,"where",encodeURIComponent(i.where)):e.history.getComposite(t,"where")&&e.history.clearComposite(t,"where"))},_updateRouteHistory:function(){e.history.set("iaxm","directions"),this._updateComposite("start"),this._updateComposite("end"),e.history.set("transport",this.currentTransportType.id)},_isRawLocation:function(e){if(e)return"string"==typeof e;throw"Invalid location"},fetchUserLocation:function(t){if(this.userLocation&&$.isFunction(t))t(this.userLocation);else if(e.userLocator.hasLocation()){var i={lat:e.userLocator.userLocation.lat,lon:e.userLocator.userLocation.lon};this.addUserLocation(i),$.isFunction(t)&&t(i)}else e.userLocator.fetchGeoIPLocation(function(e){e&&e.isValid()&&(this.addUserLocation(e),$.isFunction(t)&&t(e))}.bind(this))},addUserLocation:function(e){e.lat&&e.lon&&this.set("userLocation",{lat:parseFloat(e.lat),lon:parseFloat(e.lon)})},setLocationToUserLocation:function(e){this.setLocation({type:e,coordinate:this.userLocation,display:lp("directions","Your Location")}),this.set(e+"Display",lp("directions","Your Location"))},setLocation:function(t){var i={};if(t.what&&(i.what=t.what),t.where&&(i.where=t.where),t.coordinate&&(i.coordinate=t.coordinate),t.display&&(i.display=t.display),t.rawLocation&&(i.rawLocation=t.rawLocation),i.what||i.where||i.coordinate){var s=new e.Models.Maps.Location(i);this.set("start"===t.type?"start":"end",s)}},route:function(t,i){var s;if((this.directions=this.directions||w.mapkit&&new w.mapkit.Directions,i||this.directions)&&(t&&this._setCurrentTransportType(t),this.canRoute))if(!i&&this.requestID&&this.directions.cancel(this.requestID),this.set("isRouting",!0),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&(s=window.utils.createDirectionsQueryUrl({origin:{value:this.start.get(!0)},destination:{value:this.end.get(!0)},transportType:"drive"===this.currentTransportType.id?"automobile":"walking"})),i){var a={wps:'[{"q":"'+this.start.get("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp"))+'"},{"q":"'+this.end.get("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp"))+'"}]',transport:this.currentTransportType.text,n:"3",lang:"en",mkjsVersion:"5.77.6"};this.data=null,e.mapkit.directions(a,function(t){this.data=t,s&&e.page&&e.page.directionsCache&&t&&t.origin&&t.origin.center&&t.destination&&t.destination.center&&Array.isArray(t.routes)&&Array.isArray(t.steps)&&Array.isArray(t.stepPaths)&&t.routes.length&&e.page.directionsCache.set(s,window.utils.normalizeDirectionsResponse(t)),this._onRouteCompleted(null,t,!0)}.bind(this))}else this.data=null,this.requestID=this.directions.route({origin:this.start.get(),destination:this.end.get(),transportType:this.currentTransportType.text,requestsAlternateRoutes:!0},function(t,i){t||(this.data=i,i&&s&&e.page&&e.page.directionsCache&&e.page.directionsCache.set(s,i)),this._onRouteCompleted(t,i),this.requestID=null}.bind(this))},tryToRoute:function(){this.canRoute&&e.mapkit.init(function(e,t){t&&this.onDirectionsAction()}.bind(this))},updateCanRouteStatus:function(e,t){e&&(this.searchBoxValue[e]=t||"",this.set("canRoute",this.searchBoxValue.start.length>0&&this.searchBoxValue.end.length>0))},selectRoute:function(e,t){e&&1!==this.routeList.length&&(t||this.collapseAllRoutes(),this.routeList.forEach((function(t){t.set("isSelected",t.name===e)})))},toggleRoute:function(e){e&&(this.selectRoute(e,!0),this.routeList.forEach((function(t){t.name===e?t.set("isExpanded",!t.isExpanded):t.set("isExpanded",!1)})))},collapseAllRoutes:function(){this.routeList.forEach((function(e){e.set("isExpanded",!1)}))},autocompleteLocation:function(t,i){if(t.loc&&t.type){i||this.mapkitSearch||!w.mapkit||(this.mapkitSearch=new w.mapkit.Search);var s={includeAddresses:!0,includePointsOfInterest:!0,includeQueries:!1};if(t.locationHint||this.userLocation){var a=t.locationHint||this.userLocation;i||!w.mapkit?s.region=a.lat+","+a.lon+","+a.lat+","+a.lon:s.coordinate=new w.mapkit.Coordinate(a.lat,a.lon)}if(i||!this.mapkitSearch){var o={q:t.loc,resultTypeFilter:"address,poi",searchRegion:s.region};e.mapkit.search(o,function(e){this._updateLocation(e,t)}.bind(this))}else this.mapkitSearch.autocomplete(t.loc,function(e,i){e||this._updateLocation(i,t)}.bind(this),s)}},formatDisplayLocation:function(e,t){var i=e||"";return t&&"United States"!==t&&(i=i+", "+(t=t.replace(/(, United States$)/,""))),i=i.replace(/ +/g," ")},reverseDirections:function(){if(this.start||this.end){var t={start:null,coordStart:null,startDisplay:null,end:null,coordEnd:null,endDisplay:null};this.end&&(t.start={type:"start",what:this.end.what,where:this.end.where,coordinate:this.end.coordinate,display:this.end.display,rawLocation:this.end.rawLocation},t.coordStart=this.coordEnd,t.startDisplay=this.endDisplay),this.start&&(t.end={type:"end",what:this.start.what,where:this.start.where,coordinate:this.start.coordinate,display:this.start.display,rawLocation:this.start.rawLocation},t.coordEnd=this.coordStart,t.endDisplay=this.startDisplay),this.set("startDisplay",t.startDisplay),this.set("coordStart",t.coordStart),this.set("endDisplay",t.endDisplay),this.set("coordEnd",t.coordEnd),t.start?this.setLocation(t.start):this.set("start",null),t.end?this.setLocation(t.end):this.set("end",null),this.start&&this.end&&e.router.navigate("directions")}},_updateLocation:function(e,t){var i=this._processAutocompleteResults(e,t);this.set(t.type+"Display",i.display),this.setLocation({type:t.type,what:i.what,where:i.where,display:i.display,rawLocation:i.rawLocation,coordinate:i.coordinate}),t.callbackFn&&$.isFunction(t.callbackFn)&&t.callbackFn(i.display)},_getFormattedAddress:function(e){if(e)return e.formattedAddressLines||e.displayLines},_processAutocompleteResults:function(e,t){var i={what:"",where:"",display:"",rawLocation:"",coordinate:{lat:"",lon:""}};try{var s="",a="",o="",n="",r="";if(e.results&&e.results.length>0)var l=this._getFormattedAddress(e.results[0]),d=this._getFormattedAddress(e.results[1]);if(e.results&&(e.results[0].name||l||d)){var c;c=l&&l.length>0?e.results[0]:d&&d.length>0?e.results[1]:e.results[0];var h=this._getFormattedAddress(c);if(c.name&&!h)a=c.name,n=c.name;else if(!c.name||h[0].startsWith(c.name)){a=h[0],n=h[0];for(var p=1;p<h.length;p++)o=o+(o.length>0?", ":"")+h[p],"United States"!==h[p]&&(r=r+(r.length>0?", ":"")+h[p])}else{a=c.name,n=c.name;for(var u=0;u<h.length;u++)o=o+(o.length>0?", ":"")+h[u],"United States"!==h[u]&&(r=r+(r.length>0?", ":"")+h[u])}s=(s=n+(r?", "+r:"")).replace(/ +/g," "),i.what=a,i.where=o,i.display=s,i.rawLocation=t.loc,c.center&&c.center.lat&&c.center.lng&&(i.coordinate.lat=c.center.lat,i.coordinate.lon=c.center.lng)}else i.what=e.query||t&&t.loc,i.display=e.query||t&&t.loc}catch(m){}return i},_setStartEndCoords:function(e,t){if(t){var i=e.origin&&e.origin.center,s=e.destination&&e.destination.center;if(!i||!s)return;this.set("coordStart",{latitude:i.lat,longitude:i.lng}),this.set("coordEnd",{latitude:s.lat,longitude:s.lng})}else if(e.routes&&e.routes.length>0){var a=e.routes[0].steps[1],o=e.routes[0].steps[e.routes[0].steps.length-2];if(!a||!o)return;this.set("coordStart",a.path[0]),this.set("coordEnd",o.path[o.path.length-1])}else this.set("coordStart",null),this.set("coordEnd",null)},_setCurrentTransportType:function(e){e&&e in i&&this.set("currentTransportType",i[e])},_canRoute:function(){return this.start&&"object"==typeof this.start&&this.end&&"object"==typeof this.end&&!this.isStartUpdating&&!this.isEndUpdating},_onRouteCompleted:function(t,i,s){if(this.set("isRouting",!1),this._setStartEndCoords(i,s),!i||!i.routes||0===i.routes.length)return this.set("hasResults",!1),void this.set("routeList",[]);this.hasResults=!0,this.numberOfRoutes=i.routes.length,this.routeList=[];var a,o=0,n=i.routes.map(function(t,n){s&&(t.steps=[],t.path=[],t.stepIndexes.forEach((function(e){t.steps.push(i.steps[e]),t.path.push(i.stepPaths[e])}))),t.index=n;var r=new e.Models.Maps.DirectionsRoute({route:t,directionsModel:this});return a>t.expectedTravelTime&&(o=n,a=t.expectedTravelTime),1===this.numberOfRoutes&&r.set("isExpanded",!0),r}.bind(this));n[o].set("isFastestRoute",!0),this.set("fastestRoute",n[o]),this.fastestRoute.set("isSelected",!0),this.set("routeList",n)},_onLocationChange:function(e){this.userLocationDirectionType!==e||this[e]&&this[e].display===lp("directions","Your Location")||this.set("userLocationDirectionType",null),this[e]&&this[e].display===lp("directions","Your Location")&&this.set("userLocationDirectionType",e),this.set("canRoute",this._canRoute())},_onLocationUpdatingChange:function(){this.set("canRoute",this._canRoute()),this.tryToRoute()}})}(DDG),function(e){var t=e.Models.Base;e.Models.Maps.DirectionsRoute=function(i){if(this.directionsModel=i.directionsModel,i.route){i.route.steps=this._processSteps(i.route.steps);var s=i.route.expectedTravelTime||i.route.durationSeconds||0,a=i.route.distance||i.route.distanceMeters||0;t.call(this,{index:i.route.index,name:i.route.name,expectedTravelTime:s,expectedTravelTimeFormatted:this._convertMinutes(s),distance:a,distanceFormatted:e.geo.formatDistance(a,e.geo.getRoadDistanceUOM()),steps:i.route.steps,path:i.route.path,polyline:i.route.polyline})}},e.Models.Maps.DirectionsRoute.prototype=$.extend({},t.prototype,{_convertMinutes:function(e){var t=Math.floor(e/60);return Math.floor(t/60)+" h "+t%60+" min"},_processSteps:function(t){var i=[],s=e.geo.getRoadDistanceUOM();i=t.map((function(t){var i=t._imageUrl||t.maneuver&&t.maneuver.arrowUrl;t._imageUrl||(i="//cdn2.apple-mapkit.com"+i),i&&(t.imageUrl=i.replace("{{scale}}","1"),t.imageUrl=t.imageUrl.replace(/\{\{.*\}\}/,""),e.settings.isDarkTheme()&&(t.imageUrl=t.imageUrl.replace("arrowFill=000000","arrowFill=cccccc")));var a=t.distance||t.distanceMeters;return a&&(t.stepHeader=e.geo.formatDistance(a,s)),t}));var a=this.directionsModel.start,o=this.directionsModel.end,n={stepHeader:a.what||this.directionsModel.startDisplay||a.where,instructions:a.what&&a.where?a.where:null,imageUrl:"/assets/maps/directions-marker-black.svg"},r={stepHeader:o.what||this.directionsModel.endDisplay||o.where,instructions:o.what&&o.where?o.where:null,imageUrl:"/assets/maps/directions-marker-red.svg"};return i.shift(),i.unshift(n),i.push(r),i}})}(DDG),function(e){var t=e.Models.Base;e.Models.Maps.DirectionsRouteStep=function(e){t.call(this,e)},e.Models.Maps.DirectionsRouteStep.prototype=$.extend({},t.prototype,{})}(DDG),function(e){var t=e.Models.Base;e.Models.Maps.Location=function(e){this.what=e.what||null,this.where=e.where||null,this.coordinate=e.coordinate||null,this.display=e.display||null,this._setMapkitCoordinate(),t.call(this,e)},e.Models.Maps.Location.prototype=$.extend({},t.prototype,{get:function(e){return this.what||this.where?this.getAsText():this.mkCoordinate?e?this.mkCoordinate.latitude+","+this.mkCoordinate.longitude:this.mkCoordinate:this.coordinate?(this._setMapkitCoordinate(),e?this.coordinate.lat+","+this.coordinate.lon:this.mkCoordinate||this.coordinate.lat+","+this.coordinate.lon):void 0},getAsText:function(){var e="";return this.what&&(e+=this.what),this.where&&(e=this.what?e+", "+this.where:e+this.where),this.what||this.where||(e="Your Location"),e},_setMapkitCoordinate:function(){w.mapkit&&this.coordinate&&this.coordinate.lat&&this.coordinate.lon&&(this.mkCoordinate=new w.mapkit.Coordinate(parseFloat(this.coordinate.lat),parseFloat(this.coordinate.lon)))}})}(DDG),function(e){var t=e.Models.Base,i={wiki_maps_trigger:[{addTo:"maps"}],imdb_id:[{dataTypeOverride:"imdb_title_id",matching:/^tt/,addTo:"profiles"},{dataTypeOverride:"imdb_name_id",matching:/^nm/,addTo:"profiles"}],rotten_tomatoes:[{matching:/^(tv|m)/,addTo:"profiles"}],twitter_profile:[{addTo:"profiles"}],instagram_profile:[{addTo:"profiles"}],youtube_channel:[{addTo:"profiles"}],facebook_profile:[{addTo:"profiles"}],spotify_artist_id:[{addTo:"profiles"}],soundcloud_id:[{addTo:"profiles"}]};e.Models.Modules.AboutInfoBox=function(e){this._defaultVisibleRows=e.minimizeHeight?0:3,this.maps=[],this.profiles=[],t.call(this,this.transform(e))},e.Models.Modules.AboutInfoBox.prototype=$.extend({},t.prototype,{toggleExpand:function(){if(this.canExpand()){for(var e=0;e<this.items.length;e++)this.items[e].visible=!this.expanded||e<this._defaultVisibleRows;this.set("expanded",!this.expanded)}},canExpand:function(){return this.items.length>this._defaultVisibleRows},transform:function(e){var t;if(e.Infobox&&((t=e.Infobox.content).forEach(function(e){if(e&&e.value){var t=i[e.data_type];t&&t.forEach(function(t){t.matching&&!e.value.match(t.matching)||(t.dataTypeOverride&&(e.data_type=t.dataTypeOverride),this[t.addTo].push(e))}.bind(this))}}.bind(this)),t=t.filter((function(e){if(e&&e.value&&e.data_type){var t=typeof e.value;if("string"===t&&"["===e.value.charAt(0)||"Website"===e.label)return!1;if(-1!==["string","object"].indexOf(t)&&-1!==["string","template"].indexOf(e.data_type))return!0}return!1}))),t){e.hasItems=!0;for(var s=0;s<t.length&&s<this._defaultVisibleRows;s++)t[s].visible=!0;e.items=t}return e}})}(DDG),function(e){var t=e.Models.Base;e.Models.Modules.AboutHeader=function(i){i.location&&(this.mapLocation=new e.Models.AnswerItems.MapLocation(i.location)),t.call(this,i),this.staticMapTitle=lp("maps_places","Open Expanded Map"),this.loadMap()},e.Models.Modules.AboutHeader.prototype=$.extend({},t.prototype,{loadMap:function(){this.mapURL&&(this.mapURL=this.mapURL.replace("&cb=ddg_spice_maps_maps",""),$.ajax({url:this.mapURL,dataType:"json",success:this._onMapLoaded.bind(this),error:this._onMapError.bind(this)}))},_onMapLoaded:function(t){if(this.mapResponse=DDG.localAPI.getMapsResponse(t),this.mapResponse.results&&this.mapResponse.results.length){var i=new e.Models.AnswerItems.MapLocation(this.mapResponse.results[0]);this.set("mapLocation",i)}else this.set("mapFailed",!0)},_onMapError:function(){this.set("mapFailed",!0)}})}(DDG),function(e){var t=e.Models.Base,i=["film","television"],s={official_site:{url:"{{val}}",icon:"globe",darkThemeIcon:"globe_dark",name:"Website",sort:1},wikipedia:{url:"{{val}}",icon:"wikipedia28px",darkThemeIcon:"wikipedia28px_dark",name:"Wikipedia",sort:2},twitter_profile:{url:"https://twitter.com/{{val}}",icon:"x28px",darkThemeIcon:"x28px_dark",name:"X",sort:3},instagram_profile:{url:"https://instagram.com/{{val}}",icon:"instagram",name:"Instagram",sort:4},facebook_profile:{url:"https://facebook.com/{{val}}",icon:"facebook",name:"Facebook",sort:5},spotify_artist_id:{url:"https://open.spotify.com/artist/{{val}}",icon:"spotify",name:"Spotify",sort:6},imdb_title_id:{url:"https://www.imdb.com/title/{{val}}",icon:"imdb",name:"IMDb",sort:7},imdb_name_id:{url:"https://www.imdb.com/name/{{val}}",icon:"imdb",name:"IMDb",sort:8},rotten_tomatoes:{url:"https://www.rottentomatoes.com/{{val}}",icon:"rt",name:"Rotten Tomatoes",sort:9},youtube_channel:{url:"https://youtube.com/channel/{{val}}",icon:"youtube",name:"YouTube",sort:10},soundcloud_id:{url:"https://soundcloud.com/{{val}}",icon:"soundcloud",name:"SoundCloud",sort:11},itunes:{url:"{{val}}",icon:"apple",name:"iTunes",sort:12},amazon:{url:"{{val}}",icon:"amazon",name:"Amazon",sort:13}};e.Models.Modules.AboutProfiles=function(e){t.call(this,e),this.links=this._createLinks(this.data),this._isStreamable()&&this._tryAddingAmazon()},e.Models.Modules.AboutProfiles.prototype=$.extend({},t.prototype,{_createLinks:function(e){if(e&&e.length){var t=e.map(this._createLinkFromInfoboxData.bind(this));return t=t.sort((function(e,t){return e.sort>t.sort?1:-1}))}},_createLinkFromInfoboxData:function(e){return this._createLink(e.data_type,e.value)},_createLink:function(t,i){var a=s[t],o=a.url.replace("{{val}}",i),n=e.settings.isDarkTheme()&&a.darkThemeIcon?a.darkThemeIcon:a.icon,r="/assets/icons/thirdparty/{{icon}}.svg".replace("{{icon}}",n);return{url:o,name:a.name,icon:a.icon,iconURL:r,sort:a.sort}},_addLink:function(e,t){this.links.push(this._createLink(e,t)),this._emitChange("links",this.links)},_isStreamable:function(){if(i.indexOf(this.entity)>-1)return!0},_tryAddingAmazon:function(){$.ajax({url:"/m.js?q="+encodeURIComponent(this.title)+"&c=v&o=json&l="+e.settings.get("kl")+"&country="+window.ct,dataType:"json",success:function(e){e&&e.results&&e.results.length&&this._addLink("amazon",e.results[0].url)}.bind(this)})}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Covid19=function(e){e.country=window.ct,e.locale=window.locale,e.region=window.kl,t.call(this,e),this.countries=[],this._setCopy(e)},e.Models.Answers.Covid19.prototype=$.extend({},t.prototype,{getPixelData:function(){return{l:this.locale}},getCasesData:function(){var t=new Date,i=t.getDate()+"-"+t.getMonth()+"-"+t.getHours();$.getJSON("/covid_data/countries.json?"+i,function(t){try{for(var i,s=t.Countries,a=0,o=0;o<s.length;o++){"World"===(i=s[o])[0]&&(a=new Number(i[1])),this.countryName===i[0]&&(this.local=this._formatNumber(i[1]));var n=this._formatNumber(i[3]),r=this._formatNumber(i[4]);this.countries.push({location:i[0],isCountryMatch:this.countryName===i[0],cases:this._formatNumber(i[1]),deaths:this._formatNumber(i[2]),vaccinated:"-"===n?n:n+"%",fully_vaccinated:"-"===r?r:r+"%"})}this.updated=e.Utils.ParseDate.getFormattedDate(t.Updated,window.locale),a>0&&(this.world=this._formatNumber(a),this.set("loaded",!0))}catch(l){e.pixel.fire("jse","covid19",{e:l})}}.bind(this))},_formatNumber:function(t){var i=parseFloat(t);return window.isNaN(i)?"-":e.Utils.Formatting.formatNumberForLocale(i)},_setCopy:function(t){var i,s,a,o,n=[];t.region&&"wt-wt"!==t.region?(i=(a=t.region.split("-"))[0],s=a[1],"uk"===i&&(i="gb"),"in"===i&&"hi_IN"===t.locale&&(s="hi")):t.locale&&(i=(a=window.locale.split("_"))[1].toLowerCase(),s=a[0]),this.title=lp("Covid 19 module","Coronavirus Disease (COVID-19)"),this.subtitle=lp("Covid 19 module","Get the latest information:"),this.confirmed=lp("Covid 19 module","Confirmed Cases"),this.worldLabel=lp("Covid 19 module","World"),this.mapLinkText=lp("Covid 19 module","Worldwide Coverage Map"),this.moreStatsText="en"===s?lp("Covid 19 module","More statistics"):lp("additional","More"),this.tab1=lp("Covid 19 module","Summary"),this.tab2=lp("Covid 19 module","Tips"),this.tab3=lp("Covid 19 module","Symptoms"),this.tab4=lp("Covid 19 module","Statistics"),this.tab5=lp("Covid 19 module","Vaccines"),"fr"===s?("fr"===i?(n.push({linkUrl:"https://www.gouvernement.fr/info-coronavirus",linkText:"Gouvernement français",icon:"www.gouvernement.fr.ico"}),o=n[0].linkUrl,this.flagIcon="fr",this.countryName="France",this.displayCountryName="France"):"ca"===i?(n.push({linkUrl:"https://www.canada.ca/fr/sante-publique/services/maladies/2019-nouveau-coronavirus.html",linkText:"Gouvernement du Canada",icon:"www.canada.ca.ico"}),o=n[0].linkUrl,this.flagIcon="ca",this.countryName="Canada",this.displayCountryName="Canada"):"be"===i?(n.push({linkUrl:"https://www.info-coronavirus.be/fr",linkText:"SPF Santé Publique",icon:"www.info-coronavirus.be.ico"}),o=n[0].linkUrl,this.flagIcon="be",this.countryName="Belgium",this.displayCountryName="Belgique"):"ch"===i&&(n.push({linkUrl:"https://www.bag.admin.ch/bag/fr/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",linkText:"Office fédéral de la santé publique OFSP",icon:"www.bag.admin.ch.ico"}),o=n[0].linkUrl,this.flagIcon="ch",this.countryName="Switzerland",this.displayCountryName="Suisse"),n.push({linkUrl:"https://www.who.int/fr/emergencies/diseases/novel-coronavirus-2019",linkText:"OMS",icon:"www.who.int.ico"}),this.tips={heading:"Recommandations de l'Organisation mondiale de la Santé :",items:["Lavez-vous fréquemment les mains.","Évitez de vous toucher le visage.","Éternuez et toussez dans un mouchoir ou le pli de votre coude.","Évitez les foules et les contacts proches.","Restez chez vous si vous pensez être malade.","Si vous avez de la fièvre, de la toux ou des difficultés à respirer, suivez les recommandations de votre "+this._getLocalAuthorityLink("autorité de santé publique",o)+"."]},this.symptoms={heading:"Info santé COVID-19 :",items:["Symptômes: fièvre, toux, difficultés à respirer.","Complications: pneumonie, syndrome de détresse respiratoire aiguë (SDRA), insuffisance rénale.","Facteurs de risques: âge, existence de pathologies sous-jacentes (p.ex. maladies cardiovasculaires, diabète, maladies pulmonaires, etc.)."]}):"it"===s?("it"===i?(this.flagIcon="it",this.countryName="Italy",this.displayCountryName="Italia",n.push({linkUrl:"http://www.salute.gov.it/nuovocoronavirus",linkText:"Ministero della Salute",icon:"www.salute.gov.it.ico"})):"ch"===i&&(this.flagIcon="ch",this.countryName="Switzerland",this.displayCountryName="Svizzera",n.push({linkUrl:"https://www.bag.admin.ch/bag/it/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",linkText:"Ufficio federale della sanità pubblica UFSP",icon:"www.bag.admin.ch.ico"})),n.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"Organizzazione mondiale della sanità",icon:"www.who.int.ico"}),this.tips={heading:"I consigli dell'Organizzazione Mondiale della Sanità:",items:["Lava spesso le mani.","Evita di toccarti la faccia.","Starnutisci e tossici in un fazzoletto o all'interno del gomito.","Evita luoghi affollati e contatti ravvicinati.","Se sospetti di essere malato, resta a casa.","Se hai febbre, tosse o difficoltà respiratorie, segui le indicazioni delle "+this._getLocalAuthorityLink("autorità sanitarie",n[0].linkUrl)+"."]},this.symptoms={heading:"COVID-19 informazioni sanitarie:",items:["Sintomi: febbre, tosse, difficoltà respiratorie.","Complicazioni: polmonite, sindrome da distress respiratorio (ARDS), insufficienza renale.","Fattori di Rischio: età, gravi patologie pregresse (ad esempio, cardiopatia, diabete, malattie polmonari, ecc.)."]}):"es"===s?("es"===i?(n.push({linkUrl:"https://www.mscbs.gob.es/profesionales/saludPublica/ccayes/alertasActual/nCov-China/home.htm",linkText:"Gobierno de españa",icon:"www.mscbs.gob.es.ico"},{linkUrl:"http://www.euro.who.int/en/home",linkText:"World Health Organization",icon:"www.who.int.ico"}),o=n[0].linkUrl,this.flagIcon="es",this.countryName="Spain",this.displayCountryName="España"):"us"===i?(this.flagIcon="us",this.countryName="United States",this.displayCountryName="Estados Unidos",n.push({linkUrl:"https://www.cdc.gov/coronavirus/2019-ncov",linkText:e.device.isMobile?"CDC (Centers for Disease Control...)":"CDC (Centers for Disease Control and Prevention)",icon:"www.cdc.gov.ico"},{linkUrl:"https://www.who.int/es/emergencies/diseases/novel-coronavirus-2019",linkText:"Organización Mundial de la Salud",icon:"www.who.int.ico"}),o=n[0].linkUrl):"ar"===i?(this.flagIcon="ar",this.countryName="Argentina",this.displayCountryName="Argentina",n.push({linkUrl:"https://www.argentina.gob.ar/salud/coronavirus-COVID-19",linkText:"Ministerio de Salud",icon:""}),o=n[0].linkUrl):"cl"===i?(this.flagIcon="cl",this.countryName="Chile",this.displayCountryName="Chile",n.push({linkUrl:"https://www.minsal.cl/nuevo-coronavirus-2019-ncov/",linkText:"Ministerio de Salud",icon:"www.minsal.cl.ico"}),o=n[0].linkUrl):"co"===i?(this.flagIcon="co",this.countryName="Colombia",this.displayCountryName="Colombia",n.push({linkUrl:"https://twitter.com/minsaludcol",linkText:"Minsalud",icon:"www.minsalud.gov.co.ico"}),o=n[0].linkUrl):"mx"===i?(this.flagIcon="mx",this.countryName="Mexico",this.displayCountryName="México",n.push({linkUrl:"https://coronavirus.gob.mx/",linkText:"Gobierno de México",icon:"coronavirus.gob.mx.ico"}),o=n[0].linkUrl):"pe"===i&&(this.flagIcon="pe",this.countryName="Peru",this.displayCountryName="Perú",n.push({linkUrl:"https://www.gob.pe/coronavirus",linkText:"Gobierno del Perú",icon:"www.gob.pe.ico"}),o=n[0].linkUrl),n.length<2&&n.push({linkUrl:"https://www.who.int/es/emergencies/diseases/novel-coronavirus-2019",linkText:"Organización Mundial de la Salud",icon:"www.who.int.ico"}),this.tips={heading:"Consejos de la Organización Mundial de la Salud:",items:["Lávese las manos frecuentemente.","Evite tocarse la cara.","Estornude y tosa en un pañuelo de papel o la cara interna del codo.","Evite aglomeraciones de gente y procure mantener la distancia.","Permanezca en su domicilio si se siente enfermo.","Si tiene fiebre, tos o dificultad para respirar, siga los consejos de "+this._getLocalAuthorityLink("las autoridades sanitarias",o)+"."]},this.symptoms={heading:"COVID-19 información sanitaria:",items:["Síntomas: fiebre, tos, falta de aliento.","Complicaciones: neumonía, Síndrome de disnea aguda (SDRA), fallo renal.","Factores de riesgo: edad, problemas de salud serios (p.e. enfermedades cardiacas, diabetes, enfermendades de pulmón, etc)."]}):"de"===s?("de"===i?(n.push({linkUrl:"https://www.bundesgesundheitsministerium.de/coronavirus.html",linkText:"Bundesministerium für Gesundheit",icon:"www.bundesgesundheitsministerium.de.ico"},{linkUrl:"https://www.infektionsschutz.de/coronavirus-sars-cov-2.html",linkText:"Schutz vor Infektionskrankheiten",icon:"www.infektionsschutz.de.ico"}),this.flagIcon="de",this.countryName="Germany",this.displayCountryName="Deutschland"):"at"===i?(n.push({linkUrl:"https://www.sozialministerium.at/Informationen-zum-Coronavirus/Neuartiges-Coronavirus-(2019-nCov).html",linkText:"BMSGPK",icon:"www.sozialministerium.at.ico"}),this.flagIcon="at",this.countryName="Austria",this.displayCountryName="Österreich"):"ch"===i&&(n.push({linkUrl:"https://www.bag.admin.ch/bag/de/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",linkText:"Bundesamt für Gesundheit BAG",icon:"www.bag.admin.ch.ico"}),this.flagIcon="ch",this.countryName="Switzerland",this.displayCountryName="Schweiz"),n.length<2&&n.push({linkUrl:"http://www.euro.who.int/de/health-topics/health-emergencies/coronavirus-covid-19",linkText:"WHO",icon:"www.who.int.ico"}),this.tips={heading:"Hinweise der Weltgesundheitsorganisation",items:["Waschen Sie sich oft die Hände.","Vermeiden Sie es, Ihr Gesicht zu berühren.","Niesen und husten Sie in ein Taschentuch oder Ihren Ellbogen.","Vermeiden Sie Menschenansammlungen und das Stehen in unmittelbarer Nähe zu Anderen.","Bleiben Sie zuhause wenn Sie meinen krank zu sein.","Wenn Sie unter Fieber leiden, oder unter einem Husten, oder Schwierigkeiten haben mit dem Atmen, richten Sie sich nach dem Rat des "+this._getLocalAuthorityLink("Bundesministeriums für Gesundheit",n[0].linkUrl)+"."]},this.symptoms={heading:"COVID-19 Gesundheitsinformationen",items:["Symptome: Fieber, Husten, Kurzatmigkeit.","Komplikationen: Lungenentzündung, akutes Lungenversagen, Nierenversagen.","Risikofaktoren: Alter, schwerwiegende Vorerkrankungen wie Herzerkrankungen, Diabetes, Lungenerkrankungen usw."]}):"nl"!==s||"be"!==i&&"nl"!==i?"bg"===s?(this.flagIcon="bg",this.countryName="Bulgaria",this.displayCountryName="България",n.push({linkUrl:"https://www.mh.government.bg/bg/ ",linkText:"Министерство на здравеопазването",icon:"www.mh.government.bg.ico"},{linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"Световна здравна организация",icon:"www.who.int.ico"}),this.tips={heading:"Съвети от Световната здравна организация:",items:["Мийте често ръцете си.","Избягвайте да пипате лицето си.","Кихайте и кашляйте в носна кърпичка или в сгъвката на лакътя си.","Избягвайте струпвания на хора.","Стойте вкъщи, ако смятате, че сте болни.","Ако имате треска, кашлица, или затруднено дишане, следвайте упътванията на "+this._getLocalAuthorityLink("Министерството на здравеопазването",n[0].linkUrl)+"."]},this.symptoms={heading:"Здравна информация за COVID-19:",items:["Симптоми: треска, кашлица, затруднено дишане","Усложнения: пневмония, остър респираторен дистрес синдром (ARDS), бъбречна недостатъчност","Рискови фактори: възраст, предхождащи заболявания (напр. сърдечно-съдови заболявания, диабет, белодробни заболявания и т.н.)"]}):"hi"===s?(this.flagIcon="in",this.countryName="India",this.displayCountryName="भारत",n.push({linkUrl:"https://www.mohfw.gov.in",linkText:"स्वास्थ्य एवं परिवार कल्याण मन्त्रालय, भारत सरकार",icon:"www.mohfw.gov.in.ico"},{linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"विश्व स्वास्थ्य संगठन",icon:"www.who.int.ico"}),this.tips={heading:"विश्व स्वास्थ्य संगठन से सुझाव:",items:["समय-समय पर अपने हाथों को धोते रहें.","अपने चेहरे पर हाथ लगाने से बचें.","खांसते समय अथवा कफ आने की स्थिति में टिश्यू पेपर अथवा अपनी कोहनी का उपयोग करें.","भीड़भाड़ अथवा दूसरे लोगों के पास खड़े होने से बचें.","यदि आपको लगे कि आप बीमार हो सकते हैं तो घर पर ही रहें.","यदि आपको बुखार, कफ अथवा सांस लेने की शिकायत हो तो "+this._getLocalAuthorityLink("सरकार के स्वास्थ्य प्राधिकारी",n[0].linkUrl)+" की सलाह लें."]},this.symptoms={heading:"कोविद - 19 स्वास्थ्य जानकारी ",items:["लक्षण: बुखार, खांसी, सांस लेने में तकलीफ़","जटिलताएं: निमोनिया, गहन श्वसन संकट सिंड्रोम (ARDS), गुर्दा ख़राब होना।","जोखिम कारक : आयु, स्वास्थ की गंभीर अंतर्निहित परिस्थितियां (उदाहरण : हृदय रोग, मधुमेह, फेफड़े की बीमारी, आदि)।"]}):"ru"===s?(this.flagIcon="ru",this.countryName="Russia",this.displayCountryName="Российская Федерация",n.push({linkUrl:"https://www.rosminzdrav.ru/ministry/covid19",linkText:"Rosminzdrav.ru",icon:"www.rosminzdrav.ru.ico"},{linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"World Health Organization",icon:"www.who.int.ico"}),this.tips={heading:"Рекомендации Всемирной организации здравоохранения:",items:["Чаще мойте руки.","Прикасайтесь к лицу и глазам только недавно вымытыми руками.","При кашле и чихании используйте одноразовую салфетку или свой локоть.","Избегайте мест массового скопления людей.","При появлении признаков болезни оставайтесь дома.","В случае лихорадки, кашля или затрудненного дыхания следуйте рекомендациям "+this._getLocalAuthorityLink("министерства здравоохранения вашей страны",n[0].linkUrl)+"."]},this.symptoms={heading:"Информация о COVID-19:",items:["Симптомы: лихорадка, кашель, затрудненное дыхание.","Осложнения: пневмония, острый респираторный дистресс-синдром (ОРДС), почечная недостаточность.","Факторы риска: возраст, серьезные хронические заболевания (болезни сердца, диабет, заболевания легких, и т.д.)."]}):"pl"===s?(this.flagIcon="pl",this.countryName="Poland",this.displayCountryName="Polska",n.push({linkUrl:"https://www.gov.pl/web/zdrowie/wiadomosci",linkText:"Ministerstwo Zdrowia",icon:"www.gov.pl.ico"},{linkUrl:"https://www.gov.pl/web/koronawirus",linkText:"Informacje i zalecenia Koronawirus",icon:"www.gov.pl.ico"}),this.tips={heading:"Światowa Organizacja Zdrowia radzi:",items:["Często myj ręce.","Unikaj dotykania twarzy.","Jeśli kichasz lub kaszlesz, zasłaniaj usta chusteczką albo łokciem.","Unikaj tłumów i stania w pobliżu innych osób.","Zostań w domu, jeśli myślisz, że możesz być chory.","Jeśli masz gorączkę, kaszel lub trudności z oddychaniem, postępuj zgodnie z zaleceniami "+this._getLocalAuthorityLink("Ministerstwa Zdrowia",n[0].linkUrl)+"."]},this.symptoms={heading:"Informacja zdrowotna dla COVID-19:",items:["Objawy: gorączka, kaszel, duszności.","Powikłania: zapalenie płuc, zespół ciężkiej ostrej niewydolności oddechowej, niewydolność nerek.","Czynniki ryzyka: wiek, poważne schorzenia towarzyszące (np. choroba serca, cukrzyca, choroba płuc, itp.)."]}):"tl"===s?(this.flagIcon="ph",this.countryName="Philippines",this.displayCountryName="Pilipinas",n.push({linkUrl:"https://www.doh.gov.ph/2019-nCoV",linkText:"Department of Health (Kagawaran ng Kalusugan)",icon:"www.doh.gov.ph.ico"},{linkUrl:"https://www.who.int/philippines/emergencies/covid-19-in-the-philippines",linkText:"World Health Organization",icon:"www.who.int.ico"}),this.tips={heading:"Mga tip mula sa World Health Organization:",items:["Ugaliin ang paghuhugas ng kamay.","Iwasan ang paghawak ng mukha.","Bumahing o umubo sa tissue o sa loob ng siko.","Lumayo sa mga grupo at huwag tumayo ng malapit sa ibang tao.","Manatili sa bahay kapag tingin mo may sakit ka.","Kapag may lagnat, ubo, o kaya nahihirapan huminga, sundan ang payo ng "+this._getLocalAuthorityLink("kagawaran ng kalusugan ng iyong pamahalaan",n[0].linkUrl)+"."]},this.symptoms={heading:"Impormasyon sa COVID-19",items:["Sintomas: lagnat, ubo, at hirap sa paghinga.","Komplikasyon: pulmonya, Acute respiratory distress syndrome (ARDS), kidney failure.","Risk factors: edad, ang mga may seryosong kondisyon (tulad ng sakit sa puso, diabetes, at ang may mga sakit sa baga, etc.)"]}):("gb"===i?(this.flagIcon="uk",this.countryName="United Kingdom",this.displayCountryName="United Kingdom",n.push({linkUrl:"https://www.gov.uk/government/topical-events/coronavirus-covid-19-uk-government-response",linkText:"UK government response",icon:"www.gov.uk.ico"},{linkUrl:"https://www.nhs.uk/conditions/coronavirus-covid-19/",linkText:"Information from the NHS",icon:"www.nhs.uk.ico"}),o=n[1].linkUrl):"ca"===i?(this.flagIcon="ca",this.countryName="Canada",this.displayCountryName="Canada",n.push({linkUrl:"https://www.canada.ca/coronavirus",linkText:"Government of Canada",icon:"www.canada.ca.ico"}),o=n[0].linkUrl):"us"===i?(this.flagIcon="us",this.countryName="United States",this.displayCountryName="United States",n.push({linkUrl:"https://www.cdc.gov/coronavirus/2019-ncov",linkText:e.device.isMobile?"CDC (Centers for Disease Control...)":"CDC (Centers for Disease Control and Prevention)",icon:"www.cdc.gov.ico"}),o=n[0].linkUrl,this.vaccines={text:'"Vaccines in the US are highly effective, including against the Delta variant. The COVID-19 vaccines authorized in the United States are highly effective at preventing severe disease and death, including against the Delta variant. But they are not 100% effective and some fully vaccinated people will become infected (called a breakthrough infection) and experience illness. For such people, the vaccine still provides them strong protection against serious illness and death." '+this._getLocalAuthorityLink("CDC","https://www.cdc.gov/coronavirus/2019-ncov/variants/delta-variant.html")}):"au"===i?(this.flagIcon="au",this.countryName="Australia",this.displayCountryName="Australia",n.push({linkUrl:"https://www.health.gov.au/news/health-alerts/novel-coronavirus-2019-ncov-health-alert",linkText:"Australian Government",icon:"www.health.gov.au.ico"}),o=n[0].linkUrl):"ie"===i?(this.flagIcon="ie",this.countryName="Ireland",this.displayCountryName="Republic of Ireland",n.push({linkUrl:"https://www2.hse.ie/conditions/coronavirus/coronavirus.html",linkText:"HSE (Health Service Executive)",icon:"www2.hse.ie.ico"}),o=n[0].linkUrl):"nz"===i?(this.flagIcon="nz",this.countryName="New Zealand",this.displayCountryName="New Zealand",n.push({linkUrl:"https://covid19.govt.nz/",linkText:"New Zealand government response",icon:"covid19.govt.nz.ico"}),o=n[0].linkUrl):"sg"===i?(this.flagIcon="sg",this.countryName="Singapore",this.displayCountryName="Singapore",n.push({linkUrl:"https://www.moh.gov.sg/covid-19",linkText:"Ministry of Health",icon:"www.moh.gov.sg.ico"}),o=n[0].linkUrl):"in"===i?(this.flagIcon="in",this.countryName="India",this.displayCountryName="India",n.push({linkUrl:"https://www.mohfw.gov.in",linkText:"Ministry of Health and Family welfare",icon:"www.mohfw.gov.in.ico"}),o=n[0].linkUrl):"ph"===i?(this.flagIcon="ph",this.countryName="Philippines",this.displayCountryName="Philippines",n.push({linkUrl:"https://www.doh.gov.ph/2019-nCoV",linkText:"Department of Health (Kagawaran ng Kalusugan)",icon:"www.doh.gov.ph.ico"}),o=n[0].linkUrl):"za"===i?(this.flagIcon="za",this.countryName="South Africa",this.displayCountryName="South Africa",n.push({linkUrl:"https://www.gov.za/Coronavirus",linkText:"South Africa government response",icon:"www.gov.za.ico"}),o=n[0].linkUrl):n.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"WHO (World Health Organization)",icon:"www.who.int.ico"},{linkUrl:"https://www.cdc.gov/coronavirus/2019-ncov",linkText:e.device.isMobile?"CDC (Centers for Disease Control...)":"CDC (Centers for Disease Control and Prevention)",icon:"www.cdc.gov.ico"}),1===n.length&&n.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"WHO (World Health Organization)",icon:"www.who.int.ico"}),this.tips={heading:"Tips from the World Health Organization:",items:["Wash your hands frequently.","Avoid touching your face.","Sneeze and cough into a tissue or your elbow.","Avoid crowds and standing near others.","Stay home if you think you might be sick.","If you have a fever, cough, or difficulty breathing, follow advice given by your "+this._getLocalAuthorityLink("government's health authority",o)+"."]},this.symptoms={heading:"COVID-19 health information:",items:["Symptoms: fever, cough, shortness of breath.","Complications: pneumonia, Acute respiratory distress syndrome (ARDS), kidney failure.","Risk Factors: age, serious underlying medical conditions (e.g. heart disease, diabetes, lung disease, etc)."]}):("nl"===i?(this.flagIcon="nl",this.countryName="Netherlands",this.displayCountryName="Nederland",n.push({linkUrl:"https://www.rijksoverheid.nl/onderwerpen/coronavirus-covid-19",linkText:"Rijksoverheid",icon:"www.rijksoverheid.nl.ico"})):(this.flagIcon="be",this.countryName="Belgium",this.displayCountryName="België",n.push({linkUrl:"https://www.info-coronavirus.be/nl",linkText:"FOD Volksgezondheid",icon:"www.info-coronavirus.be.ico"})),n.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"World Health Organization",icon:"www.who.int.ico"}),this.tips={heading:"Tips van de Wereldgezondheidsorganisatie (WHO):",items:["Was je handen regelmatig.","Vermijd aanraken van je gezicht.","Hoest en nies in een tissue of je elleboog.","Vermijd groepen en houd voldoende afstand tot anderen.","Blijf thuis als je verkoudheidsklachten krijgt.","Volg bij koorts, hoesten, of kortademigheid het advies van "+this._getLocalAuthorityLink("de overheid",n[0].linkUrl)+"."]},this.symptoms={heading:"COVID-19 gezondheidsinformatie:",items:["Symptomen: koorts, hoesten, kortademigheid.","Complicaties: longontsteking, acute respiratory distress syndrome (ARDS), nierfalen.","Risicofactoren: leeftijd, ernstige onderliggende medische aandoeningen (bijv. hartziekte, diabetes, longziekte, enz.)."]}),this.lang=s,n.forEach((function(t){t.icon&&(t.iconURL=e.services.getURL("icons")+t.icon)})),this.links=n},_getLocalAuthorityLink:function(e,t){return t?'<a class="js-covid19-link module__more-at" href="'+t+'" target="_blank" rel="noopener">'+e+"</a>":e}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Definitions=function(i){this.loaded=!1,this._getValidDefinitions=i.getValidDefinitions;var s=this._getValidDefinitions(i.data),a=this._hasSingular(s);this.word=s[0].word,a?$.getJSON("js/spice/dictionary/reference/"+a,function(t){(s=this._getValidDefinitions(t)).length?(this.pluralFormOf=s[0].word,this._processData(s)):e.duckbar.failed(this.id)}.bind(this)).fail(function(){e.duckbar.failed(this.id)}.bind(this)):this._processData(s),t.call(this,i)},e.Models.Answers.Definitions.prototype=$.extend({},t.prototype,{_hasSingular:function(e){var t=e[0].text.match(/^(?:A )?plural (?:form )?of <xref>([^<]+)<\/xref>/i);return t&&t[1]},_processData:function(e){this.attribution=this._getAttributionLink(e),e.forEach(function(e){e.formattedText=this._formatText(e.text)}.bind(this)),e=this._removeDuplicates(e);this.canModuleExpand=e.length>3,this.definitionsByPartOfSpeech=this._groupByPartsOfSpeech(e),this.collapsedDefinitionsByPartOfSpeech=this._getCollapsedDefinitions(this.definitionsByPartOfSpeech,3),this.set("loaded",!0),this.getPronunciation(e[0].word),this.getAudio(e[0].word)},_getAttributionLink:function(e){var t=e.filter((function(e){return e.attributionText}));if(!t.length)return null;var i=t[0].attributionText.replace(/^from\s+/,""),s=t[0].word;return{text:this._capitalize(i).replace(/\.$/,""),url:"https://www.wordnik.com/words/"+s}},_groupByPartsOfSpeech:function(e){var t=[],i=e.reduce(function(e,i){var s=i.partOfSpeech;if(i.text&&s){e[s]=e[s]||[];var a=i.exampleUses&&i.exampleUses.length?{text:i.formattedText,usage:i.exampleUses[0].text}:{text:i.formattedText};i.relatedWords&&i.relatedWords.length&&i.relatedWords.forEach((function(e){"synonym"===e.relationshipType&&(a.related=i.relatedWords[0].words.map((function(e){var t=e.replace(/<[^>]+>/g,"");return t.length>3&&t.lastIndexOf("</er")===t.length-4&&(t=t.substring(0,t.length-4)),'<a class="module--definitions__synonym js-definitions-internal" href="/?q='+t+' definition&ia=definition">'+t+"</a>"})).join(" "))})),e[s].push(a)}return s&&!t.includes(s)&&t.push(s),e}.bind(this),{});return t.map((function(e){return{partOfSpeech:e,definitions:i[e]}}))},_sanitizeHtml:function(e){var t=["xref","sup","sub","i","em","strong"],i=t.join("|"),s=new RegExp("<(?!/?("+i+")\\b)[^>]*?>","g"),a=e.replace(s,""),o=Handlebars.Utils.escapeExpression(a);o=o.replace(/&lt;xref.*?&gt;(.+?)&lt;\/xref&gt;/g,'<a class="module--definitions__reference js-definitions-internal" href="/?q=$1+definition&ia=definition">$1</a>'),t.shift(),t.forEach((function(e){var t=new RegExp("&lt;"+e+".*?&gt;(.+?)&lt;/"+e+"&gt;","g");o=o.replace(t,"<"+e+">$1</"+e+">")}));var n=new RegExp(/>\s?</g);return o.replace(n,">&nbsp;<")},_formatText:function(e){var t=this._sanitizeHtml(e),i=this._capitalize(t),s=i.slice(-1);if(/[a-zA-Z0-9)]/.test(s))i+=".";else if(">"===s){var a=i[i.lastIndexOf("</")-1];/[a-zA-Z0-9)]/.test(a)&&(i+=".")}return i},_capitalize:function(e){if("<"===e[0]){var t=e.indexOf(">")+1;return e.slice(0,t)+e[t].toUpperCase()+e.slice(t+1)}return e[0].toUpperCase()+e.slice(1)},_removeDuplicates:function(e){var t=[],i=[];return e.forEach((function(e){var s=e.formattedText.replace(/(<([^>]+)>)/gi,"");t.includes(s)||(t.push(s),i.push(e))})),i},_getCollapsedDefinitions:function(e,t){var i=0;return e.reduce(function(e,s){var a=t-i;if(0===a)return e;var o=s.definitions.slice(0,a);i+=o.length;var n=o.map((function(e){return e.text.replace(/<[^>]+>/g,"").length>500?{text:e.text.substring(0,497)+"..."}:e}));return e.push({partOfSpeech:s.partOfSpeech,definitions:n}),e}.bind(this),[])},getPronunciation:function(e){$.getJSON("js/spice/dictionary/pronunciation/"+e,function(e){if(e&&e.length){var t=e.filter((function(e){return"ahd-legacy"===e.rawType||"ahd-5"===e.rawType}));if(t.length){var i=t[0].raw;this.set("pronunciation","/"+this._sanitizeHtml(i)+"/")}}}.bind(this)).fail(function(){this.set("noPronunciation",!0)}.bind(this))},getAudio:function(e){$.getJSON("js/spice/dictionary/audio/"+e,function(e){if(e&&e.length){var t=e.find((function(e){return"macmillan"===e.createdBy}))||e[0];if(t&&t.fileUrl){var i="/audio/?u="+encodeURIComponent(t.fileUrl);this.set("audio",i)}}}.bind(this)).fail(function(){this.set("noAudio",!0)}.bind(this))}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Lyrics=function(e){t.call(this,e),$.extend(this,this._transformRawData())},e.Models.Answers.Lyrics.prototype=$.extend({},t.prototype,{_transformRawData:function(){var e={},t=this.data[0],i=t.data[0];e.songTitle=i.song_title,e.artist=i.song_artist,e.isExplicit=i.explicit,e.lyrics=t.Abstract;var s=i.albums;return s&&0!=s.length&&(e.albumTitle=s[0].title,e.albumReleaseYear=this._parseReleaseYear(s[0].release_date)),e.writers=this._joinWithComma(i.writers),e.providerUrl=i.url,e},_parseReleaseYear:function(e){if(e){var t=new RegExp(/[0-9]{5}/);if(!(e.length<4||t.test(e))){var i=e.match(/[0-9]{4}/);return i?i[0]:void 0}}},_joinWithComma:function(e){if(e&&0!=e.length)return e.join(", ")}})}(DDG),function(e){var t=e.Models.Answer;e.Models.Answers.Stocks=function(i){t.call(this,i),this.data.timePeriods=[{key:"Today",label:lp("Stocks module","Today"),mobileLabel:lp("Stocks module","1D")},{key:"5d",label:lp("Stocks module","5D")},{key:"1m",label:lp("Stocks module","1M")},{key:"ytd",label:lp("Stocks module","YTD")},{key:"1y",label:lp("Stocks module","1Y")},{key:"5y",label:lp("Stocks module","5Y")},{key:"max",label:lp("Stocks module","All")}],this.data.selectedTimePeriod=this.data.timePeriods[0],this.data=i.data||{};var s=this.data.results.quote;this.data.price=void 0!==s.delayedPrice&&null!==s.delayedPrice?s.delayedPrice:s.latestPrice,this.data.priceTime=void 0!==s.delayedPriceTime&&null!==s.delayedPriceTime?s.delayedPriceTime:s.latestUpdate,this.data.latestUpdateString=this._getLatestUpdateString(),this.data.latestPrice=this.formatCurrency(this.data.price),this.calculateChange(),this.data.peRatio=this.formatNumber(this.data.results.quote.peRatio),this.data.week52High=this.formatCurrency(this.data.results.quote.week52High),this.data.week52Low=this.formatCurrency(this.data.results.quote.week52Low);var a=e.Utils.Formatting.abbreviateLargeNumber;this.data.volumeString=void 0!==s.avgTotalVolume&&null!==s.avgTotalVolume?this.formatNumber(a(s.avgTotalVolume)):this.formatNumber(s.avgTotalVolume),this.data.marketCapString=void 0!==s.marketCap&&null!==s.marketCap?this.formatNumber(a(s.marketCap)):this.formatNumber(s.marketCap),this.data.prevClose=this.data.results.quote.previousClose,this.data.prevCloseFormatted=this.formatCurrency(this.data.results.quote.previousClose),this.data.stockExchange=this.lookupStockExchangeName(),this.data.marketHours=this.lookupMarketHours(),this.data.assetType=s.assetType,this.data.upstream=s.upstream,this.timezoneOffset=0,this._processIntraday()};var i=e.Models.Answers.Stocks.api={load:function(t,s){if(!i.triggered){i.triggered=!0;var a=s.symbol,o={historical:{},intraday:"loading"},n={},r=Date.now(),l="b"===e.searchExperiments.getAssignedVariant("siaexp"),d=function(i,a){o[i]=a||{};var d=["quote"];l&&d.push("fundamentals"),d.reduce((function(e,t){return e&&void 0!==o[t]}),!0)&&(n.total=Date.now()-r,e.pixel.fire("stockslatency",n),l&&(o.quote.marketCap=o.fundamentals.marketCap?Number(o.fundamentals.marketCap):null,o.quote.avgTotalVolume=o.fundamentals.avgTotalVolume?Number(o.fundamentals.avgTotalVolume):null),t(Object.assign({results:o},s)))};i._stocksService({action:"quote",symbol:a},(function(t){n.quote=Date.now()-r,void 0!==t&&t.symbol?d("quote",t):e.duckbar.failed("stocks")})),l&&i._stocksService({action:"fundamentals",symbol:a},(function(t){n.fundamentals=Date.now()-r,void 0===t?e.duckbar.failed("stocks"):d("fundamentals",t)})),i._stocksService({action:"intraday",symbol:a},(function(t){n.intraday=Date.now()-r,d("intraday",t);var i=e.modulesLayout.modules.stocks&&e.modulesLayout.modules.stocks.model;i&&(i._processIntraday(),i.emit("change:dataForSelectedTimePeriod"))}))}},_stocksService:function(t,i){var s=Object.assign({},t,{query:encodeURIComponent((e.history.get("q")||"").trim()),vqd:window.vqd}),a=Object.keys(s).reduce((function(e,t){return e.concat(t+"="+s[t])}),[]).join("&"),o=window.Bootstrap.searchExperiments.addExperimentParameters("/stocks.js?"+a);$.getJSON(o,(function(e){i(e)})).fail((function(s){e.pixel.fire("stockserror",{status:s.status,action:t.action}),i()}))}};e.Models.Answers.Stocks.prototype=$.extend({},t.prototype,{_getLatestUpdateString:function(){var t=this.data.priceTime;if(!t)return"";var i=new Date(t),s=e.settings.region.getISOLocale(),a=i.toLocaleDateString(s,{month:"long",day:"numeric",year:"numeric"}),o={hour:"numeric",minute:"2-digit",timeZoneName:"short"};return"en-GB"===navigator.language&&(o.hourCycle="h12"),a+" • "+i.toLocaleTimeString(s,o).toUpperCase()},dataForSelectedTimePeriod:function(){var e;return e="Today"===this.data.selectedTimePeriod.key?this.data.results.intraday:this.data.results.historical[this.data.selectedTimePeriod.key],this._validateData(e)?this._fixNulls(e):null},_validateData:function(t){return!(!t||!("loading"===t||Array.isArray(t)&&t.length>2))||("Today"!==this.data.selectedTimePeriod.key||this.intradayPixelFired||(this.intradayPixelFired=!0,e.pixel.fire("stocksintradayerror")),!1)},_fixNulls:function(e){if("loading"===e)return e;var t=this.data.results.quote.open||this.data.results.quote.previousClose;return e.forEach((function(e){null!==e.close||e.pending||(e.close=t),t=e.close})),e},_processIntraday:function(){var e=this.data.results.intraday;this.timezoneOffset="index"===this.data.assetType?this.calculateTimezoneOffsetRefinitiv():this.calculateTimezoneOffset();var t=60*this.timezoneOffset*60*1e3;if(e.length&&"loading"!==e){"index"!==this.data.assetType&&(this.data.results.intraday=e.filter((function(e){return this.parseIEXDateTimeString(e).getTime()-t<=this.data.priceTime}),this));var i=this.data.results.intraday.length,s=this.data.results.intraday[0].minute,a=this.data.results.intraday[i-1].minute;if(this.data.marketHours){var o=this._incrementTimeString(s,this.data.marketHours.hours,this.data.marketHours.minutes);if(i>2&&this._isBeforeClosingTime(a,o))for(;a!==o;)a=this._incrementTimeStringByOneMinute(a),this.data.results.intraday[i]={close:null,pending:!0,date:this.data.results.intraday[i-1].date,minute:a},i++}}},loadTimePeriod:function(e){this.data.selectedTimePeriod=e;var t=function(t){this.updateCachedHistoricalData(t),this.data.results.historical[e.key]=t,this.emit("change:dataForSelectedTimePeriod")}.bind(this);if("BRK.A"===this.data.symbol&&"5d"===e.key)return t({});this.dataForSelectedTimePeriod()||"Today"===e.key||(this.data.results.historical[e.key]="loading",i._stocksService({action:"historical",symbol:this.data.symbol,range:e.key},function(e){t(e||{})}.bind(this)))},updateCachedHistoricalData:function(e){if(e&&0!==Object.keys(e).length&&this.data.price&&this.data.priceTime&&e.length){var t=this.parseIEXDateTimeString(e[e.length-1]),i=60*this.timezoneOffset*60*1e3,s=new Date(t-i),a=new Date(this.data.priceTime+i),o=a.getFullYear().toString()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0"),n=a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0");"5d"===this.data.selectedTimePeriod.key||"1m"===this.data.selectedTimePeriod.key?new Date(this.data.priceTime)>s&&e.push({close:this.data.price,date:o,minute:n}):(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.getTime()>t&&e.push({close:this.data.price,date:o}))}},calculateChange:function(){var t=this.dataForSelectedTimePeriod();if("loading"!==t){var i,s;if("Today"!==this.data.selectedTimePeriod.key&&t&&t.length){var a=t.map((function(e){return e.close})),o=a[0];this.data.open=this.formatCurrency(o),this.data.high=this.formatCurrency(Math.max.apply(Math,a)),this.data.low=this.formatCurrency(Math.min.apply(Math,a)),s=(i=(this.data.price||a[a.length-1])-o)/o*100}else i=this.data.results.quote.change,s=100*this.data.results.quote.changePercent,this.data.open=this.formatCurrency(this.data.results.quote.open),this.data.high=this.formatCurrency(this.data.results.quote.high),this.data.low=this.formatCurrency(this.data.results.quote.low);this.data.change=(i>0?"+":"")+this.formatNumber(i),this.data.isDecrease=i<0;var n=e.settings.region.getISOLocale();this.data.percentChangeString=Math.abs(s).toLocaleString(n,{minimumFractionDigits:2,maximumFractionDigits:2}),e.device.isSafariLessThanVersion(10)&&(this.data.percentChangeString=parseFloat(this.data.percentChangeString).toFixed(2))}},lookupStockExchangeName:function(){var e=this.data.results.quote.primaryExchange;return{"NEW YORK STOCK EXCHANGE INC.":"NYSE"}[e]||e},lookupMarketHours:function(){return{DJI:{hours:6,minutes:30},FSI:{hours:8,minutes:30},GER:{hours:8,minutes:30},IOM:{hours:6,minutes:30},PAR:{hours:8,minutes:30},NAS:{hours:6,minutes:30},NASDAQ:{hours:6,minutes:30},NSQ:{hours:6,minutes:30},NYQ:{hours:6,minutes:30},"NYSE ARCA":{hours:6,minutes:30},"NEW YORK STOCK EXCHANGE INC.":{hours:6,minutes:30},TOR:{hours:6,minutes:30}}[this.data.results.quote.primaryExchange]||{hours:6,minutes:30}},formatNumber:function(t){var i="number"==typeof t?parseFloat(t.toFixed(6)):t;return null==t?"—":e.Utils.Formatting.formatNumberForLocale(i)},formatCurrency:function(t){var i=e.settings.region.getISOLocale();return null==t?"—":t.toLocaleString(i,{minimumFractionDigits:2})},calculateTimezoneOffsetRefinitiv:function(){return(new Date).getTimezoneOffset()/60},calculateTimezoneOffset:function(){var e=this.data.results.intraday,t=this.data.results.quote.latestUpdate;if(!t||"loading"===e||!e[0])return 0;var i=new Date(t),s=e[e.length-1],a=this.parseIEXDateTimeString(s)-i;return.5*Math.round(a/18e5)},parseIEXDateTimeString:function(e){var t,i=e.date.split("-");if(e.minute){var s=e.minute.split(":");t=new Date(i[0],i[1]-1,i[2],s[0],s[1])}else t=new Date(i[0],i[1]-1,i[2]);return t},_incrementTimeStringByOneMinute:function(e){return this._incrementTimeString(e,0,1)},_incrementTimeString:function(e,t,i){var s=e.split(":").map(Number),a=(s[0]+t+Math.floor((s[1]+i)/60))%24,o=(s[1]+i)%60;return a.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")},_isBeforeClosingTime:function(e,t){var i=e.split(":"),s=t.split(":");return Number(i[0]+i[1])<Number(s[0]+s[1])}})}(DDG),function(e){var t=e.Models.Answer,i=e.Models.Answers.DisinformationWarning=function(i){this._populateContent.call(this),this.showSeparator=e.device.isEnglish,this.showFooter=e.device.isDesktop,t.call(this,i)};i.content={en:{title:"2022 Russian invasion of Ukraine",refutation:"On 24 February 2022, Russia invaded Ukraine... The United Nations General Assembly passed a resolution condemning the invasion and demanding a full withdrawal of Russian forces. The International Court of Justice ordered Russia to suspend military operations.",neutral:"On 24 February 2022, Russia invaded Ukraine... and caused Europe's largest refugee crisis since World War II, with an estimated 8 million people being displaced within the country by late May as well as 7.7 million Ukrainians fleeing the country.",warning:"On 24 February 2022, Russia invaded Ukraine... Protests occurred around the world; those in Russia were met with mass arrests and increased media censorship, including a ban on the words 'war' and 'invasion'.",sourceLink:"https://en.wikipedia.org/wiki/2022_Russian_invasion_of_Ukraine",moreAtText:"Wikipedia"},fr:{title:"Invasion de l'Ukraine par la Russie en 2022",refutation:"L'invasion de l'Ukraine par la Russie en 2022 est une grande campagne militaire aérienne, maritime et terrestre, lancée le 24 février sur ordre du président russe Vladimir Poutine. La Russie est accusée... par le G7 de mener une guerre d'agression contre l'Ukraine, action condamnée... par la grande majorité de la communauté internationale.",neutral:"L'invasion de l'Ukraine par la Russie en 2022 est une grande campagne militaire aérienne, maritime et terrestre, lancée le 24 février sur ordre du président russe Vladimir Poutine. Le 6 avril, la BBC... rapporte que le nombre total de réfugiés dépasse 4,2 millions.",warning:"L'invasion de l'Ukraine par la Russie en 2022 est une grande campagne militaire aérienne, maritime et terrestre, lancée le 24 février sur ordre du président russe Vladimir Poutine. En Russie ... dans le cadre de la propagande d'État... l'utilisation de plusieurs mots, parmi lesquels « invasion », « guerre », « bombardements de villes » ou « pertes civiles », est réprimée par la loi et passible de prison.",sourceLink:"https://fr.wikipedia.org/wiki/Invasion_de_l%27Ukraine_par_la_Russie_en_2022",moreAtText:"Wikipedia"},es:{title:"Invasión rusa de Ucrania de 2022",refutation:"La invasión rusa de Ucrania... empezó el 24 de febrero de 2022. La Resolución A/ES-11/L.1 de la Asamblea General de las Naciones Unidas... condena la invasión de Rusia.",neutral:"La invasión rusa de Ucrania... empezó el 24 de febrero de 2022 y... está generando miles de víctimas mortales, así como la mayor crisis de refugiados en el continente desde la Segunda Guerra Mundial. 12​ más de 7,2 millones de ucranianos han abandonado el país, y más de 6,9 millones se han desplazado internamente.",warning:"La invasión rusa de Ucrania... empezó el 24 de febrero de 2022. Uno de los motivos para la censura por parte de la agencia rusa responsable de controlar los medios de comunicación fue la calificación de las acciones rusas como un 'ataque', 'invasión' o 'declaración de guerra.",sourceLink:"https://es.wikipedia.org/wiki/Invasi%C3%B3n_rusa_de_Ucrania_de_2022",moreAtText:"Wikipedia"},de:{title:"Russischer Überfall auf die Ukraine 2022",refutation:"Der russische Überfall auf die Ukraine, der am 24. Februar 2022 begann, ist eine vom russischen Präsidenten Wladimir Putin befohlene Invasion. Die Invasion der Ukraine wurde im März 2022 von der Generalversammlung der Vereinten Nationen mit großer Mehrheit verurteilt.",neutral:"Der russische Überfall auf die Ukraine, der am 24. Februar 2022 begann, ist eine vom russischen Präsidenten Wladimir Putin befohlene Invasion. Durch den Überfall starben bis Oktober 2022 mindestens 21.300 [Menschen]. Es kam zu einer großen Fluchtbewegung aus der Ukraine, die drittgrößte Fluchtbewegung aller Zeiten in Europa.",warning:"Der russische Überfall auf die Ukraine, der am 24. Februar 2022 begann, ist eine vom russischen Präsidenten Wladimir Putin befohlene Invasion.  Proteste gegen den Krieg führten in Russland zu Festnahmen und einer verstärkten Zensur in russischen Medien. Dazu gehört auch das Verbot der Verwendung der Begriffe „Invasion“ und „Krieg“ im Zusammenhang mit dem Konflikt.",sourceLink:"https://de.wikipedia.org/wiki/Russischer_%C3%9Cberfall_auf_die_Ukraine_2022",moreAtText:"Wikipedia"},pt:{title:"Invasão da Ucrânia pela Rússia em 2022",refutation:"A Invasão da Ucrânia pela Rússia em 2022 é uma invasão militar em larga escala lançada pela Rússia contra a Ucrânia. A invasão da Ucrânia foi considerada uma violação da Carta das Nações Unidas e constituiu um crime de agressão de acordo com o direito penal internacional.",neutral:"A Invasão da Ucrânia pela Rússia em 2022 é uma invasão militar em larga escala lançada pela Rússia contra a Ucrânia. Mais de 5,5 milhões de ucranianos fugiram do seu país por causa da guerra, e mais de 7 milhões foram obrigados a se deslocar internamente.",warning:"A Invasão da Ucrânia pela Rússia em 2022 é uma invasão militar em larga escala lançada pela Rússia contra a Ucrânia. Protestos que aconteceram na Rússia foram respondidos com prisões em massa e o governo russo aumentou significativamente a repressão à mídia independente.",sourceLink:"https://pt.wikipedia.org/wiki/Invas%C3%A3o_da_Ucr%C3%A2nia_pela_R%C3%BAssia_em_2022",moreAtText:"Wikipedia"},ru:{title:"Вторжение России на Украину (2022)",refutation:"Вторжение России на Украину началось 24 февраля 2022 года... Резолюция Генеральной Ассамблеи ООН ES-11/1 осудила действия России, признав её страной-агрессором, и призвала её вывести свои войска с территории Украины.",neutral:"Вторжение России на Украину началось 24 февраля 2022 года... Вторжение вызвало крупный миграционный кризис: по данным ООН, Украину покинуло 6,8 млн беженцев...",warning:"Вторжение России на Украину началось 24 февраля 2022 года... Роскомнадзор под угрозой блокировки СМИ и информационных ресурсов потребовал использовать информацию «только из официальных российских источников». Всего, по данным Роскомсвободы, к 11 июля было заблокировано 5300 сайтов. Многие независимые издания, опасаясь преследования журналистов, прекратили работу, либо прекратили рассказывать о войне.",sourceLink:"https://ru.wikipedia.org/wiki/%D0%92%D1%82%D0%BE%D1%80%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D0%A0%D0%BE%D1%81%D1%81%D0%B8%D0%B8_%D0%BD%D0%B0_%D0%A3%D0%BA%D1%80%D0%B0%D0%B8%D0%BD%D1%83_(2022)",moreAtText:"Wikipedia"}},i.getRegionLanguage=function(){return e.settings.region.getISOLocale().split("-")[0]},i.prototype=$.extend({},t.prototype,{_populateContent:function(){var t=i.getRegionLanguage(),s={d:"neutral",e:"neutral",f:"warning",g:"warning",h:"refutation",i:"refutation"}[e.searchExperiments.getActiveVariant("infoboxexp")]||"refutation",a=i.content[t];this.text=a[s],Object.assign(this,a)}})}(DDG),function(e){var t=e.Models.Base;e.Models.CustomDateRange=function(i){var s=e.search.getDateRange();this.fromDate=i.fromDate||s[0]||this._yesterday(),this.toDate=i.toDate||s[1]||new Date,t.call(this,i)},e.Models.CustomDateRange.prototype=$.extend({},t.prototype,{_yesterday:function(){var e=new Date;return e.setHours(0,0,0,0),e.setDate((new Date).getDate()-1),e}})}(DDG),function(e){var t=e.Views.Base,i="is-expanded";e.Views.Modules.Base=function(e){this.model=e.model,t.call(this,e),this.bindEvents([[this.model,"change:expanded",this._onExpandedChanged],[this.model,"change:active",this._onActiveChanged]])},e.Views.Modules.Base.prototype=$.extend({},t.prototype,{show:function(){this.$el.show();[{qsParam:"iax",modelState:"expanded"},{qsParam:"iaxm",modelState:"isMapExpanded"}].map(function(e){if(this._isModelInQuerystring(e.qsParam)){var t={};t[e.modelState]=!0,this.model.set(t)}}.bind(this))},hide:function(){this.$el.hide(),this.answer&&this.answer.set("isMapExpanded",!1)},isValid:function(){return!0},showNoResults:function(){},_render:function(){t.prototype._render.call(this,this.model)},_wrapLinks:function(){},_expand:function(){e.keyboard.set("namespace",this.model.pixelId),DDG.addClass(this.model.id,this.$parent,i),"maps"===this.model.nameId?e.history.set({iaxm:this.model.nameId}):e.history.set({iax:this.model.nameId}),DDG.page.views.atb&&DDG.page.views.atb.hide()},_collapse:function(){e.keyboard.set("namespace"),DDG.removeClass(this.model.id,this.$parent,i),"maps"===this.model.nameId?e.history.clear("iaxm"):e.history.clear("iax")},_isModelInQuerystring:function(t){var i=e.history.get(t),s=1===i||0===i?e.history.get("ia"):i;return!!s&&(this.model.id===s||this.model.parentId===s||this.model.nameId===s)},_onActiveChanged:function(){return this.model.active?this.show():this.hide()},_onExpandedChanged:function(){return this.model.expanded?this._expand():this._collapse()}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.About=function(i){if(t.call(this,i),this.itemModel=this.model.items[0],this._cacheElems(".js-about-module",["content","toggle","more","less"]),this.bindEvents([[this.model,"change:expanded",this._onExpandedChange],[this.$content,"click",this._onClick],[this.$toggle,"click",this._onToggleClick]]),this.itemModel.header){this.model.set("headerType",this.itemModel.headerType);var s=i.customHeader?i.customHeader.headerClass:e.Views.About.AboutHeader;this.views.header=new s({before:this.$content,model:this.itemModel.header,answer:this.model,imagesVqd:this.itemModel.images_vqd})}this.model.items.length&&(this.views.item=new e.Views.About.AboutItem({appendTo:this.$content,model:this.itemModel,answer:this.model})),this.calculateSize()},e.Views.Modules.About.prototype=$.extend({},t.prototype,{template:"about_module",calculateSize:function(){this._calculateHeight(),this._updateExpandedState()},_render:function(i){t.prototype._render.call(this,i);var s=this.model.meta&&this.model.meta.name;e.device.isEnglish&&"maps_expanded"!==this.model.id&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({sourceName:this.model.meta.src_name,category:"wikipedia",categoryName:s,categoryValue:"Wikipedia"!==s?"about":"",promptText:lp("feedback form","Share Feedback"),appendTo:this.$el,showYesNo:!1}))},_calculateHeight:function(){var e=this.$content[0];if(e&&e.scrollHeight){var t=e.clientHeight+(this.model.isSideModule?75:0);e.scrollHeight>t?this.itemModel.set("isTooHigh",!0):this.model.isSideModule&&this.$el.addClass("has-content-height")}},_updateExpandedState:function(){this.itemModel.canModuleExpand&&(this.itemModel.canModuleExpand()&&!this.model.expanded?(this.$toggle.show(),this.$more.show(),this.$less.hide(),this.$el.removeClass("is-expanded")):this.itemModel.canModuleExpand()&&this.model.expanded?(this.$toggle.show(),this.$more.hide(),this.$less.show(),this.$el.addClass("is-expanded")):(this.$more.hide(),this.$less.hide(),this.$el.removeClass("is-expanded")))},_onExpandedChange:function(){this._updateExpandedState()},_onClick:function(){this.model.engaged&&this.model.engaged(),e.device.isMobileDevice&&!this.model.isMapExpanded&&(e.pixel.fire("iasm",this.model.pixelId,this.model.openType),this.model.set("expanded",!this.model.expanded))},_onToggleClick:function(t){t.stopPropagation(),this.model.engaged(),e.pixel.fire("iasm",this.model.pixelId,this.model.openType),this.model.set("expanded",!this.model.expanded)}})}(DDG),function(e){var t=e.Views.Modules.About;e.Views.Modules.AboutMap=function(i){this.model=i.answer,this.itemModel=i.model,i.customHeader={headerClass:e.Views.ModuleImageHeader,answer:this.model},i.model=this.model,t.call(this,i),this.bindEvents([[this.model,"change:isMapExpanded",this._onMapExpandedChange]])},e.Views.Modules.AboutMap.prototype=$.extend({},t.prototype,{_render:function(e){this.itemModel.expand(),t.prototype._render.call(this,e)},_onMapExpandedChange:function(e){e&&!this.model.expanded?this.model.set("expanded",!0):e||this.model.expanded||this.model.set("expanded",!1)}})}(DDG),function(e){var t=e.Views.Modules.Base,i="half-opacity";e.Views.Modules.Forecast=function(i){t.call(this,i),this._cacheElems(".js-forecast-module-detail",["moreat"]),this._updateIcon(),this.bindEvents([[this.model.items,"change:hour",this._updateDetail],[this.model.items,"change:selected",this._updateDetail],[this.model.items,"beforeSend",this._setDetailTimer],[e.settings,"change:kae",this._rerender],[this.model.items,"change:unit",this._rerender],[this.$moreat,"click",this._onExternalLinkClick],[this.model,"change:openType",this._onOpenTypeChanged]])},e.Views.Modules.Forecast.prototype=$.extend({},t.prototype,{template:"forecast_module",_getItems:function(){this.model&&this.model.items&&(this.model.items=this.model.items[0]?this.model.items[0]:this.model.items)},_updateDetail:function(){clearTimeout(this._timer),this.$detail.html(e.exec_template("forecast_detail",this.model)),this._cacheElems(".js-forecast-module-detail",["unit","moreat","moreatcontainer","hours","hoursmobile","top","bottom","more"]),this.$top.removeClass(i),this.$bottom.removeClass(i),this.bindEvents([[this.$unit,"click",this._onUnitClick],[this.$more,"click",this._onExternalLinkClick]])},_render:function(i){this._getItems(),this.model.items.isEnglishDevice=e.device.isEnglish,t.prototype._render.call(this,this.model),this._cacheElems(".js-forecast-module",["item","detail"]),this.bindEvents([[this.$item,"click",this._onDailyCardClick]]),this._updateDetail(),e.device.isEnglish&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"forecast",promptText:lp("feedback form","Share Feedback"),appendTo:this.$moreatcontainer,showYesNo:!1}))},_onDailyCardClick:function(e){var t=$(e.currentTarget);this.$item.each((function(e,t){$(t).removeClass("module__items-item--selected")})),t.addClass("module__items-item--selected"),e.preventDefault(),this.model.engaged(),this.model.items.updateSelected(t.data("item-index"))},_setDetailTimer:function(){this._timer=setTimeout(function(){this.$top.addClass(i),this.$bottom.addClass(i)}.bind(this),500)},_onUnitClick:function(e){e.preventDefault(),this.model.engaged(),this.model.items.updateUnit($(e.currentTarget).data("unit"))},_updateIcon:function(){if(this.model.openType&&!this._changedIcon){var e="https://duckduckgo.com/assets/icons/meta/DDG-iOS-weather-icon_";$("#icon60").attr("href",e+"60x60.png"),$("#icon76").attr("href",e+"76x76.png"),$("#icon120").attr("href",e+"120x120.png"),$("#icon152").attr("href",e+"152x152.png"),this._changedIcon=!0}},_onExternalLinkClick:function(e){return e.stopPropagation(),this.model.engaged(),this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)},_onOpenTypeChanged:function(){this._updateIcon()}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.Maps=function(e){t.call(this,e),this.bindEvents([[this.model,"change:isMapExpanded",this._onMapExpandedChanged]])},e.Views.Modules.Maps.prototype=$.extend({},t.prototype,{template:"maps_module",_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-maps-module",["map","detailview","control-topright","control-bottomleft"]),this._renderAddressDetails(),this._renderStaticMap(),e.device.isEnglish&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"maps",promptText:"Is this map helpful?",subtitleText:lp("feedback form","Want to tell us a bit more?"),appendTo:this.$el})),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createUpdateInstantAnswerVerticalLinkUrlAction",params:["maps_places","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"maps"})]})},_renderStaticMap:function(){if(this.views){if(this.views.staticMap)return;this.views.staticMap=new e.Views.Mapkit.StaticMap({markers:[this.model.selectedItem],marker:this.model.selectedItem,width:this.$el.outerWidth(),height:200,appendTo:this.$map,showCTA:!0,answer:this.model}),this.bindEvents([[this.views.staticMap,"click",this._onStaticMapClicked]])}},_renderAddressDetails:function(){this.views.detail||(this.views.detail=new e.Views.Address.AddressDetail({model:this.model.selectedItem,appendTo:this.$detailview,answer:this.model}))},_onStaticMapClicked:function(){"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"maps"})):e.router.navigate("toggle-map",{model:this.model,directionsModel:this.model.directionsModel||e.directionsModel,isMapExpanded:!0}),this.model.fire("iacg"),this.model.engaged()}})}(DDG),function(e){var t=e.Views.Modules.Base,i={start:{name:"start",otherTypeName:"end"},end:{name:"end",otherTypeName:"start"}};e.Views.Modules.Directions=function(i){if(!e.history.get("iaxm")){this._ops=i,this.model=i.model,this._rawLocations=this.model&&this.model.data&&this.model.data[0],this.routeAttemptCounter=0;var s=e.duckbar.tabs.maps_expanded,a=s&&s.expandedMap&&s.expandedMap.model,o=a&&a.directionsModel;if(!e.userLocator.geoipLocation&&this._rawLocations.user_location&&this._rawLocations.user_location.geo_source===e.Models.UserLocation.GEOIP_LOCATION){var n=new e.Models.UserLocation({lat:parseFloat(this._rawLocations.user_location.lat),lon:parseFloat(this._rawLocations.user_location.lon),type:e.Models.UserLocation.GEOIP_LOCATION});n.isValid()&&e.userLocator.setGeoIPLocation(n)}this.directionsModel=e.directionsModel||o||new e.Models.Maps.Directions({start:this._rawLocations.start,end:this._rawLocations.end,userLocation:this._rawLocations.user_location}),this.model.moduleDirectionsModel=this.directionsModel,e.modulesLayout&&e.modulesLayout.modules&&e.modulesLayout.modules.directions&&(e.modulesLayout.modules.directions.directionsModel=this.directionsModel),this._rawLocations&&(this._rawLocations.start||this._rawLocations.end)?(this.model.canShowMap=!0,e.pixel.fire("dir_map",{start:!!this._rawLocations.start,end:!!this._rawLocations.end})):e.pixel.fire("dir_emp"),t.call(this,this._ops),this.bindEvents([[this.model,"change:isMapExpanded",this._onMapExpandedChanged],[this.directionsModel,"change:start",this._onLocationChange],[this.directionsModel,"change:end",this._onLocationChange],[this.directionsModel,"change:routeList",this._onRouteListChange],[this.directionsModel,"change:canRoute",this._onCanRouteChange],[this.directionsModel,"change:isRouting",this._onIsRoutingChange],[e.settings,"change:kae",this._onThemeChange]])}},e.Views.Modules.Directions.prototype=$.extend({},t.prototype,{template:"directions_module",_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-directions-module",["search","map","cta","details","skeletonloader","privacy-link"]),this.bindEvents([[this.$cta,"click",this._expandMapDirections],[this.$map,"click",this._expandMapDirections],[this.$el,"submit",this._expandMapDirections]]),this._rawLocations&&(this._addLocations(this._rawLocations),this._rawLocations.start&&this._rawLocations.end&&(this._toggleCTA(!0),this._tryToRoute())),this._initSearch(),this.model.isMapExpanded||(this.$el.addClass("has-feedback-prompt"),this.views.feedback=new e.Views.Feedback.FeedbackPrompt({sourceName:this.model.sourceName,category:"directions",categoryName:"Directions",categoryValue:"directions",promptText:lp("feedback form","Share Feedback"),showYesNo:!1,appendTo:this.$el,subtitleText:lp("feedback form","Share feedback for these results.")}),e.device.isDesktop&&(this.views.feedback&&this.views.feedback.$el.prepend(this.$privacylink),this.$privacylink.removeClass("is-hidden")))},_tryToRoute:function(){this.directionsModel.startDisplay&&this.directionsModel.endDisplay&&this.directionsModel.canRoute&&(this.model.isMapExpanded||this._route())},_addLocations:function(e){e&&(e.start||e.end)&&["start","end"].forEach(function(t){var i="start"===t?"end":"start";e[t]&&(this.directionsModel.autocompleteLocation({loc:e[t],type:t},!0),!e[i]&&e.user_location&&this.directionsModel.setLocationToUserLocation(i))}.bind(this))},_initSearch:function(){this.views.directionsSearch=new e.Views.Maps.DirectionsSearch({model:this.model,directionsModel:this.directionsModel,appendTo:this.$search})},_route:function(){if(this.model.canShowMap&&this.directionsModel.canRoute){var e=this._getTypeToRetryAutocomplete();e?(this.directionsModel.set("canRoute",!1),this.directionsModel.autocompleteLocation({loc:this.directionsModel[e.name].rawLocation,type:e.name,locationHint:this.directionsModel[e.otherTypeName].coordinate},!0)):(this.directionsModel.set("canRetryLocationSearch",!1),this.directionsModel.route(null,!0))}},_getTypeToRetryAutocomplete:function(){if(!this.directionsModel.canRetryLocationSearch)return null;if(!this.directionsModel.start.what||!this.directionsModel.end.what)return null;var t=null;this.routeAttemptCounter+=1;var s=e.geo.distance(this.directionsModel.start.coordinate,this.directionsModel.end.coordinate),a=e.geo.distance(this.directionsModel.start.coordinate,this.directionsModel.userLocation)<e.geo.distance(this.directionsModel.end.coordinate,this.directionsModel.userLocation)?i.start:i.end;return s>5e3&&1===this.routeAttemptCounter&&(t=a),t},_expandMapDirections:function(t){t.preventDefault();try{var i={};if(i.start=this.views.directionsSearch.views.mapSearchbarStart.getCurrentValue(),i.end=this.views.directionsSearch.views.mapSearchbarEnd.getCurrentValue(),!i.start||!i.end)return;["start","end"].forEach(function(e){i[e]!==this.directionsModel[e+"Display"]&&(this.directionsModel.set("start"===e?"isStartUpdating":"isEndUpdating",!0),this.directionsModel[e]=i[e],this.directionsModel.autocompleteLocation({loc:i[e],type:e,callbackFn:function(){this.set("isStartUpdating",!1),this.set("start"===e?"isStartUpdating":"isEndUpdating",!1)}.bind(this.directionsModel)}))}.bind(this))}catch(t){}if(this.directionsModel.start&&this.directionsModel.end||i.start&&i.end)if(this.directionsModel.set("canRetryLocationSearch",!1),"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")){var s=this._getExpandedMapsUrl();s&&e.duckbar.reactOpen("maps_expanded","link-navigation",s)}else e.router.navigate("toggle-map",{model:this.model,directionsModel:this.directionsModel||e.directionsModel,isMapExpanded:!0,isDirections:!0});e.pixel.fire("dir_exp")},_toggleCTA:function(e){this.$cta.toggleClass("is-disabled",!e)},_toggleIsLoaded:function(e){this.$el.toggleClass("is-loaded",e),this.$cta.toggleClass("is-disabled",!e)},_toggleHasResults:function(e){this.$el.toggleClass("has-results",e),this.$cta.toggleClass("is-disabled",!e)},_updateSnapshot:function(){this.$map.find("img").remove();var t="";if(this._points&&this._points.length>0)t=e.mapkit.getStaticDirectionsURL(this._points,{width:this.$map.outerWidth(),height:this.$map.outerHeight()});else{var i=this.directionsModel.userLocation||this.directionsModel.coordEnd;t=e.mapkit.getStaticEmptyMapURL({latitude:i.lat||i.latitude,longitude:i.lon||i.longitude,width:this.$map.outerWidth(),height:this.$map.outerHeight()})}var s=document.createElement("img");s.src=t,this.$map.append(s)},_onCanRouteChange:function(e){this._toggleCTA(e)},_onLocationChange:function(){if(!e.history.get("iaxm")){if("b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")){var t=this._getExpandedMapsUrl();t&&window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createUpdateInstantAnswerVerticalLinkUrlAction",params:["directions",t]})}this._route()}},_onIsRoutingChange:function(e){this._toggleCTA(!e),this.$skeletonloader.toggle(e)},_onRouteListChange:function(){if(!e.history.get("iaxm")){var t=this.directionsModel.routeList.length;0===t&&e.pixel.fire("dir_no"),this._toggleHasResults(t>0),this.directionsModel.set("canShowMap",!0),this.views.directionsRouteInfo=this.views.directionsRouteInfo||new e.Views.Maps.DirectionsRouteInfo({model:this.directionsModel,appendTo:this.$details}),this._points=[],t>0&&this.directionsModel.fastestRoute.path.forEach(function(e){e.forEach(function(e){this._points.push([e.lat,e.lng])}.bind(this))}.bind(this)),this._updateSnapshot()}},_onThemeChange:function(){this._updateSnapshot()},_getExpandedMapsUrl:function(){if(this.directionsModel){var e=this.directionsModel.start,t=this.directionsModel.end;if(e&&t)return"/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"directions",source:"directions",start:e.display===lp("directions","Your Location")?null:window.utils.encodeDirectionsStartEndForUrlQueryParam({value:e.display,suggestion:{what:e.what,where:e.where,lat:e.coordinate?e.coordinate.lat:void 0,lon:e.coordinate?e.coordinate.lon:void 0}}),end:t.display===lp("directions","Your Location")?null:window.utils.encodeDirectionsStartEndForUrlQueryParam({value:t.display,suggestion:{what:t.what,where:t.where,lat:t.coordinate?t.coordinate.lat:void 0,lon:t.coordinate?t.coordinate.lon:void 0}})})}}})}(DDG),function(e){var t=e.Views.ClickableItem;e.Views.Modules.CarouselItem=function(i){if(this.model=i.model,this.answer=i.answer,"news"!==this.model.parentId?this.model.link=this.model.url:(this.model.isNews=1,this.model.link=this.model.id,"DDG"===this.model.syndicate&&!this.model.image&&this.model.fetch_image&&this.model._fetchImage(this.model.url)),this._isSingleVideoModule=!!(this.answer&&"Videos"===this.answer.answerType&&this.answer.items&&1===this.answer.items.length&&this.model&&this.model.images&&this.model.images.medium),t.call(this,i),this._cacheElems(".js-carousel-item",["image-wrapper","image","img-placeholder","title","content"]),this._isSingleVideoModule){var s=this.$image.get(0),a=DDG.getImageProxyURL(this.model.images.medium,{width:200*Math.ceil(s.clientWidth/200),noAutoPadding:!0});s.style.cssText="background-image: url("+a+");"}this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.$image,"error",this._onImageFail],[this.$image,"load",this._onImageLoad],[this.model,"change:image",this._onImageFetched],[this.model,"change:highlighted",this._onHighlightedChanged],[e.device,"resize",this.calculateSize]]),this._updateEllipsis()},e.Views.Modules.CarouselItem.prototype=$.extend({},t.prototype,{template:"carousel_module_item",getWidth:function(){return this._width||(this._width=this.$el.outerWidth(!0)),this._width},calculateSize:function(){this._updateEllipsis(),delete this._width},_render:function(i){t.prototype._render.call(this,$.extend({isSingleVideoModule:this._isSingleVideoModule,isIE:e.device.isIE},this.model))},_updateEllipsis:function(){this.$title.ellipsis({id:this.model.id+"-title"}),this.$content.ellipsis({id:this.model.id+"-content"})},_onImageFail:function(){this.$image.hide()},_onImageLoad:function(){this.$imgplaceholder.hide()},_onImageFetched:function(){var t=DDG.getImageProxyURL(this.model.image,{height:120,noFallback:!e.device.isIE});this.$image=e.device.isIE?$('<div class="module--carousel__image" style="background-image:url('+t+')"></div>'):$('<img class="module--carousel__image" src="'+t+'" />'),this.$imagewrapper.append(this.$image),e.device.isIE?this.$imgplaceholder.hide():this.bindEvents([[this.$image,"error",this._onImageFail],[this.$image,"load",this._onImageLoad]])},_onMouseEnter:function(e){this.model.highlight()},_onMouseLeave:function(){this.model.unhighlight()},_onClick:function(i,s){if(this.model.highlight(),"videos"===this.answer.id){var a="2"!==e.settings.get("k5");if(e.device.supportsDuckPlayer&&e.device.duckPlayer&&(a=e.device.duckPlayer.privatePlayerMode&&e.device.duckPlayer.privatePlayerMode.hasOwnProperty("alwaysAsk")),a){e.duckbar.open("videos");var o=e.duckbar.tabs.videos.model,n=o.itemsById[this.model.id];if(n&&n.pixelated)return;return void(o.itemsById[this.model.id]?(o.itemsById[this.model.id].set("selected",1),o.set("openedFromModule",!0)):e.pixel.fire("jse","videos"))}}t.prototype._onClick.call(this,i,s)},_onHighlightedChanged:function(e){this.$el.toggleClass("is-highlighted",!!this.model.highlighted)},_onExternalLinkClick:function(i){if("videos"!==this.answer.id||"2"===e.settings.get("k5"))return"news"===this.answer.id&&e.duckbar.disinfoExp&&"j"===e.searchExperiments.getActiveVariant("infoboxexp")&&e.pixel.fire("infoboxclick",e.duckbar.disinfoExp.getPixelData()),t.prototype._onExternalLinkClick.call(this,i);i.preventDefault()}})}(DDG),function(e){var t=e.Views.Modules,i=t.CarouselItem;e.Views.Modules.AdsCarouselItem=function(t){t.model.disclaimer_info&&t.model.disclaimer_info.text&&(this.tooltip=new e.Views.TooltipMixin(this),this.hasTooltip=!1),i.call(this,t)},t.AdsCarouselItem.prototype=$.extend({},i.prototype,{_render:function(e){i.prototype._render.call(this,e),this.tooltip&&(this._cacheElems(".js-carousel-item",["icon"]),this.$icon&&(this.bindEvents([[this.$icon,"mouseenter",this._onIconMouseEnter],[this.$icon,"mouseleave",this._onIconMouseLeave]]),this.tooltip.setup({$triggerElement:this.$icon,content:new DDG.Views.DisclaimerAdsTooltip({text:this.model.disclaimer_info.text}),align:"left",centerTriangleOnTriggerElement:!1,extraClass:"tooltip-disclaimer-ads",isManuallyTriggered:!0})))},_onClick:function(e,t){this.model.bing&&this.answer.clickedExternalLink({},e),i.prototype._onClick.call(this,e,t)},_onIconMouseEnter:function(){var e=this.$icon&&this.$icon[0].scrollWidth>this.$icon[0].clientWidth;e?(this.tooltip.onTriggerElementMouseEnter(),this.hasTooltip=!0):!e&&this.hasTooltip&&(this.hasTooltip=!1)},_onIconMouseLeave:function(){this.hasTooltip&&(this.tooltip.onTriggerElementMouseLeave(),this.hasTooltip=!1)}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarouselItem;e.Views.Modules.ProductsCarouselItem=function(e){var t=e.model.img_w,s=e.model.img_h;e.model.imageType=t>s?"landscape":t===s?"square":"portrait","function"==typeof e.answer.shouldShowProductsCarouselAdExtensions&&(e.model.canHaveAdExtensions=e.answer.shouldShowProductsCarouselAdExtensions()),i.call(this,e)},t.ProductsCarouselItem.prototype=$.extend({},i.prototype,{template:"carousel_module_item_products",_render:function(){i.prototype._render.call(this,$.extend({},this.model,this._ops)),this._cacheElems(".js-product-carousel-item",["ratingLink","merchantRatingLink","bottomExtension"]),this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.$merchantRatingLink,"mouseenter",this._unHighlightModel],[this.$merchantRatingLink,"mouseleave",this._highlightModel],[this.$merchantRatingLink,"click",this._onExternalLinkClick]]);var t=this.model.bottomRowExtension;if(null!=t&&""!=t){var s=this.model.extensions,a=s.label_annotation,o=s.merchant_promotion;this.bindEvents([[this.$ratingLink,"mouseenter",this._unHighlightModel],[this.$ratingLink,"mouseleave",this._highlightModel],[this.$ratingLink,"click",this._onExternalLinkClick]]),this._reactDOMRoot||(this._reactDOMRoot=document.createElement("div"),this.$(".js-product-ad-label-annotation-extension").prepend(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot)),this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{settings:DDG.settings,pixel:e.pixel,searchExperiments:e.searchExperiments,openTypeState:e.duckbar.openTypeState,device:DDG.device},window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:{PROMOTION_SHOP_CTA:lp("merchant promotion product ad extension","Shop"),PROMOTION_EXPIRES_IN_SINGULAR:lp("merchant promotion product ad extension","Expires in 1 day"),PROMOTION_EXPIRES_IN_PLURAL:function(e){return lp("merchant promotion product ad extension","Expires in %s days",e)}}},window.React.createElement(window.components.BottomRowExtension,{type:t,labelAnnotationType:null!=a?a.type:void 0,shouldShowSmallText:this.answer.isMiddleModule,onMouseEnterLabelText:this._unHighlightModel.bind(this),onMouseLeaveLabelText:this._highlightModel.bind(this),model:this.answer,displayText:"labelAnnotation"===t?a.text:"merchantPromotion"===t?o.text:null,promotionDetail:null!=o?{promotionalText:o.promotional_text,redemptionCode:o.redemption_code,daysFromExpiry:o.days_from_expiry,isBillable:!o.isNonBillable||!1,shoppingLink:o.link||this.model.link,brand:this.model.brand}:void 0}))))}},_updateEllipsis:function(){this.$bottomExtension&&this.$bottomExtension.ellipsis({id:this.model.id+"-bottomExtension"})},_onExternalLinkClick:function(e){e.stopPropagation();var t=e.currentTarget,s=-1!==t.className.indexOf("js-product-carousel-item-ratingLink")?"product_rating":-1!==t.className.indexOf("js-product-carousel-item-merchantRatingLink")?"merchant_badge":void 0;if(s){var a={extension:s,is_billable:0};this.answer.clickedExternalLink(a,e),this.answer.engaged()}return i.prototype._onExternalLinkClick.call(this,e)},_unHighlightModel:function(e){this.model.unhighlight()},_highlightModel:function(e){this.model.highlight()},_onMouseEnter:function(e){this._highlightModel(e)},_onMouseLeave:function(e){this._unHighlightModel()},_onClick:function(e,t){var s=t;this.answer&&"products"===this.answer.inVertical&&(s=1),i.prototype._onClick.call(this,e,s)}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarouselItem;e.Views.Modules.AutoAdsCarouselItem=function(e){i.call(this,e)},t.AutoAdsCarouselItem.prototype=$.extend({},i.prototype,{template:"carousel_module_item_auto_ads",_render:function(e){i.prototype._render.call(this,e)}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarouselItem;e.Views.Modules.ToursActivitiesCarouselItem=function(e){i.call(this,e)},t.ToursActivitiesCarouselItem.prototype=$.extend({},i.prototype,{template:"carousel_module_item_tours_activities",_render:function(e){i.prototype._render.call(this,e),this._cacheElems(".js-carousel-item",["source-reviews"]),this.$sourcereviews&&this.$sourcereviews[0].scrollWidth>this.$sourcereviews[0].clientWidth&&this.$sourcereviews.addClass("has-long-abstract")}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarouselItem;e.Views.Modules.CreditCardsCarouselItem=function(e){i.call(this,e)},t.CreditCardsCarouselItem.prototype=$.extend({},i.prototype,{template:"carousel_module_item_credit_cards",_render:function(e){i.prototype._render.call(this,e)}})}(DDG),function(e){var t=e.Views.Modules,i=t.CarouselItem;e.Views.Modules.SeeMoreCarouselItem=function(e){i.call(this,e)},t.SeeMoreCarouselItem.prototype=$.extend({},i.prototype,{template:"carousel_module_item_see_more",_onClick:function(t){t.preventDefault(),this.answer.engaged(),this.answer.fire("iacg"),e.duckbar.open(this.answer.answerTypeId||this.answer.id)}})}(DDG),function(e){var t=e.Views.Modules.Base,i=["videos","news","maps_expanded","products"],s={maps_expanded:"maps",products:"shopping"};e.Views.Modules.Carousel=function(e){var i=e.model.displayQuery,s={products:l("Shopping for %s%s%s","<b>",i,"</b>"),products_middle:l("Shopping for %s%s%s","<b>",i,"</b>"),videos:l("Videos for %s%s%s","<b>",i,"</b>"),recipes:l("Recipes for %s%s%s","<b>",i,"</b>"),images:l("Images for %s%s%s","<b>",i,"</b>"),news:l("News for %s%s%s","<b>",i,"</b>")};e.model.moduleHeader=e.model.carouselHeaderText||s[e.model.id]||e.model.meta.primaryText,t.call(this,e),this.views={items:[],itemsById:{}},this._cacheElems(".js-carousel-module",["items","more","title","left","right","more-at","main-source","preview-gradient-left","preview-gradient-right","footer-links","attribution"]),this.bindEvents([[this.model,"change:items",this._updateItems],[this.$moreat,"click",this._onExternalLinkClick],[this.$items,"scroll",this._onScroll]]),this.$attribution.find("a").on("click",this._onAttributionLinkClick.bind(this)),this.model.items.length?this._updateItems():DDG.deep.isBingV7()&&!this.model.loaded?this.model.on("load",this._onLoadedFromDeep.bind(this)):this._onLoadedFromDeep()},e.Views.Modules.Carousel.prototype=$.extend({},t.prototype,{template:"carousel_module",ItemClass:e.Views.Modules.CarouselItem,_getItemsPerPage:function(){return this.model.itemsPerPage||3},_getAnimationTime:function(){return this.model.itemsPerPage?100*this.model.itemsPerPage:400},_shouldShowPreview:function(){var e=!0;return this.model.shouldShowPreviewOverride&&(e=this.model.shouldShowPreviewOverride()),e&&this.model.items.length>this._getItemsPerPage()},_shouldShowMoreCard:function(){var e=!0;return this.model.shouldShowSeeMoreCardOverride&&(e=this.model.shouldShowSeeMoreCardOverride()),e&&this._hasMoreItemsThanVisible()},_render:function(){this.model.inVertical&&(this.model.itemsPerPage=this._itemsPerPageBasedOnScreenWidth()),this.model.isMiddleModule&&e.device.isMobile&&(this.model.itemsPerPage=void 0),this.model.showPreview=this._shouldShowPreview(),e.$html.hasClass("is-vertical-tabs-exp")&&!e.device.isMobile&&i.includes(this.model.answerTypeId||this.model.id)&&(this.model.icon_template="icon_"+(s[this.model.answerTypeId]||s[this.model.id]||this.model.id)),t.prototype._render.call(this,this.model)},hide:function(){$.noop()},calculateSize:function(){var e=this.$el.width();this._width!==e&&(this._scrollToPage(this._currentPage,!1),this._width=e)},_updateItems:function(){if(!this._rendered){this._rendered=!0,this.$title.removeClass("is-hidden"),this.$footerlinks.removeClass("is-hidden"),this.model.showPlaceholder||this.$el.removeClass("show-placeholder"),this._shouldShowPreview()&&this.$el.addClass("has-preview");var t=this.model.items,i=this.model.gridColumns;this._isPagedCarousel=!e.device.isMobileDevice&&t.length>this._getItemsPerPage()&&!i,this.bindEvents([[this.$more,"click",this._onMoreClick],[this.$title,"click",this._onMoreClick]]),this._showMoreItemsCTA()?this.$more.removeClass("is-hidden"):2===t.length?this.$el.addClass("has-two-items"):1===t.length&&this.$el.addClass("has-one-item");for(var s=i?9:t.length,a=0;a<s;a++){var o=t[a];if(!o)break;var n=new this.ItemClass({appendTo:this.$items,model:o,answer:this.model});this.views.items.push(n),this.views.itemsById[o.id]=n}this._width=this.$el.width(),this._addMoreCard(),this._appendPrivacyMessage(),this._appendFeedback(),this.model.sourceUrl?this.$attribution.show():this.$attribution.hide(),this._isPagedCarousel&&this._initPagedCarousel(),this._selectItemFromQueryString()}},_addMoreCard:function(){if(this._shouldShowMoreCard()){var t=new e.Models.AnswerItems.Base({moreText:this.model.moreText}),i=new e.Views.Modules.SeeMoreCarouselItem({appendTo:this.$items,model:t,answer:this.model});this.views.items.push(i),this.views.itemsById[t.id]=i}},_hasMoreItemsThanVisible:function(){return e.device.isMobileDevice?this._getNumberOfVisibleItems()<this.views.items.length:!!this._isPagedCarousel&&this._getItemsPerPage()<this.views.items.length},_getNumberOfVisibleItems:function(){var e,t=this.$items.scrollLeft()+this._width,i=0;for(e=0;e<this.views.items.length;e++){var s=this.views.items[e].getWidth();if(i+s>=t)break;i+=s}return e},_showMoreItemsCTA:function(){return this._isPagedCarousel||e.device.isMobileDevice&&this.model.items.length>=3},_feedbackOptions:function(){var e="videos"===this.model.id&&1===this.model.items.length,t="videos"===this.model.id,i="news"===this.model.id;return{extraData:t?{single:+e}:i?{newsSource:this.model.getDisplayedNewsSource()}:null,promptText:e?lp("feedback form","Is this video helpful?"):lp("feedback form","Are these links helpful?")}},_appendFeedback:function(){if(this._isCorrectFeedbackLanguage()&&!e.device.isMobile){var t=this._feedbackOptions();this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:this.model.answerTypeId||this.model.id,promptText:t.promptText,extraData:t.extraData,subtitleText:lp("feedback form","Want to tell us a bit more?"),appendTo:this.$footerlinks})}},_appendPrivacyMessage:function(){"products"!==this.model.id&&"products_middle"!==this.model.id||(this.views.privacyMessage=new e.Views.PrivacyMessage({appendTo:this.$footerlinks}))},_isCorrectFeedbackLanguage:function(){return e.device.isEnglish},_initPagedCarousel:function(){this._currentPage=0;var t=this.views.items.length;this._lastPage=Math.ceil(t/this._getItemsPerPage())-1,this.$right.removeClass("is-hidden"),this.bindEvents([[this.$left,"click",this._onLeftClick],[this.$right,"click",this._onRightClick],[e.device,"resize",this.calculateSize]])},_selectItemFromQueryString:function(){var t=e.history.get("iai"),i=e.history.get("ia");this.model.nameId===i&&void 0!==t&&this._highlightAndScrollToItem(t)},_highlightAndScrollToItem:function(e){var t=this.model.itemsById[e];if(t&&t.highlight(),this._isPagedCarousel)for(var i=0;i<this.views.items.length;i++)if(this.views.itemsById[e]===this.views.items[i]){var s=Math.floor(i/this._getItemsPerPage());this._scrollToPage(s,!1);break}},_scrollToPage:function(e,t){if(void 0!==e){var i;t=t||void 0===t;var s="products"===this.model.id||"products_middle"===this.model.id?54:50;if(i=this.model.showPreview?(this.$items.width()-s)*e:this.$items.width()*e,e===this._lastPage)this.views.items.length%this._getItemsPerPage()!=0&&(i=this.$items[0].scrollWidth-this.$items.width());t?this.$items.animate({scrollLeft:i},this._getAnimationTime()):this.$items.scrollLeft(i),0===e?this.$left.addClass("is-hidden"):this.$left.removeClass("is-hidden"),e===this._lastPage?(this.$right.addClass("is-hidden"),this.$previewgradientright.addClass("is-hidden"),this.$previewgradientleft.removeClass("is-hidden")):(this.$right.removeClass("is-hidden"),this.$previewgradientright.removeClass("is-hidden"),this.$previewgradientleft.addClass("is-hidden")),this._currentPage=e}},_onMoreClick:function(t){t.preventDefault(),this.model.engaged(),this.model.fire("iacg"),e.duckbar.open(this.model.answerTypeId||this.model.id)},_onLeftClick:function(){var e=Math.max(0,this._currentPage-1);this._scrollToPage(e),this.model.engaged()},_onRightClick:function(){var e=Math.min(this._lastPage,this._currentPage+1);this._scrollToPage(e),this.model.engaged()},_onExternalLinkClick:function(e){return e.stopPropagation(),this.model.engaged(),this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)},_onAttributionLinkClick:function(e){this.model.fire("iaa"),this._onExternalLinkClick(e)},_hasScrolled:!1,_onScroll:function(){this._hasScrolled||(this.model.engaged(),this._hasScrolled=!0)},_onLoadedFromDeep:function(){this.model.items.length?this._updateItems():this.model.load()},_itemsPerPageBasedOnScreenWidth:function(){var e={1280:6,1920:9,2560:12};for(var t in e)if(window.innerWidth<t)return e[t];return 16}})}(DDG),function(e){var t=e.Views.Modules,i=t.Carousel;t.AdsCarousel=function(t){i.call(this,t),this.model.hasCarouselVisibilityReporting&&(e.device.isMobileDevice&&this.$items.on("touchend",this._triggerSendVisibility.bind(this)),(this.model.gridColumns||this.model.isMiddleModule)&&e.device.on("scroll",this._triggerSendVisibility.bind(this))),this._appendAdBadge()},t.AdsCarousel.prototype=$.extend({},i.prototype,{ItemClass:e.Views.Modules.AdsCarouselItem,_updateItems:function(){i.prototype._updateItems.call(this),this._reportVisibility()},_feedbackOptions:function(){return{extraData:null,promptText:lp("feedback form","Are these ads helpful?")}},_showMoreItemsCTA:function(){return!this.model.meta.hidden&&(i.prototype._showMoreItemsCTA.call(this)||this.model.items.length>this._getItemsPerPage())},_appendAdBadge:function(){if(this.model.bing){var e=this.$el,t=this.$mainsource,i=this.model.isSideModule?t:e,s={tooltipId:"ad-tooltip-"+this.model.id,appendTo:i,context:"product-carousel",label:1===this.model.items.length?l("Ad"):l("Ads")};this.model.isWide&&(s.forcePositionDesktop="below"),this.views.adBadge=new DDG.Views.AdBadge(s)}},_scrollToPage:function(e,t){t=t||void 0===t,i.prototype._scrollToPage.call(this,e,t);var s=!1;t||(s=!0),s?this._reportVisibility():this._triggerSendVisibility()},_highlightAndScrollToItem:function(e){this.model.bing||i.prototype._highlightAndScrollToItem.call(this,e)},_getVisibleItemIndexes:function(){return this.model.isMiddleModule&&!this._isElementVisible(this.$el)?[]:this._isPagedCarousel?this._getVisiblePagedCarouselIndexes():this.model.gridColumns?this._getVisibleItemIndexesGrid():this._getVisibleItemIndexesMobile()},_isElementVisible:function(e){var t=$(window),i=e,s=i&&i.offset();return s&&s.left+i.width()>t.scrollLeft()&&s.top+i.height()>t.scrollTop()&&s.left<t.scrollLeft()+t.innerWidth()&&s.top<t.scrollTop()+t.innerHeight()},_getVisibleItemIndexesMobile:function(){for(var e=this.$items.scrollLeft(),t=e+this._width,i=0,s=[],a=0;a<this.views.items.length;a++){var o=this.views.items[a].getWidth(),n=i+o;if(i>=t)break;n>e&&s.push(a),i+=o}return s},_getVisibleItemIndexesGrid:function(){var e=[];for(var t in this.views.items)this._isElementVisible(this.views.items[t].$el)&&e.push(parseInt(t,10));return e},_getVisiblePagedCarouselIndexes:function(){var e=this._currentPage*this._getItemsPerPage(),t=[];e+this._getItemsPerPage()>this.views.items.length&&this.views.items[e-1]&&(e-=1);for(var i=e;i<e+this._getItemsPerPage();i++)this.views.items[i]&&t.push(i);return t},_reportVisibility:function(){if(this.model.hasCarouselFeedbackReporting||this.model.hasHoverFeedbackReporting||this.model.hasShoppingMobileFeedbackReporting){var e=this._getVisibleAndHiddenItems();return"products"===this.model.inVertical&&this.model.emit("shopping-carousel-impression",e),this.model.reportProductAdVisibility(e.position,e.visible,e.hidden)}},_triggerSendVisibility:function(){if(this.model.hasCarouselFeedbackReporting){var e=this._reportVisibility();this.model.adReporting.sendCarouselAdsVisibility(e)}},_getVisibleAndHiddenItems:function(){var e={hidden:[],visible:[],position:this.model.isSideModule?"sidebar":"mainline"};if(this.model.hasCarouselVisibilityReporting||this.model.hasHoverFeedbackReporting||this.model.hasShoppingMobileFeedbackReporting){var t=this._getVisibleItemIndexes();if(!t)return;this.views.items.forEach((function(i,s){-1===t.indexOf(s)?e.hidden.push(i):e.visible.push(i)}))}else e.visible=this.views.items;return e}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarousel;t.ProductsCarousel=function(e){this.initialItemsPerPage=e.model.itemsPerPage,this._handleWideProductAdsBasedOnLayout(e),e.model.on("change:layoutContext",this._handleWideProductAdsBasedOnLayout.bind(this,e)),e.model.paCardSizeExpVariantClass=this._getPACardSizeVariantClass(e.model.id,null==e.model.inVertical),e.model.shouldShowProductsCarouselAdExtensions()&&(e.model.hasProductAdExtensions=!0),i.call(this,e)},t.ProductsCarousel.prototype=$.extend({},i.prototype,{ItemClass:e.Views.Modules.ProductsCarouselItem,_getPACardSizeVariantClass:function(t,i){var s=e.searchExperiments.getActiveVariant("pa_card_size_experiment_mobile");return("b"===s||"c"===s)&&!this._isMiddleProductCarousel(t)&&i?"is-pa-card-size-exp-"+s:""},_handleWideProductAdsBasedOnLayout:function(e){if(!(!e.model.layoutContext||!e.model.layoutContext.isWide)){var t=e.model.items.length,i=window.innerWidth,s=i-(i>1079?140:76),a=Math.floor(s/169),o=Math.min(a,8);e.model.itemsPerPage=Math.min(t,o),e.model.isWide=e.model.itemsPerPage>3}else e.model.isWide=!1,e.model.itemsPerPage=this.initialItemsPerPage},_isMiddleProductCarousel:function(e){return"products_middle"===e},_feedbackOptions:function(){var e={},t="products"===this.model.id&&!this.model.bing,i=this.model.isProducts&&this.model.bing,s=this.model.inVertical;return t&&(e.amazon=1),s&&(e["in-vertical"]=s),this._isMiddleProductCarousel(this.model.id)&&(e["is-middle"]=1),{extraData:$.isEmptyObject(e)?null:e,promptText:i?lp("feedback form","Are these ads helpful?"):lp("feedback form","Are these links helpful?")}},_appendPrivacyMessage:function(){if("products"===this.model.inVertical||e.device.isMobile)return!1;this.model.items.some((function(e){return null!=e.extensions&&null!=e.extensions.local_inventory}))&&i.prototype._appendPrivacyMessage.call(this)},_showMoreItemsCTA:function(){return!this.model.meta.hidden&&!this.model.inVertical&&(i.prototype._showMoreItemsCTA.call(this)||this.model.items.length>this._getItemsPerPage()||this.model.isWide&&this.model.items.length>=4)},_isProductsSidebarWithVertical:function(e,t){return e&&!t},_appendFeedback:function(){var e=this.model.inVertical&&1===this.model.items.length,t="products"===this.model.inVertical;this._isProductsSidebarWithVertical(this.model.gridColumns,this.model.meta.hidden)||e||t||i.prototype._appendFeedback.call(this)},_isCorrectFeedbackLanguage:function(){return!0}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarousel;t.AutoAdsCarousel=function(e){i.call(this,e)},t.AutoAdsCarousel.prototype=$.extend({},i.prototype,{ItemClass:e.Views.Modules.AutoAdsCarouselItem,_showMoreItemsCTA:function(){return!1},_isCorrectFeedbackLanguage:function(){return!0}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarousel;t.ToursActivitiesCarousel=function(e){i.call(this,e)},t.ToursActivitiesCarousel.prototype=$.extend({},i.prototype,{ItemClass:e.Views.Modules.ToursActivitiesCarouselItem,_showMoreItemsCTA:function(){return!1}})}(DDG),function(e){var t=e.Views.Modules,i=t.AdsCarousel;t.CreditCardsCarousel=function(e){i.call(this,e)},t.CreditCardsCarousel.prototype=$.extend({},i.prototype,{ItemClass:e.Views.Modules.CreditCardsCarouselItem,_showMoreItemsCTA:function(){return!1}})}(DDG),function(e){var t=e.Views.Modules.Base,i=(e.device.isMobile?44:57)+30,s=e.device.isMobile?2:20,a={regular:{desktop:{height:280,rows:2},desktopSmall:{height:280,rows:2},mobile:{height:142,rows:1}},fallback:{desktop:{rows:2},desktopSmall:{rows:2},mobile:{rows:2}}};e.Views.Modules.Images=function(i){t.call(this,i),this._cacheElems(".js-images",["show-more","thumbnails"]),this._updateContainerDimensions(),this._numRows=this._getSettings().rows,this.bindEvents([[this.model,"change:items",this._onItemsChanged],[this.model,"change:failed",this._onItemsChanged],[e.device,"resize",this._onResize],[this.$showmore,"click",this._onMoreClick]]),this.model.items.length?this._onItemsChanged():DDG.deep.isBingV7()&&!this.model.loaded?this.model.on("load",this._onLoadedFromDeep.bind(this)):this._onLoadedFromDeep()},e.Views.Modules.Images.prototype=$.extend({},t.prototype,{template:"images_module",calculateSize:function(e){this.$parent.width()-s!==this._containerWidth&&(this._updateContainerDimensions(),this.$thumbnails.empty(),this.thumbnailsLoaded=!1,this._onItemsChanged())},_render:function(){e.$html.hasClass("is-vertical-tabs-exp")&&!e.device.isMobile&&(this.model.icon_template="icon_images",s=0),t.prototype._render.call(this,this.model)},_openImagesIA:function(){this.model.engaged(),e.duckbar.open("images",{})},_updateContainerDimensions:function(){this.$thumbnails.css("height",this._getSettings().height),this._containerHeight=this.$el.height()-this._getVerticalPaddingHeight(),this._containerWidth=this.$el.width()-s},_onItemsChanged:function(){if(this.model.items.length){var t=0;if(!this.thumbnailsLoaded){this.thumbnailsLoaded=!0;for(var i=[],s=0;s<this._numRows;s++){var a=this.model.getModuleRow(i.length,this._containerWidth,this._getSettings().height/this._numRows);a&&a.length&&t++,i=i.concat(a)}if(!i.length)return void this.$parent.css({height:"0px",overflow:"hidden"});this.$el.css({visibility:"visible"}),t<this._numRows&&this.$thumbnails.css("height",this._containerHeight/this._numRows*t),this.$thumbnails.append(e.$exec_template("images_module_thumbnails",i)),this.$(".js-images-link").on("click",this._onItemClick.bind(this))}}else this.$parent.css({height:"0px",overflow:"hidden"})},_onItemClick:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget).data("id"),i=this.model.itemsById[t];this.model.isFallback||i.pixelated||this.model.set("openedFromModule",!0),this._openImagesIA(),i.pixelated||i&&i.select()},_onMoreClick:function(e){e.preventDefault(),this.model.fire("iacg"),this._openImagesIA()},_cachedOuterWidth:window.outerWidth,_onResize:function(){this._cachedOuterWidth!==window.outerWidth&&(this.calculateSize(),this._cachedOuterWidth=window.outerWidth)},_getSettings:function(){var t=e.device.isMobile?"mobile":"desktop";return this._isInPlaceholder()?{height:this.$parent.height()-this._getVerticalPaddingHeight(),rows:this.$parent.height()>200?a.fallback[t].rows:1}:(this.model.items.length&&this.model.items.length<10&&!e.device.isMobile&&(t+="Small"),a.regular[t])},_isInPlaceholder:function(){return this.$parent.hasClass("module--placeholder")},_getVerticalPaddingHeight:function(){return this._isInPlaceholder()?i:s},_onLoadedFromDeep:function(){this.model.items.length?this._onItemsChanged():this.model.load()},hide:function(){$.noop()}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.Places=function(i){if(i.model=i.answer?i.answer:i.model,t.call(this,i),this.bindEvents([[this.$el,"click",this._onClick],[this.$map,"click",this._onMapClick],[this.$location,"click",this._onLocationClick]]),this.model.geoip){var s=new e.Models.UserLocation({lat:parseFloat(this.model.geoip.lat),lon:parseFloat(this.model.geoip.lon),type:e.Models.UserLocation.GEOIP_LOCATION});s.isValid()&&e.userLocator.setGeoIPLocation(s)}},e.Views.Modules.Places.prototype=$.extend({},t.prototype,{template:"places_module",_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-places-module",["content","more","less","map","location","badge","privacy-link"]),this._viewClass=this.model.items.length>1?"PlacesMultiple":"PlacesSingle",this.views.module=new e.Views.Places[this._viewClass]({appendTo:this.$content,model:this.model});var s=this.model.pul||!1;if(this.views.locationBadge=new e.Views.LocationBadge({label:"Local",appendTo:this.$badge,context:"local-maps",isIcon:!0,pulEnabled:s}),!this.model.isMapExpanded){this.$el.addClass("has-feedback-prompt");var a=this.model.items.length>1?"places_multiple":"places_single",o={sourceName:this.model.sourceName,category:"maps",categoryName:"Places",categoryValue:a,promptText:lp("feedback form","Share Feedback"),showYesNo:!1,appendTo:this.$el,subtitleText:lp("feedback form","Share feedback for these results.")};"places_single"===a&&(o.modalView=e.Views.Feedback.SinglePlaceModal,o.modalViewData=this.model.items[0]),this.views.feedback=new e.Views.Feedback.FeedbackPrompt(o),e.device.isDesktop&&!this.model.isSingle&&(this.views.feedback&&this.views.feedback.$el.prepend(this.$privacylink),this.$privacylink.removeClass("is-hidden"))}"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")&&window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createUpdateInstantAnswerVerticalLinkUrlAction",params:["maps_places","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places"})]})},_onClick:function(e){this.model.engaged()},_onMapClick:function(){"b"===window.Bootstrap.searchExperiments.getActiveVariant("localexp")?e.duckbar.reactOpen("maps_expanded","link-navigation","/?"+window.utils.createExpandedMapLinkSearchParams(window.location.search,{iaxm:"maps",source:"places"})):e.router.navigate("toggle-map",{model:this.model,isMapExpanded:!0}),e.pixel.fire("map_cta","link")},_onLocationClick:function(e){this.views.module.views.locationTile.showLocationPicker()}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.RelatedSearches=function(e){this.isSideItem=e.isSideItem,e.model.items&&e.model.items.forEach((function(e){e.web_search_url=e.web_search_url+(w.rv?"&v="+w.rv:"")+(w.kurl?w.kurl:"")})),t.call(this,e),this._cacheElems(".js-related-searches",["link"]),this.bindEvents([[this.$link,"click",this._onLinkClick]])},e.Views.Modules.RelatedSearches.prototype=$.extend({},t.prototype,{template:"related_searches_module",_render:function(i){var s=Math.ceil(i.model.items.length/2),a=i.model.items,o={query:Handlebars.Utils.escapeExpression(e.history.get("q")),firstHalf:a.slice(0,s),secondHalf:a.slice(s)};this.isSideItem||(o.isAtBottom=!0),$.extend(this.model,o),t.prototype._render.call(this)},_onLinkClick:function(e){e.stopPropagation();var i={isPinnedToBottom:!!this.model.isAtBottom};return this.model.engaged(i),t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.Covid19=function(i){t.call(this,i),this._cacheElems(".js-covid19",["link","cases","local","localrow","world","tab1","tab2","tab3","tab4","tab5","panel1","panel2","panel3","panel4","panel5","feedback","footer","footer-separator","stats","updated","wiki","toggle","more","less","overflow"]),this.bindEvents([[this.$link,"click",this._onExternalLinkClick],[this.$wiki,"click",this._onExternalLinkClick],[this.$tab1,"click",this._tabClick],[this.$tab2,"click",this._tabClick],[this.$tab3,"click",this._tabClick],[this.$tab4,"click",this._tabClick],[this.$tab5,"click",this._tabClick],[this.$stats,"click",this._moreStats],[this.$toggle,"click",this._onToggleClick],[this.model,"change:loaded",this._showCases],[this.model,"change:expanded",this._onExpandedChange]]),this.$less.hide(),this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"covid",promptText:lp("feedback form","Share Feedback"),appendTo:this.$feedback,showYesNo:!1}),this.pixelId="covid19",this.model.getCasesData();var s=this.model.vaccines&&/(vaccines?)|(mortality)|(deaths)/.test(this.model.query);this._openTab(s?5:1)},e.Views.Modules.Covid19.prototype=$.extend({},t.prototype,{template:"covid_19",_openTab:function(t){this.$tab1.removeClass("is-active"),this.$tab2.removeClass("is-active"),this.$tab3.removeClass("is-active"),this.$tab4.removeClass("is-active"),this.$tab5.removeClass("is-active"),this.$panel1.addClass("is-hidden"),this.$panel2.addClass("is-hidden"),this.$panel3.addClass("is-hidden"),this.$panel4.addClass("is-hidden"),this.$panel5.addClass("is-hidden"),this["$panel"+t].removeClass("is-hidden"),this["$tab"+t].addClass("is-active"),e.pixel.fire("iae",this.pixelId,this.model.openType,{t:t})},_moreStats:function(e){e.preventDefault(),this._openTab(4)},_tabClick:function(e){e.preventDefault();var t=$(e.currentTarget);if(this["$panel"+t.data("id")].removeClass("is-hidden"),this._openTab(t.data("id")),4===t.data("id")){this.model.set("expanded",!1),this.$toggle.show();var i=this.$panel4.get(0);i.scrollWidth>i.clientWidth?this.$overflow.show():this.$overflow.hide()}else this.$toggle.hide(),this.$overflow.hide()},_showCases:function(){this.$cases.removeClass("is-hidden"),this.$world.text(this.model.worldLabel+": "+this.model.world.toLocaleString()),this.model.local&&(this.$localrow.removeClass("is-hidden"),this.$local.text(this.model.displayCountryName+": "+this.model.local.toLocaleString())),this.$panel4.append(DDG.exec_template("covid_19_cases",this.model)),this.$updated.text(this.model.updated),e.device.isMobile||this.$footerseparator.show()},_updateExpandedState:function(){this.model.expanded?(this.$toggle.show(),this.$more.hide(),this.$less.show(),this.$panel4.addClass("is-expanded")):(this.$toggle.show(),this.$more.show(),this.$less.hide(),this.$panel4.removeClass("is-expanded"))},_onExternalLinkClick:function(i){return i.stopPropagation(),e.pixel.fire("iae",this.pixelId,this.model.openType),t.prototype._onExternalLinkClick.call(this,i)},_onToggleClick:function(e){e.stopPropagation(),this.model.set("expanded",!this.model.expanded)},_onExpandedChange:function(){this._updateExpandedState()}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.SpreadCTA=function(i){var s=e.pageLayout.layout.sidebar;if(s&&s.items.length){var a=s.items.map((function(e){return e&&e[0]})),o=e.modulesLayout.modules,n=Object.keys(o),r=n.map((function(e){return o[e].pixelId||e})),l=a.filter((function(e){return"ad"===e||n.includes(e)||r.includes(e)})).indexOf("spreadCTA");i.model.hasTopMargin=l>0}t.call(this,i)},e.Views.Modules.SpreadCTA.prototype=$.extend({},t.prototype,{template:"spread_cta",_render:function(){t.prototype._render.call(this),this._cacheElems(".js-spread-cta",["link"]),this.$el.click(this._onClick.bind(this))},_onClick:function(e){e.stopPropagation(),this.model.engaged&&this.model.engaged(),e.target=this.$link[0],e.currentTarget=this.$link[0],this._onExternalLinkClick(e)}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.Lyrics=function(e){t.call(this,e)},e.Views.Modules.Lyrics.prototype=$.extend({},t.prototype,{template:"lyrics_module",_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-lyrics-module",["content","footer","toggle","link"]),this.bindEvents([[this.model,"change:expanded",this._onExpandedChange],[this.$content,"click",this._onContentClick],[this.$toggle,"click",this._onToggleClick],[this.$link,"click",this._onExternalLinkClick]]),this._calculateContentHeight(),this._updateExpandedState(),e.device.isEnglish&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"lyrics",promptText:lp("feedback form","Share Feedback"),appendTo:this.$el,showYesNo:!1}))},_calculateContentHeight:function(){var e=this.$content[0];this.model.canExpand=!1,e&&e.scrollHeight&&e.scrollHeight>e.clientHeight&&(this.model.canExpand=!0,this.$footer.addClass("can-expand"))},_updateExpandedState:function(){this.model.canExpand?(this.$toggle.show(),this.model.expanded?this.$el.addClass("is-expanded"):this.$el.removeClass("is-expanded"),this.model.expanded||window.scrollTo(0,0)):this.$toggle.hide()},_onExpandedChange:function(){this._updateExpandedState()},_onContentClick:function(){this.model.engaged&&this.model.engaged(),e.device.isMobileDevice&&(e.pixel.fire("iasm",this.model.pixelId,this.model.openType),this.model.set("expanded",!this.model.expanded))},_onToggleClick:function(t){t.stopPropagation(),this.model.engaged&&this.model.engaged(),e.pixel.fire("iasm",this.model.pixelId,this.model.openType),this.model.set("expanded",!this.model.expanded)},_onExternalLinkClick:function(e){return e.stopPropagation(),this.model.engaged&&this.model.engaged(),this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.DisinformationWarning=function(e){t.call(this,e)},e.Views.Modules.DisinformationWarning.prototype=$.extend({},t.prototype,{template:"disinformation_warning",_render:function(i){t.prototype._render.call(this),this._cacheElems(".js-disinformation-warning",["source","feedbackContainer"]),this.bindEvents([[this.$source,"click",this._onExternalLinkClick]]),e.device.isEnglish&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"disinformationWarning",promptText:lp("feedback form","Share Feedback"),genericLabel:"This answer is helpful",appendTo:this.$feedbackContainer,showYesNo:!1}))},_onExternalLinkClick:function(i){return i.stopPropagation(),e.pixel.fire("infoboxclick",e.duckbar.disinfoExp.getPixelData()),this.model.engaged&&this.model.engaged(),t.prototype._onExternalLinkClick.call(this,i)}})}(DDG),function(e){var t=e.Views.Base;e.Views.About.AboutItem=function(i){this.answer=i.answer,t.call(this,i),this._cacheElems(".js-about-item",["abstr","link","directions","more-at-inline","more-at-bottom","clickable-header"]),this.bindEvents([[this.answer,"change:expanded",this._onExpandedChange],[this.$link,"click",this._onExternalLinkClick],[this.$directions,"click",this._onDirectionsClick],[this.$moreatinline,"click",this._onExternalLinkClick],[this.$moreatbottom,"click",this._onExternalLinkClick],[this.$clickableheader,"click",this._onExternalLinkClick]]),this.model.hasInfobox&&(this.views.infobox=new e.Views.About.AboutInfoBox({appendTo:this.$el,model:this.model.infobox})),this.model.profiles&&(this.answer.set("profileLinks",this.model.profiles.links.length),this.views.profiles=new e.Views.About.AboutProfiles({appendTo:this.$el,model:this.model.profiles,answer:this.answer})),this._updateExpandedState()},e.Views.About.AboutItem.prototype=$.extend({},t.prototype,{template:"about_item",_render:function(){if(this.model.isMapExpanded=this.answer.isMapExpanded,t.prototype._render.call(this,this.model),this.answer.isMapExpanded&&this._cacheElems(".js-about-item",["title"]),this.model.header){var i=e.duckbar.tabs.maps_expanded,s=i&&i.expandedMap&&i.expandedMap.model,a=s&&s.directionsModel;e.directionsModel=e.directionsModel||a||new e.Models.Maps.Directions}},_prettifyCode:function(){var e=this.$("pre");e.length&&DDG.require("prettify",(function(){e.addClass("prettyprint"),window.prettyPrint()}))},_updateExpandedState:function(){this.model.getAbstract&&this.$abstr.html(this.model.getAbstract()),this.model.hasCode&&this._prettifyCode(),this.model.showMoreAtBottom&&(this.model.showMoreAtBottom()?(this.$moreatbottom.removeClass("is-hidden"),this.$moreatinline.addClass("is-hidden")):(this.$moreatbottom.addClass("is-hidden"),this.$moreatinline.removeClass("is-hidden")))},_openDirections:function(){e.directionsModel&&(e.directionsModel.canRetryLocationSearch=!1,e.directionsModel.setLocation({type:"end",what:this.model.Heading,display:this.model.Heading}),e.directionsModel.set("endDisplay",this.model.Heading),e.directionsModel.userLocation&&e.directionsModel.setLocationToUserLocation("start"),this.answer.isMapExpanded?(this.answer.set("isDirectionsActive",!0),e.directionsModel.onDirectionsAction()):e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0,isDirections:!0}))},_onExpandedChange:function(){this.answer.expanded?this.model.expand():this.model.collapse(),this._updateExpandedState()},_onExternalLinkClick:function(e){var i=$(e.currentTarget),s=i&&i.attr("title");return e.stopPropagation(),this.answer.clickedExternalLink({plc:s}),this.answer.engaged(),t.prototype._onExternalLinkClick.call(this,e)},_onDirectionsClick:function(){e.pixel.fire("dir_loc"),this._openDirections()}})}(DDG),function(e){var t=e.Views.Base;e.Views.About.AboutInfoBox=function(e){t.call(this,e),this.bindEvents([[this.model,"change:expanded",this._rerender]])},e.Views.About.AboutInfoBox.prototype=$.extend({},t.prototype,{template:"about_infobox",_render:function(){t.prototype._render.call(this,this.model)}})}(DDG),function(e){var t=e.Views.Base;e.Views.About.AboutHeader=function(e){this.answer=e.answer,t.call(this,e),this._timeoutId=null,this.bindEvents([[this.model,"change:mapLocation",this._onMapLocationChanged],[this.model,"change:mapFailed",this._onMapFailed]]),this.model.mapLocation&&this._renderMap()},e.Views.About.AboutHeader.prototype=$.extend({},t.prototype,{template:"about_header",_render:function(e){t.prototype._render.call(this,this.model),this._cacheElems(".js-about-header",["image","map"]),this.bindEvents([[this.$image,"click",this._onImageClicked],[this.$map,"click",this._onMapClicked]])},_renderMap:function(){this.views&&this.views.map||(this._timeoutId=setTimeout(function(){this.views&&!this.views.map&&(this.views.map=new e.Views.Mapkit.StaticMap({markers:[this.model.mapLocation],width:this.$map.outerWidth(),height:this.$map.outerHeight(),appendTo:this.$map,showCTA:!0,answer:this.answer}))}.bind(this),0))},destroy:function(){null!=this._timeoutId&&clearTimeout(this._timeoutId),t.prototype.destroy.call(this)},_onMapLocationChanged:function(){this._renderMap()},_onMapFailed:function(){e.pixel.fire("ia_header_map_failed",this.answer.pixelId,this.answer.getPixelData())},_onImageClicked:function(){e.pixel.fire("ia_header_img_click",this.answer.pixelId,this.answer.openType,this.answer.getPixelData()),e.duckbar.open("images")},_onMapClicked:function(t){t.preventDefault(),e.router.navigate("toggle-map",{model:this.answer,directionsModel:e.directionsModel,isMapExpanded:!0}),this.answer.fire("iacg"),e.pixel.fire("ia_header_map_click",this.answer.pixelId,this.answer.openType,this.answer.getPixelData())}})}(DDG),function(e){var t=e.Views.Base;e.Views.About.AboutProfiles=function(e){this.answer=e.answer,t.call(this,e),this.bindEvents([[this.model,"change:links",this._rerender]])},e.Views.About.AboutProfiles.prototype=$.extend({},t.prototype,{template:"about_profiles",_render:function(){t.prototype._render.call(this,this.model),this.bindEvents([[".js-about-profile-link","click",this._onExternalLinkClick]])},_onExternalLinkClick:function(e){var i=$(e.currentTarget),s=i&&i.attr("title");return e.stopPropagation(),this.answer.clickedExternalLink({plc:s}),this.answer.engaged(),t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t=e.Views.Base;e.Views.Verticals.Base=function(i){this.views={items:[],itemsById:{}},t.call(this,i),this.$results=this.$results||this.$(".js-vertical-results"),this.$moduleWrapper=this.$(".js-vertical-sidebar-modules"),this._createFilterDropdowns(),this.bindEvents([[e.device,"resize",this._onResize],[this.model,"change:active",this._onActiveChanged],[this.model,"change:items",this._onItemsChanged],[this.model,"no-results",this._onNoMoreResults],[this.model,"change:failed",this._onFailed],[this.model,"change:isRequerying",this._onRequeryingChanged],[this.model,"change:isLoading",this._onLoadingChanged],[e.deep,"load:initial",this._showFeedbackBtn.bind(this)]]),this.model.active&&this.show(),this.model.items.length?this._updateItems():this.model.failed&&this.showNoResults(),e.deep.finished&&this._showFeedbackBtn()},e.Views.Verticals.Base.prototype=$.extend({},t.prototype,{isValid:function(){return!0},show:function(){this.$el.removeClass("is-hidden"),e.keyboard.set("namespace",this.model.id),e.hidden.set("iar",this.model.id)},hide:function(){this.$el.addClass("is-hidden"),e.keyboard.clear("namespace"),e.hidden.clear("iar",this.model.id)},showNoResults:function(){this.views.noResults||(this.views.noResults=new e.Views.NoResults({vertical:this.model.pixelId,resultType:this.model.meta.itemType,appendTo:this.$results})),this.views.noResults.show(),this._showingNoResults=!0},hideNoResults:function(){this.views.noResults.hide(),this._showingNoResults=!1},_render:function(e){e.id=this.model.id,t.prototype._render.call(this,e)},_updateItems:function(){this._showingNoResults&&this.hideNoResults();for(var e=0;e<this.model.items.length;e++){var t=this.model.items[e];this.views.itemsById[t.id]||this._appendItem(t)}},_appendItem:function(e){if(!this.ItemClass)throw new Error("Can't append item to vertical, no item view was defined ");var t=new this.ItemClass({model:e,answer:this.model,appendTo:this.$results});this.views.items.push(t),this.views.itemsById[e.id]=t},_createFilterDropdowns:function(){var t=this.$(".js-vertical-filters");0!==t.length&&(this.views.filters=new e.Views.Dropdowns.FilterContainer({$el:t,answer:this.model}))},_showFeedbackBtn:function(){this.views.feedback||e.device.isMobile||(this.views.feedback=new e.Views.Feedback.Button({appendTo:this.$(".js-vertical-bottom-right"),category:this.model.id+"vertical"}))},_onFailed:function(){this.model.failed&&(this.model.items.length?this._updateItems():this.showNoResults())},_onActiveChanged:function(){this.model.active?this.show():this.hide()},_onItemsChanged:function(){this._updateItems()},_onRequeryingChanged:function(e){if(this.$el.toggleClass("is-requerying",e),!e){for(var t=0;t<this.views.items.length;t++)this.views.items[t].destroy();this.views.items=[],this.views.itemsById={}}},_onLoadingChanged:$.noop,_onResize:$.noop,_onNoMoreResults:$.noop})}(DDG),function(e){var t=e.Views.ClickableItem;e.Views.Verticals.VerticalLinkItem=function(i){this.model=i.model,this.answer=i.answer,t.call(this,i),this._cacheElems(".js-result",["image","image-wrapper","img-placeholder"]),this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.$image,"error",this._onImageFail],[this.$image,"load",this._onImageLoad],[this.model,"change:image",this._onImageFetched],[this.model,"change:highlighted",this._onHighlightedChanged],[e.device,"resize",this._onResize]])},e.Views.Verticals.VerticalLinkItem.prototype=$.extend({},t.prototype,{template:"vertical_link_item",open:function(){this.$el.click()},getBounds:function(){if(!this._bounds){var e=this.$el.offset().top,t=e+this.$el.height();this._bounds={top:e,bottom:t}}return this._bounds},_render:function(i){t.prototype._render.call(this,$.extend(i,{urlAboveSnippet:e.settings.isDefault("kai"),favicons:e.settings.isDefault("kf"),targetBlank:"1"===e.settings.get("kn"),isIE:e.device.isIE,isNews:"news"===this.model.parentId}))},_onImageFetched:function(){var t=DDG.getImageProxyURL(this.model.image,{height:150,noFallback:!e.device.isIE});this.$image=e.device.isIE?$('<div class="result__image__img" style="background-image:url('+t+')"></div>'):$('<img class="result__image__img" src="'+t+'" />'),this.$imagewrapper.append(this.$image),e.device.isIE?this.$imgplaceholder.hide():this.bindEvents([[this.$image,"error",this._onImageFail],[this.$image,"load",this._onImageLoad]])},_onImageFail:function(){this.$image.hide()},_onImageLoad:function(){this.$imgplaceholder.hide()},_onHighlightedChanged:function(){this.$el.toggleClass("highlight",!!this.model.highlighted)},_onClick:function(e,i){this.model.highlight(),t.prototype._onClick.call(this,e,i)},_onMouseEnter:function(t){e.keyboard.active||this.model.highlight()},_onMouseLeave:function(e){this.model.unhighlight()},_onResize:function(e){delete this._bounds}})}(DDG),function(e){var t=e.Views.Verticals.Base;e.Views.Verticals.VerticalLinks=function(i){if(t.call(this,i),this.bindEvents([[e.device,"scroll",this._onScroll]]),e.settings.isDefault("kk")&&this.bindEvents([[e.keyboard,"up."+this.model.id,this._onUp],[e.keyboard,"j."+this.model.id,this._onUp],[e.keyboard,"down."+this.model.id,this._onDown],[e.keyboard,"k."+this.model.id,this._onDown],[e.keyboard,"enter."+this.model.id,this._onEnter]]),this.$results.on("click",".js-result-more",this._onLoadMoreClick.bind(this)),this._pageNumber=1,this._selectItemFromQuerystring(),e.page&&e.page.serpStore){this._reactDOMRoot=document.createElement("div");var s=document.querySelector(".js-vertical-sidebar-modules");s&&(s.appendChild(this._reactDOMRoot),this._reactRoot=window.ReactDOMClient.createRoot(this._reactDOMRoot),this._reactRoot.render(window.React.createElement(window.contexts.DdgInstanceProvider,{settings:DDG.settings,device:DDG.device,extension:e.extension,opensearch:e.opensearch,deep:DDG.deep,backData:DDG.backData,pixel:DDG.pixel,searchExperiments:DDG.searchExperiments,searchBar:DDG.page&&DDG.page.searchbar,history:DDG.history,openTypeState:e.duckbar.openTypeState,ReactLegacyProps:e.Utils.ReactLegacyProps},window.React.createElement(window.contexts.TranslationProvider,{locale:window.locale,tokens:e.reactSerpTokens},window.React.createElement(window.contexts.SerpStoreContext.Provider,{value:e.page.serpStore},window.React.createElement(window.components.NewsVerticalSideModules))))))}},e.Views.Verticals.VerticalLinks.prototype=$.extend({},t.prototype,{template:"vertical_links",ItemClass:e.Views.Verticals.VerticalLinkItem,destroy:function(){this._reactRoot&&(this._reactRoot.unmount(),this._reactRoot=null),this._reactDOMRoot&&(this._reactDOMRoot.remove(),this._reactDOMRoot=null),t.prototype.destroy.call(this)},_addSpellingMessage:function(){this.$spelling||(this.$spelling=new e.Views.SpellingMessage({before:this.$results.selector,model:e.search.spelling,ia:this.model.id}))},_updateItems:function(){this._removeLoadMore(),(this.model.usingSpellingBackfill||DDG.deep.isBingV7()&&this.model.spellingCorrected)&&this._addSpellingMessage(),this.views.items.length&&this.views.items.length!==this.model.items.length&&(e.deep.isBingV7()&&this.model.initialLoad?this.model.initialLoad=!1:this._addSeparator()),t.prototype._updateItems.call(this),delete this._height,this._selectItemFromQuerystring(),this._showingNoResults||(this.model.canLoadMore()?(this.$loadMore=e.$exec_template("vertical_load_more"),this.$results.append(this.$loadMore)):this._showNoMoreResults()),this._onScroll()},_appendItem:function(e){t.prototype._appendItem.call(this,e),e.set("visible",!0)},_showNoMoreResults:function(){this._removeLoadMore(),e.footer.set("visible",!0)},_removeLoadMore:function(){this.$loadMore&&(this.$loadMore.remove(),delete this.$loadMore)},_addSeparator:function(){this._pageNumber++,new e.Views.Verticals.VerticalSeparator({appendTo:this.$results,pageNumber:this._pageNumber})},_loadMoreCheck:function(){if(e.settings.autoloadDisabled()){var t=e.history.get("pn");t&&this._pageNumber<t&&this.model.loadMore()}},_selectItemFromQuerystring:function(){if(!this._selectedItemFromQS){var t=e.history.get("iai"),i=e.history.get("ia");if(this.model.nameId===i&&void 0!==t){var s=this.model.itemsById[t];s&&(s.highlight(),this._updateScrollPosition(),this._selectedItemFromQS=!0)}}},_highlightFirstVisibleItem:function(){var t,i=this.views.items,s=e.device.scrollTop();if(i.length){if(0===s)t=i[0];else{s+=70+e.get_header_height();for(var a=0;a<i.length;a++)if(i[a].getBounds().top>s){t=i[a];break}}t&&(t.model.highlight(),this._updateScrollPosition())}},_isHighlightedItemVisible:function(){var t=this.model.highlightedItem&&this.views.itemsById[this.model.highlightedItem.id];if(t){var i=t.getBounds(),s=e.device.scrollTop(),a=e.device.height;return i.top>s&&i.bottom<s+a}},_updateScrollPosition:function(){var t=this.model.highlightedItem&&this.views.itemsById[this.model.highlightedItem.id];if(t){var i=t.getBounds(),s=i.top-70-e.get_header_height(),a=i.bottom+70,o=e.device.scrollTop(),n=e.device.height;(s=Math.max(0,s))<o?e.device.scrollTop(s):a>o+n&&e.device.scrollTop(a-n)}},_getHeight:function(){return this._height||(this._height=this.$results.height()),this._height},_onLoadingChanged:function(e){this.$loadMore&&this.$loadMore.toggleClass("is-loading",e)},_onNoMoreResults:function(){this._showNoMoreResults()},_onRequeryingChanged:function(e){t.prototype._onRequeryingChanged.call(this,e),e||(delete this._height,this._pageNumber=1,this.$(".js-result-sep").remove(),this.$loadMore&&this.$loadMore.remove(),delete this.$loadMore,this.$noMoreResults&&this.$noMoreResults.remove(),delete this.$noMoreResults)},_onLoadMoreClick:function(){this.model.loadMore()},_onResize:function(){t.prototype._onResize.call(this)},_onScroll:function(){if(this.model.active){var t=this._getHeight();!e.settings.isDefault("kav")&&t&&e.device.scrollTop()>t-2*e.device.height&&this.model.loadMore(),this._loadMoreCheck()}},_onUp:function(t){if(t.preventDefault(),this.model.highlightedItem===this.model.items[0])return this.model.highlightedItem.unhighlight();this._isHighlightedItemVisible()?(this.model.highlightPrevItem(),this._updateScrollPosition()):e.device.scrollTop()>0&&this._highlightFirstVisibleItem()},_onDown:function(e){e.preventDefault(),this._isHighlightedItemVisible()?(this.model.highlightNextItem(),this._updateScrollPosition()):this._highlightFirstVisibleItem()},_onEnter:function(e){e.preventDefault();var t=this.model.highlightedItem;t&&this.views.itemsById[t.id].open()}})}(DDG),function(e){var t=e.Views.Base;e.Views.Verticals.VerticalSeparator=function(e){t.call(this,e)},e.Views.Verticals.VerticalSeparator.prototype=$.extend({},t.prototype,{template:"vertical_separator",_render:function(i){var s,a,o=e.settings.get("kv");"-1"!==o&&("m"===o?a=!0:"l"===o?s=i.pageNumber:"1"===o&&(a=!0,s=i.pageNumber),t.prototype._render.call(this,{line:a,pageNumber:s}))}})}(DDG),function(e){var t=e.Views.Verticals.Base,i=["xs","s"],s=["maps_maps","maps_places","about","maps_expanded"],a="vertical--map__sidebar--",o="min",n="normal";e.Views.Verticals.VerticalMap=function(i){this._createVerticalMap(i),i.model=this.model,this.bindEvents([[this.model,"change:selectedItem",this._onSelectedItemChanged],[this.model,"change:sidebarLayout",this._onSidebarLayoutChanged],[this.model,"change:sidebarPosition",this._onSidebarPositionChanged],[this.model,"change:isDarkMap",this._onDarkMapChanged],[this.model,"change:isSearchAreaBtnVisible",this._onSearchAreaBtnVisibleChange],[this.model,"change:isMoreAtVisible",this._onIsMoreAtVisibleChange],[this.model,"change:isDirectionsActive",this._onIsDirectionsActiveChange],[this.model,"change:isMapStartActive",this._onIsMapStartActiveChange],[this.model,"change:proximity",this._onProximityChange],[this.model.meta,"change:query",this._onMetaQueryChange],[e.device,"resize",this._onResize],[e.settings,"change:"+e.settings.THEME_KEY,this._onThemeChange],[e.userLocator,"meaningfulUserLocationChange",this._onMeaningfulUserLocationChange]]),t.call(this,i)},e.Views.Verticals.VerticalMap.prototype=$.extend({},t.prototype,{template:"vertical_map",_onMeaningfulUserLocationChange:function(t){this.directionsModel&&(this.directionsModel.set("userLocation",null),this.directionsModel.fetchUserLocation(function(){this.model.isDirectionsActive&&this.directionsModel.userLocationDirectionType&&(this.directionsModel.setLocationToUserLocation(this.directionsModel.userLocationDirectionType),this.directionsModel.onDirectionsAction())}.bind(this))),this.model.isDirectionsActive||(e.userLocator.hasLocation()?(this.views.mapkitMap.renderUserLocation(),this.views.mapkitMap.recenter(e.userLocator.userLocation)):this.views.mapkitMap.removeUserLocation(),this.model.set({isSearchAreaBtnVisible:!0}))},_createVerticalMap:function(t){if(!t.answer)throw new Error("No answer model was passed when creating the Vertical Map. Here are the ops passed to Views.Verticals.VerticalMap._createVerticalMap: "+JSON.stringify(t));var i=t.answer,a={maps_places:1===i.items.length?e.Views.Places.PlacesSingleMap:e.Views.Places.PlaceListItem,maps_maps:e.Views.Address.AddressDetail,about:e.Views.Modules.AboutMap},o=i.items;if("about"===i.id)try{o=[i.items[0].header.mapLocation]}catch(l){}if(this.model=new e.Models.Answers.ExpandedMap({data:i.data,answerItemModel:i.model,queryEncoded:i.queryEncoded,name:i.name,nameId:i.nameId,sourceName:i.sourceName,sourceUrl:i.sourceUrl,isMoreAtVisible:i.isMoreAtVisible,mapLocation:o&&o[0]}),e.router.add("requery",this._handleRequery.bind(this)),e.modulesLayout&&e.modulesLayout.modules&&e.modulesLayout.modules.directions)var n=!0,r=e.modulesLayout.modules.directions.directionsModel;this.model.directionsModel=e.directionsModel||t.directionsModel||r,t.isDirectionsActive=t.isDirections||n,t.directionsModel=this.model.directionsModel,this.ItemClass=a[i.id],this.mapClickCount=0,this.isMapRenderPending=!1,this._glMapModel=this.model.glMapModel||new e.Models.GLMap({locations:o||this.model.itemsOnMap,pixelId:this.model.pixelId}),this.model._glMapModel=this._glMapModel,this.model.set("approx_geo_bbox",this._glMapModel.getApproximateGeoBBox()),this.model.isMapSidebarVisible=s.indexOf(this.model.id)>-1,this.model.isDarkMap=e.settings.isDarkTheme(),t.directionsModel?this._initDirectionsModel({model:t.directionsModel}):this._initDirectionsModel({query:!(e.history.get("start")||e.history.get("end"))&&t.model&&t.model.query}),this.model.directionsModel=this.directionsModel,this.model.set("isDirectionsActive",!!t.isDirectionsActive),this.model.on("change:isMapExpanded",this._resetState.bind(this))},show:function(){t.prototype.show.call(this),this.updateTheme(this.model.isDarkMap),this.model.isDirectionsActive||"start"===e.history.get("iaxm")?this.directionsModel&&this.directionsModel.fetchUserLocation(function(){this._renderMapkitMap()}.bind(this)):this._renderMapkitMap(),this.model.isDirectionsActive?this.directionsModel&&this.directionsModel.onDirectionsAction({noRouting:this.directionsModel.hasResults}):this._updateItems(),this.model.isMapSidebarVisible&&this._renderSidebar(function(){this._maybeShrinkDrawer()}.bind(this)),this._selectItemFromQuerystring(),$("html").addClass("has-vertical-map-open"),e.page.searchbar&&e.page.searchbar.disableTabIndexes()},hide:function(){this.views.userLocControl&&this.views.userLocControl.hide(),$("html").removeClass("has-vertical-map-open"),e.page.searchbar&&e.page.searchbar.enableTabIndexes(),t.prototype.hide.call(this),this.model.selectedItem&&this.model.selectedItem.unselect()},updateTheme:function(e){var t=a+"light",i="is-dark-map";e?(this.$toggle.removeClass(t),this.$el.addClass(i)):(this.$toggle.addClass(t),this.$el.removeClass(i))},showNoResults:function(){if(this.views.noResults?this.views.noResults.updateQuery(this.model.meta.query):this.views.noResults=new e.Views.NoMapResults({vertical:this.model.pixelId,resultType:this.model.meta.itemType,query:this.model.meta.query,appendTo:this.$results,model:this.model}),this.views.noResults.show(),this._showingNoResults=!0,this.$el.addClass("vertical--map--no-results"),this.model.set("isMoreAtVisible",!1),this._maybeShrinkDrawer(),e.history.get("bbox")){var t=e.history.get("bbox").split(",");this.views.mapkitMap.updateRegion((parseFloat(t[0])+parseFloat(t[2]))/2,(parseFloat(t[1])+parseFloat(t[3]))/2,Math.abs(parseFloat(t[2])-parseFloat(t[0])),Math.abs(parseFloat(t[3])-parseFloat(t[1])))}else this.model.hasShownItems||this.views.mapkitMap.updateRegion(this.model.meta.geoip.lat,this.model.meta.geoip.lon,2,2)},_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-vertical-map",["map","control-topright","sidebar","toggle","toggle-button","sidebar-inner","results-container","results","detail","close-map","controls-topcenter","requery","back-to-list","back-to-serp","more","more-link","footer","mask"]),this.views.mapSideBarFooter=new e.Views.Maps.MapSidebarFooter({appendTo:this.$footer,model:this.model}),e.userLocator.canShowPUL()&&e.device.isDesktop&&(this.views.locationTile=new e.Views.UserLocation.UserLocationBadge({appendTo:this.$controltopright,$originEl:this.$el,isProximityQuery:!1})),this.model.isMapSidebarVisible&&this._updateSidebarLayout(),e.device.isSearchBarAtBottom&&this.$sidebarinner.addClass("has-extra-bottom-padding"),this.show(),e.pixel.fire("map_ei"),this.bindEvents([[this.$sidebar,"click",this._onSidebarEngagement],[this.$requery,"click",this._onRequeryClick],[this.$toggle,"click",this._onSidebarToggleClicked]]),e.device.isMobileDevice&&this.bindEvents([[this.$el,"scroll",this._onVerticalMapScroll]])},_updateSidebarLayout:function(){if(this.model.isMapExpanded){var t=i.indexOf(e.device.widthBreakpoint())>-1;this.model.set("sidebarLayout",t&&e.device.isMobilePortrait()?"bottom":"left")}},_updateItems:function(){this.model.isDirectionsActive||(this.model.set("hasShownItems",!0),this.$el.addClass("vertical--map--has-shown-items"),"MapLocation"===this.model.answerItemModel?this.ItemClass=e.Views.Address.AddressDetail:"Place"===this.model.answerItemModel?this.ItemClass=e.Views.Places[this.model.items.length>1?"PlaceListItem":"PlacesSingleMap"]:"About"===this.model.answerItemModel?this.ItemClass=e.Views.Modules.AboutMap:this.ItemClass=e.Views.Address.AddressDetail,this._updateMoreAtLink(),this.views.noResults&&(this.views.noResults.destroy(),this.$el.removeClass("vertical--map--no-results")),t.prototype._updateItems.call(this),this._positionSidebar(),this._resetSidebarScroll(),this.views&&this.views.mapkitMap&&(this.views.mapkitMap.updateMarkers(),this.views.mapkitMap.updateMap(this._getMapOffset())),this._maybeShrinkDrawer(),this._saveCurrentViewport())},_updateMoreAtLink:function(){var t=this.model.items&&this.model.items.length>1&&this.model.sourceUrl&&this.model.moreAtExternalServiceText;if("Place"===this.model.answerItemModel&&t){var i=this.model.items.length>1?this.model.sourceUrl:this.model.items[0].url,s=this.model.items.length>1?this.model.moreAtExternalServiceText:this.model.items[0].moreAtExternalServiceText,a=document.createTextNode(e.strip_all_html(s)),o=e.get_favicon_url(i);this.$morelinkimg=this.$morelink.find("img"),this.$morelinkimg.attr("src",o),this.$morelink.attr("href",i),this.$morelink.text(""),this.$morelink.append(this.$morelinkimg),this.$morelink.append(a),this.model.set("isMoreAtVisible",!0),this.$more.removeClass("is-hidden")}else this.model.set("isMoreAtVisible"),this.$more.addClass("is-hidden")},_saveCurrentViewport:function(){if(!this.model.isRequerying&&this.model&&this.views&&this.views.mapkitMap){var e=this.views.mapkitMap.views.map.region.center.latitude,t=this.views.mapkitMap.views.map.region.center.longitude,i=this.views.mapkitMap.views.map.region.span.latitudeDelta,s=this.views.mapkitMap.views.map.region.span.longitudeDelta;if(!e&&!t)return;this.model.set("geo_bbox",this._glMapModel.getGeoBBox(e,t,i,s))}},_renderUserLocControl:function(){!this.views.userLocControl&&e.userLocator.canGetLocation()&&"b"!==e.search.userLocationExp&&(this.views.userLocControl=new e.Views.Mapkit.UserLocationControl({model:e.userLocator,appendTo:this.$controltopright}))},_getMapOffset:function(){var t=0,i=0,s=0;return"left"===this.model.sidebarLayout&&this.model.sidebarPosition!==o?i=this.$sidebar.width():"bottom"===this.model.sidebarLayout&&(t=this.model.isDirectionsActive?150:56,s=this.model.sidebarPosition===o?45:e.device.height/2),{top:t,right:0,bottom:s,left:i}},_renderMapkitMap:function(){if(window.debugMap=this,!this.views.mapkitMap&&!this.isMapRenderPending){this.isMapRenderPending=!0;var t={markers:this._glMapModel.selectedLocation?[this._glMapModel.selectedLocation]:this.model.itemsOnMap,model:this._glMapModel,answer:this.model,markerType:"circle",appendTo:this.$map,mapOffset:this._getMapOffset(),onMapReady:this._onMapReady.bind(this),hideMapTypeControl:!0,hideScale:e.device.isMobile||e.device.isMobileDevice};e.mapkit.isInitialized?setTimeout(function(){this._createMapkitView(t)}.bind(this),0):e.mapkit.init(function(){this._createMapkitView(t)}.bind(this))}},_createMapkitView:function(t){this.model.isDirectionsActive&&(t.isDirections=!0),this.directionsModel&&this.directionsModel.userLocation&&(t.userLocation=this.directionsModel.userLocation),this.views.mapkitMap=new e.Views.Mapkit.Map(t),this.bindEvents([[this.views.mapkitMap,"scrollzoom",this._onMapScrollZoom],[this.views.mapkitMap,"load",this._saveCurrentViewport],[this.views.mapkitMap,"select",this.blurSearchInput],[this.views.mapkitMap,"dragend",this._onDragEnd],[this.views.mapkitMap,"click",this._onMapClick],[this.views.mapkitMap,"single-tap",this._onMapSingleTap]]),this.model.isDirectionsActive?(this.$resultscontainer.hide(),this.directionsModel||this._initDirectionsModel({query:this.model.query}),this.directionsModel.hasResults&&this.views.mapkitMap.model.set("canShowMap",!0),this.views.directionsResults||(this.views.directionsResults=new e.Views.Maps.DirectionsResults({model:this.directionsModel,answer:this.model,map:this.views.mapkitMap,prependTo:this.$sidebarinner})),this.views.directionsResults.show(),this._createDirectionsPrintErrorMessage()):(this.$resultscontainer.show(),this.views.directionsResults&&this.views.directionsResults.hide())},_createDirectionsPrintErrorMessage:function(){this.views.directionsPrintErrorMessage=this.views.directionsPrintErrorMessage||new e.Views.Maps.DirectionsPrintErrorMessage({model:this.directionsModel,answer:this.model,appendTo:$("body")})},_selectItemFromQuerystring:function(){var t=e.history.get("iai");if("places"===this.model.nameId&&void 0!==t){var i=this.model.itemsById[t];i&&(i.select(),this._isSelectedItemFromQS=!0,this._resetSidebarScroll())}},_initDirectionsModel:function(t){e.directionsModel=this.directionsModel=t.model||new e.Models.Maps.Directions,this.bindEvents([[this.directionsModel,"change:routeList",this._onDirectionsRouteListChange],[this.directionsModel,"change:isRouting",this._onDirectionsIsRoutingChange]]),t.query&&this.directionsModel.setLocation({type:"end",what:t.query})},_renderSidebar:function(e){this.views.mapSidebar?this._updateSidebarLayout():this.views.mapSidebar=this._createSidebar("maps",e)},_createSidebar:function(t,i){var s,a={model:this.model,appendTo:this.$sidebar,directionsModel:this.directionsModel};return(s=new("bottom"===this.model.sidebarLayout?e.Views.Maps.MapSidebarMobile:e.Views.Maps.MapSidebar)(a)).views&&s.views.mapSearchbar&&(s.views.mapSearchbar.on("requery-submit",function(e){this.onRequeryAction(e)}.bind(this)),s.views.mapSearchbar.autocomplete&&s.views.mapSearchbar.autocomplete.on("requery-submit",function(e){this.onRequeryAction(e)}.bind(this))),setTimeout(function(){this.model.sidebarPosition===n?this._positionSidebar():this.model.set("sidebarPosition",n),i()}.bind(this),0),s},_positionSidebar:function(){var e=this.model.sidebarPosition!==o;this.$sidebar.toggleClass("vertical--map--sidebar-closed",!e),"bottom"===this.model.sidebarLayout?this.$sidebar.css("transform",""):"left"===this.model.sidebarLayout&&(this.$controlstopcenter.css("transform",""),e?(this.$sidebar.css("transform","translateX(0)"),this.$togglebutton.html("<")):(this.$sidebar.css("transform","translateX(-"+this.$sidebar.width()+"px)"),this.$togglebutton.html(">")))},_maybeShrinkDrawer:function(){var t=this.$sidebarinner.prop("scrollHeight"),i=e.device.height;if("bottom"===this.model.sidebarLayout&&this.model.sidebarPosition!==o&&(this.model.hasShownItems||this._showingNoResults)&&t<i/2){var s=(i-t)/i*100;this.$sidebar.css("top",s+"%"),this.$mask.css("height",100-s+"%");var a=this._getMapOffset();a.bottom=t,this.views.mapkitMap&&this.views.mapkitMap.updateMapOffset(a),this.$controlstopcenter.css("bottom","calc("+(100-s)+"% + 42px)")}else this.$sidebar.css("top",""),this.$mask.css("height",""),this.$controlstopcenter.css("bottom","")},_onSidebarLayoutChanged:function(e,t){this.$el.removeClass("vertical--map--sidebar-"+t),this.$el.addClass("vertical--map--sidebar-"+e),this.views.mapSidebar&&(this.views.mapSidebar.destroy(),this.views.mapSidebar=null),this._renderSidebar(function(){setTimeout(function(){this.views.mapkitMap&&this.views.mapkitMap.updateMap(this._getMapOffset()),this._maybeShrinkDrawer()}.bind(this),0)}.bind(this))},_onSidebarPositionChanged:function(e,t){setTimeout(function(){t&&this.$sidebar.removeClass(a+t),this.$sidebar.addClass(a+e)}.bind(this),0),this._positionSidebar(),this.views.mapkitMap&&this.views.mapkitMap.updateMapOffset(this._getMapOffset()),this._maybeShrinkDrawer(),this.$el.toggleClass(a+o,e===o)},_onDarkMapChanged:function(){this.updateTheme(this.model.isDarkMap)},_onSidebarToggleClicked:function(){var t=this.model.sidebarPosition===o?n:o;this.model.set("sidebarPosition",t),e.pixel.fire("map_est")},_onSidebarEngagement:function(){e.pixel.fire("map_ese")},_onVerticalMapScroll:function(t){if(e.device.isMobilePortrait()){var i=this._getScrollable().scrollTop();this.$el.toggleClass("vertical--map--scrolled-up",i>0)}},onRequeryAction:function(t){this.model.set("isSearchAreaBtnVisible",!1);var i=t&&t.suggestion,s=i&&i.metadata;t&&t.query?t.query=t.query:i?(t.query=i.what,i.metadata||!i.where||i.where.match(lp("vertical_map","Search Near My Location"),"i")||i.where.match(lp("vertical_map","Search Current Map Area"),"i")||(t.query+=" "+i.where),!i.metadata&&i.where&&i.where.match(lp("vertical_map","Search Current Map Area"),"i")&&(t.strict_bbox=1)):this.model.meta&&this.model.meta.requery?t.query=e.Utils.Strings.decodeHex(this.model.meta.requery):t.query=e.Utils.Strings.decodeHex(this.model.query),t.strict_bbox=t.strict_bbox||"1",t.shouldMapViewportUpdate=!t.hasOwnProperty("shouldMapViewportUpdate")||t.shouldMapViewportUpdate,t.isSearchMapAreaPending=!!t.hasOwnProperty("isSearchMapAreaPending")&&t.isSearchMapAreaPending;var a={q:t.query,strict_bbox:t.strict_bbox},o=this.model.geo_bbox||this._glMapModel.getApproximateGeoBBox();o&&(a.bbox=o.top_left+","+o.bottom_right),s&&(a.metatoken=this.model.saveMetadata(s)),e.history.get("iai")&&!t.iai&&e.history.clear("iai"),e.history.get("metatoken")&&e.history.clear("metatoken"),t.isFromStaticMapsTab||e.history.set(a),e.router.navigate("requery",t)},_onRequeryClick:function(){this.onRequeryAction({shouldMapViewportUpdate:!1,isSearchMapAreaPending:!0}),this.model.set("isSearchAreaBtnVisible",!1),e.pixel.fire("map_ere"),e.pixel.fire("map_er","area")},blurSearchInput:function(){this.views.mapSidebar&&this.views.mapSidebar.blurSearchInput&&this.views.mapSidebar.blurSearchInput()},_getScrollable:function(){return"bottom"===this.model.sidebarLayout?this.$el:this.$sidebarinner},_resetSidebarScroll:function(){this._getScrollable().scrollTop(0)},_captureSidebarScroll:function(){this.model.set("lastPlacesScrollTop",this._getScrollable().scrollTop())},_restoreSidebarScroll:function(){null!=this.model.lastPlacesScrollTop&&this._getScrollable().scrollTop(this.model.lastPlacesScrollTop)},_onMapScrollZoom:function(){this.blurSearchInput(),this.model.isDirectionsActive||this.model.set("isSearchAreaBtnVisible",!0)},_onResize:function(){this.model.isMapSidebarVisible&&(this._updateSidebarLayout(),this._positionSidebar(),this.views.mapkitMap&&this.views.mapkitMap.updateMap(this._getMapOffset()),this._maybeShrinkDrawer())},_onDragEnd:function(){this.blurSearchInput(),this._saveCurrentViewport()},_onMapClick:function(e){this.blurSearchInput()},_onMapSingleTap:function(){e.device.isMobileDevice&&this.model.selectedItem&&this.model.selectedItem.unselect()},_onSelectedItemChanged:function(t){var i;"Place"!==this.model.answerItemModel&&"Places"!==this.model.answerType||this.model.isSingle||(i=!!t,!!this.views.currentItemDetail?(this.views.currentItemDetail.destroy(),delete this.views.currentItemDetail):this._captureSidebarScroll(),i?(this._setDocumentTitle(t.name),this.model.primaryPlace=t,this.views.currentItemDetail=new e.Views.Places.PlacesSingleMap({answer:this.model,model:this.model.primaryPlace,appendTo:this.$detail}),this.$detail.show(),this.$resultscontainer.hide(),this.$results.hide(),this.$more.hide(),this.$backtoserp.hide(),this.$backtolist.removeClass("is-hidden"),this._resetSidebarScroll()):(this._setDocumentTitle(this.model.meta.query||this.model.query),this.$detail.hide(),this.$resultscontainer.show(),this.$results.show(),this.$more.show(),this.$backtoserp.show(),this.$backtolist.addClass("is-hidden"),this._restoreSidebarScroll()),this._maybeShrinkDrawer(),this.model.sidebarPosition===o&&this.model.set("sidebarPosition",n))},_onThemeChange:function(){this.model.set("isDarkMap",e.settings.isDarkTheme())},_onSearchAreaBtnVisibleChange:function(){this.$requery.toggleClass("is-hidden",!this.model.isSearchAreaBtnVisible)},_onIsMoreAtVisibleChange:function(){this.$more.toggle(this.model.isMoreAtVisible)},_onProximityChange:function(){this.views.locationTile&&this.views.locationTile.showUserLocationCTA()},_onMetaQueryChange:function(e){this._setDocumentTitle(e)},_setDocumentTitle:function(e){document.title=e?decodeURIComponentSafe(e)+" at DuckDuckGo":"DuckDuckGo"},_toggleDirections:function(){this.$sidebar.toggleClass("has-directions",this.model.isDirectionsActive),this.model.isDirectionsActive?(this.views.directionsResults?this.views.directionsResults.show():this.views.directionsResults=new e.Views.Maps.DirectionsResults({model:this.directionsModel,answer:this.model,map:this.views.mapkitMap,prependTo:this.$sidebarinner}),this.$results.hide(),this.views.currentItemDetail&&this.views.currentItemDetail.hide(),this.views.exampleSearches&&this.views.exampleSearches.hide(),this.views.mapSideBarFooter._rerender(),this.$more.hide()):(this.views.directionsResults&&this.views.directionsResults.hide(),this.$resultscontainer.show(),this.model.isMapStartActive||(this.$results.show(),this.views.currentItemDetail&&this.views.currentItemDetail.show(),this.$more.show()))},_toggleMapStart:function(){this.model.isMapStartActive?(this.$resultscontainer.show(),this.$results&&this.$results.hide(),this.views.currentItemDetail&&this.views.currentItemDetail.hide(),this.$more.hide(),e.device.isEnglish&&(this.views.exampleSearches=this.views.exampleSearches||new e.Views.Maps.ExampleSearches({appendTo:this.$resultscontainer,model:this.model,answer:this.model}),this.views.exampleSearches.show())):(this.views.exampleSearches&&this.views.exampleSearches.hide(),this.$results&&this.$results.show())},_onIsDirectionsActiveChange:function(){this._toggleDirections()},_onIsMapStartActiveChange:function(){this._toggleMapStart()},_onDirectionsRouteListChange:function(){this.$resultscontainer.hide(),this._glMapModel.set("canShowMap",!0)},_onDirectionsIsRoutingChange:function(e){this.$resultscontainer.css("opacity",e?.2:1),this.$el.toggleClass("vertical--map--has-shown-items",!e)},toggleExpandedMap:function(t){var i=(t=t||{}).isMapExpanded||t.state&&!!t.state.iaxm;if(this.model.set("isDirectionsActive",!!t.isDirections),this.model.set("isMapStart",!!t.isMapStart),!this.model.firstRun){if(this.model.isMapExpanded===i)return;this.model.set("isMapExpanded",i)}i?(t.isMapStart?e.history.set("iaxm","start"):t.isDirections||e.history.set("iaxm",t.model.nameId||"maps"),this.model.firstRun||(t.model.selectedItem&&t.model.selectedItem.itemId&&e.history.set("iai",t.model.selectedItem.itemId),this.show()),this.model.firstRun=!1,e.history.get("iar")&&e.history.clear("iar")):(t.model.selectedItem&&t.model.selectedItem.itemId&&t.model.selectedItem.unselect(),e.history.clear("iaxm","iai","iax","strict_bbox","bbox","metatoken","start","end","transport"),this.hide(),e.duckbar.modulesLayoutView.recalculateModuleSizes())},_handleRequery:function(t){var i=t&&t.state,s=t&&t.model||this.model;if(e.history.set("iaxm",i&&i.iaxm||"maps"),s.set("isMapStartActive",!1),i&&s)for(var a=["q","bbox","strict_bbox","iai","metatoken"],o=0;o<a.length;o++){var n=a[o];i[n]?e.history.set(n,i[n]):e.history.clear(n)}s.requery(t)},_getLocationFromHistoryOrUser:function(t){var i=e.history.getComposite(t,"what"),s=e.history.getComposite(t,"where"),a={};return i||s?(a.what=i?decodeURIComponentSafe(i):null,a.where=s?decodeURIComponentSafe(s):null,a.display=a.what||a.where):this.directionsModel&&this.directionsModel.userLocation&&(a.coordinate=this.directionsModel.userLocation,a.display=lp("directions","Your Location")),a},_onMapReady:function(){this.model.set({shouldMapViewportUpdate:!0,isSearchAreaBtnVisible:!1});var t={};t.query=w.rq,t.strict_bbox=e.history.get("strict_bbox")||"0",e.history.get("bbox")&&(t.bbox=e.history.get("bbox")),e.history.get("iai")&&(t.iai=e.history.get("iai")),t.isFromStaticMapsTab=!0,this.directionsModel&&this.directionsModel.set("isMapLoaded",!0),this.directionsModel&&(e.history.get("start")||e.history.get("end"))?(this.directionsModel.canRetryLocationSearch=!1,t.start=this._getLocationFromHistoryOrUser("start"),t.end=this._getLocationFromHistoryOrUser("end"),t.transport=e.history.get("transport")||"drive",this.directionsModel.canRoute||this.directionsModel.onDirectionsAction(t)):"start"===e.history.get("iaxm")?this.model.onMapStartAction():0===this.model.items.length&&this.onRequeryAction(t)},_resetState:function(t){t||e.duckbar.resetActiveTab(),this.model.set("active",t)}})}(DDG),function(e){var t=e.Views,i=e.Views.Modal,s=e.Utils.ParseDate;t.CustomDateRange=function(e){var t=window.locale.replace("_","-");this.i18n={previousMonth:"<",nextMonth:">",months:[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return new Date(2021,e,1).toLocaleDateString(t,{month:"long"})})),weekdays:[3,4,5,6,7,8,9].map((function(e){return new Date(2021,0,e).toLocaleDateString(t,{weekday:"long"})})),weekdaysShort:[3,4,5,6,7,8,9].map((function(e){return new Date(2021,0,e).toLocaleDateString(t,{weekday:"narrow"})}))},i.call(this,e)},t.CustomDateRange.prototype=$.extend({},i.prototype,{template:"custom_date_range_modal",_render:function(e){i.prototype._render.call(this,{isPopover:e.isPopover,header:l("Custom date range"),key:"custom_date"}),this._cacheElems(".js-custom-date-range",["from","to","from-datepicker","to-datepicker","apply"]),this.bindEvents([[this.$from,"focus",this._fromOnFocus],[this.$from,"change",function(e){this._onChange(e,this.fromPicker)}.bind(this)],[this.$from,"keyup",this._disablePikadayDefaultEvents],[this.$from,"keydown",this._onFromKeydown],[this.$to,"focus",this._toOnFocus],[this.$to,"change",function(e){this._onChange(e,this.toPicker)}.bind(this)],[this.$to,"keyup",this._disablePikadayDefaultEvents],[this.$to,"keydown",this._onToKeydown],[this.$apply,"click",this._applyChanges]]),DDG.require("pikaday",this._onPikadayLoaded.bind(this))},_onPikadayLoaded:function(){this.fromPicker=this.createDatePicker(this.$fromdatepicker,this.selectFromDate.bind(this)),this.toPicker=this.createDatePicker(this.$todatepicker,this.selectToDate.bind(this)),this.fromPicker.setDate(this.model.fromDate),this.toPicker.setDate(this.model.toDate),this.toPicker.hide(),this.fromPicker.show(),this.on("shown",(function(){this.$from.focus()})),this.$from.focus()},setStartRange:function(e){this.fromPicker.setStartRange(e),this.fromPicker.draw(),this.toPicker.setStartRange(e),this.toPicker.draw()},setEndRange:function(e){this.fromPicker.setEndRange(e),this.fromPicker.draw(),this.toPicker.setEndRange(e),this.toPicker.draw()},selectFromDate:function(e){this.$from&&(this.$from[0].value=this.convertDateToLocaleString(e),this.model.set("fromDate",e),this.setStartRange(e),e>this.model.toDate&&(this.model.fromDate=this.model.toDate,this.model.toDate=e,this.fromPicker.setDate(this.model.fromDate),this.toPicker.setDate(this.model.toDate)),this.$to.focus(),this.fromPicker.hide(),this.toPicker.gotoDate(e))},selectToDate:function(e){this.$to&&(this.$to[0].value=this.convertDateToLocaleString(e),this.model.set("toDate",e),this.setEndRange(e),e<this.model.fromDate&&(this.model.toDate=this.model.fromDate,this.model.fromDate=e,this.fromPicker.setDate(this.model.fromDate),this.toPicker.setDate(this.model.toDate)))},_disablePikadayDefaultEvents:function(e){e.stopPropagation()},_fromOnFocus:function(){this.fromPicker&&this.toPicker&&(this.fromPicker.show(),this.toPicker.hide())},_toOnFocus:function(){this.fromPicker&&this.toPicker&&(this.fromPicker.hide(),this.toPicker.show())},_onKeydown:function(e,t,i){this._disablePikadayDefaultEvents(e);var a=t.value,o=s.parseShortLocalizedDate(a);"Enter"===e.key&&this.isRealDate(o)&&i(e)},_onFromKeydown:function(e){this._onKeydown(e,this.$from[0],function(e){this._onChange(e,this.fromPicker)}.bind(this))},_onToKeydown:function(e){this._onKeydown(e,this.$to[0],function(e){this._onChange(e,this.toPicker),this._applyChanges()}.bind(this))},_onChange:function(e,t){this._disablePikadayDefaultEvents(e);var i=s.parseShortLocalizedDate(e.currentTarget.value);this.isRealDate(i)&&t.setDate(i)},isRealDate:function(e){return!Number.isNaN(e.valueOf())},createDatePicker:function(e,t){return new Pikaday({field:document.createElement("input"),container:e[0],onSelect:t,maxDate:new Date,bound:!1,i18n:this.i18n})},convertDateToISO8601String:function(e){var t=this._convertToTwoDigits(e.getMonth()+1),i=this._convertToTwoDigits(e.getDate());return e.getFullYear()+"-"+t+"-"+i},convertDateToLocaleString:function(e){return e.toLocaleDateString(window.locale.replace("_","-"),{day:"numeric",month:"numeric",year:"numeric"})},_applyChanges:function(){var t=this.model.fromDate,i=this.model.toDate,s=e.Data.HiddenFields.DATE_FILTER,a=e.search,o=this.convertDateToISO8601String(t)+".."+this.convertDateToISO8601String(i);e.hidden.set(s,o),a.set("dateFilterId",o),a.requery()},_convertToTwoDigits:function(e){return("0"+e.toString()).slice(-2)}})}(DDG),function(e){var t="ESC_DIALOGUE",i="CLICK_KEEP_IT",s="CLICK_CHANGE_IT_BACK",a="SKIP";e.Views.KeepExtensionDialogues=function(t){t=t||{},this._isAddressBarQuery=t.isAddressBarQuery,this._showWelcomeBanner=t.showWelcomeBanner,this._hadFocusOnStart=t.hadFocusOnStart,this._invertColors=t.invertColors,this._isInExperiment=t.isInExperiment,this.views={},this._isAddressBarQuery&&!this._hadFocusOnStart&&!document.hasFocus()&&"visible"===document.visibilityState&&e.extension.isInstalled({nocache:!0})?this._handleChromeDialogue():this._dispatch(a)},e.Views.KeepExtensionDialogues.prototype={destroy:function(){clearInterval(this._pollingIntevalId),clearInterval(this._chromeInternalTimeoutId),clearTimeout(this._healthCheckTimeoutId),this._boundHandleHealthCheckResponse&&document.removeEventListener("message",this._handleHealthCheckResponse),Object.keys(this.views).forEach((function(e){this.views[e].destroy&&this.views[e].destroy(),delete this.views[e]}),this)},_dispatch:function(o){switch(o){case t:e.pixel.fire("cmo"),window.postMessage({type:"rescheduleCounterMessagingRequest"},window.location.origin),this._showWelcomeBanner&&(this.views.welcomeBanner=new e.Views.WelcomeMessage({appendTo:".js-welcome-wrap"}));break;case i:e.pixel.fire("cmc"),this._showWelcomeBanner&&(this.views.welcomeBanner=new e.Views.WelcomeMessage({appendTo:".js-welcome-wrap"}));break;case a:this._showWelcomeBanner&&(this.views.welcomeBanner=new e.Views.WelcomeMessage({appendTo:".js-welcome-wrap"}));break;case s:e.pixel.fire("cmx"),e.device.isEnglish&&(this.views.modal=new e.Views.KeepExtensionModal({prependTo:$("body"),onClose:function(){this.views.modal.destroy()}.bind(this)}))}},_handleChromeDialogue:function(){var o=e.device.isOSXBigSurAndUp;e.pixel.fire("cmi"),this.views.alert=new e.Views.KeepExtensionAlert({prependTo:$("body"),isNativeDialogueCentered:o,isConnectorOffsetted:e.device.isWindows,invertColors:this._invertColors,isInExperiment:this._isInExperiment});var n,r=document.createElement("div");function l(){n=!0}r.className="keep-extension-dialogues",o&&r.classList.add("keep-extension-dialogues--centered"),document.body.appendChild(r),r.onmouseover=l,r.ontouchstart=l,this._pollingIntevalId=setInterval(function(){document.hasFocus()&&(clearInterval(this._pollingIntevalId),r&&(r.remove(),r=null),function(e){this.views.alert&&this.views.alert.destroy?this.views.alert.destroy({waitForAnimation:!0},e):e()}.bind(this)(function(){this._chromeInternalTimeoutId=setTimeout(function(){this.isExtensionStillActive(function(e,o){e?(this._showWelcomeBanner=!1,this._dispatch(a)):o?this._dispatch(n?i:t):this._dispatch(s)}.bind(this))}.bind(this),100)}.bind(this)))}.bind(this),100)},isExtensionStillActive:function(e){this._healthCheckTimeoutId=setTimeout(function(){window.removeEventListener("message",this._boundHandleHealthCheckResponse),this._handleHealthCheckResponse=null,e(new Error("Health check timed out"))}.bind(this),500),this._handleHealthCheckResponse=function(t){t.origin===window.location.origin&&"healthCheckResponse"===t.data.type&&(clearTimeout(this._healthCheckTimeoutId),window.removeEventListener("message",this._boundHandleHealthCheckResponse),this._handleHealthCheckResponse=null,e(null,t.data.isAlive))}.bind(this),window.addEventListener("message",this._handleHealthCheckResponse),window.postMessage({type:"healthCheckRequest"},window.location.origin)}}}(DDG),function(e){var t=e.Views.Base;e.Views.KeepExtensionAlert=function(i){i.isDeviceDarkTheme="dark"===e.device.getColorScheme(),i.isWindows=e.device.isWindows,t.call(this,i),document.documentElement.classList.add("has-extension-alert")},e.Views.KeepExtensionAlert.prototype=$.extend({},t.prototype,{template:"keep_extension_alert",destroy:function(e,i){if(e=e||{},document.documentElement.classList.remove("has-extension-alert"),e.waitForAnimation){var s=this.$el.get(0);s.classList.add("destroying");var a=function(e){s.removeEventListener("animationend",a),i&&i(null),t.prototype.destroy.call(this)}.bind(this);s.addEventListener("animationend",a)}else i&&i(null),t.prototype.destroy.call(this)}})}(DDG),function(e){var t=e.Views.Base;e.Views.KeepExtensionModal=function(i){t.call(this,$.extend({},i,{isWindows:e.device.isWindows})),this._onClose=i.onClose||$.noop,document.documentElement.classList.add("has-keep-extension-modal"),this._cacheElems(".js-keep-extension-modal",["close"]),this.bindEvents([[this.$close,"click",this._handleClick]]),this._boundHandleKeydown=this._handleKeydown.bind(this),window.addEventListener("keydown",this._boundHandleKeydown)},e.Views.KeepExtensionModal.prototype=$.extend({},t.prototype,{template:"keep_extension_modal",destroy:function(){window.removeEventListener("keydown",this._boundHandleKeydown),document.documentElement.classList.remove("has-keep-extension-modal"),this._boundHandleAnimationEnd&&this.$el.get(0).removeEventListener("animationend",this._boundHandleAnimationEnd),t.prototype.destroy.call(this)},close:function(){var e=this.$el.get(0);this._boundHandleAnimationEnd=function(t){e.removeEventListener("animationend",this._boundHandleAnimationEnd),this._boundHandleAnimationEnd=null,this._onClose()}.bind(this),e.addEventListener("animationend",this._boundHandleAnimationEnd),e.classList.add("closing"),document.documentElement.classList.remove("has-keep-extension-modal")},_handleClick:function(e){this.close()},_handleKeydown:function(e){"Escape"===e.code&&this.close()}})}(DDG),function(e){var t=e.Models.Answer,i=e.Models.Answers;i.Translations=function(i){i.values=e.Data.languages.translations,i.error=null,i.initialized=!1,i.isMobile=e.device.isMobile,i.specified_language_name=null,t.call(this,i),this.bindEvents([[this,"change:items",this._initialize.bind(this)]])},i.Translations.prototype=$.extend({},t.prototype,{updateRequest:null,_initialize:function(){var e=this.items[0];this.setLanguage("original_language_name",e.original_language_name),this.setLanguage("translated_language_name",e.translated_language_name),this.set("force",e.force||!1),this.set("original_text",this._sanitize(e.original_text)),this.set("translated_text",e.force?" ":this._sanitize(e.translated_text)),this.set("initialized",!0)},fireException:function(t){e.pixel.fire("trmx",{trmxt:t})},_serviceUrl:function(){var t=e.services.getURL("translation");return t=(t=t+"?vqd="+window.vqd)+"&query="+encodeURIComponent(e.querystringParam("q")||""),this.specified_language_name&&(t=t+"&from="+this.specified_language_name),t+"&to="+this.translated_language_name},updateTranslation:function(e){var t=e.$originalText.val();this.updateRequest=$.ajax(this._serviceUrl(),{method:"POST",contentType:"text/plain",data:t,success:function(i){e.updateTranslations(t,i.detected_language,this._sanitize(i.translated),{silent:!0})}.bind(this),error:function(t,i){"abort"!==i&&(this.set("error",lp("translations_module","Oops! An unexpected error occurred while translating this text. Please try again later.")),e.cancelServiceCall(),this.fireException(i+"-"+t.status))}.bind(this),complete:function(){this.updateRequest=null}.bind(this)})},clearRequest:function(){this.updateRequest&&(this.updateRequest.abort(),this.updateRequest=null)},getDropdownValues:function(){return this.values.concat().sort((function(e,t){return e.name.localeCompare(t.name)}))},clearText:function(e){this.set("original_language_name","",e),this.set("original_text","",e),this.set("translated_text","",e)},getLanguage:function(e){var t=this[e];return this.values.reduce((function(e,i){return i.id===t&&(e=i),e}),null)},setLanguage:function(e,t,i){t||"translated_language_name"!==e?t||(t=this.items[0][e]):t=this.items[0][e]||this.defaultLanguage(),this.set(e,t,i)},swapLanguages:function(e){var t=this.specified_language_name||this.original_language_name;this.setLanguage("specified_language_name",this.translated_language_name,e),this.setLanguage("translated_language_name",t,e),this.set("original_text",this.translated_text,e),this.set("translated_text",this.translated_text.length?" ":"",e)},_getRegion:function(){return e.settings.region.id.toLowerCase()},_getLanguage:function(){return navigator.language.toLowerCase()},defaultLanguage:function(){var e,t=this._getRegion(),i=this._getLanguage();return this.values.forEach((function(i){i.regions&&$.inArray(t,i.regions)>=0&&(e=i.id)})),e||this.values.forEach((function(t){(t=t.id.toLowerCase())!==i&&t!==i.split("-")[0]||(e=t)})),e||"en"},_sanitize:function(t){return e.Utils.Strings.htmlDecode(t)}})}(DDG),function(e){var t=e.Views.Modules.Base,i="js-module--translations-outdated",s="js-module--translations-pending",a="js-module-translations--overflow";e.Views.Modules.Translations=function(e){t.call(this,e)},e.Views.Modules.Translations.prototype=$.extend({},t.prototype,{template:"translations_module",inputFocused:!1,inputState:null,updateTimeout:null,_render:function(i){t.prototype._render.call(this,i),this._cacheElems(".js-module--translations",["original","translated","footer","copy","swap","clear","tooltip","length","translatedtext"]),this.$originalText=this.$original.find("textarea"),this.$io=this.$originalText.add(this.$translatedtext),e.device.isIE&&this.$copy.hide(),this._recoverInputState(),this._updateLength(),this.bindEvents([[this.$translatedtext,"click",this._onSelect],[this.$copy,"click",this._onCopy.bind(this)],[this.$swap,"click",this._onSwap.bind(this)],[this.$clear,"click",this._onClear.bind(this)],[this.$originalText,"change keyup",this._onChange.bind(this)],[this.$originalText,"blur focus",this._onFocusChange.bind(this)],[this.model,"change:error",this._rerender],[this.$originalText,"change keyup",this._updateLength.bind(this)],[this.model,"change:translated_language_name",this._updateLength.bind(this)],[e.device,"resize",this._updateLength.bind(this)],[this.model,"change:specified_language_name",this._callService],[this.model,"change:translated_language_name",this._callService],[this.model,"change:original_language_name",this._rerender],[this.model,"change:translated_language_name",this._rerender],[this.model,"change:translated_text",this._rerender]]),this.views.originalLanguage=new e.Views.Dropdowns.TranslationSelect({prependTo:this.$original,displayName:lp("translations_module","Detect language"),model:this.model,property:"specified_language_name",includeDetectOption:!0}),this.views.translatedLanguage=new e.Views.Dropdowns.TranslationSelect({prependTo:this.$translated,property:"translated_language_name",model:this.model}),this.views.feedback=new e.Views.Feedback.FeedbackPrompt({appendTo:this.$footer,category:"translations",genericLabel:lp("translations_module","This translation is helpful"),promptText:lp("feedback form","Share Feedback"),showOnMobile:!1,showYesNo:!1}),"..."===this.model.translated_text&&(this.model.set("translated_text"," "),this.model.fireException("el"),this._callService()),this.model.force&&(this.model.set("force",!1),this.model.fireException("frc"),this._callService())},_rerender:function(){this.unbindEvents(),this._saveInputState(),t.prototype._rerender.call(this),this._updateLength()},_saveInputState:function(){this.inputState={val:this.$originalText.val(),selectionStart:this.$originalText[0].selectionStart,selectionEnd:this.$originalText[0].selectionEnd,focused:this.inputFocused}},_recoverInputState:function(){this.inputState&&(this.$originalText.val(this.inputState.val),this.inputState.focused&&(this.$originalText.select(),this.$originalText[0].setSelectionRange(this.inputState.selectionStart,this.inputState.selectionEnd)),this.inputState=null)},_onSelect:function(e){return window.getSelection().selectAllChildren(e.target),!1},_onCopy:function(){var e=function(){$("<textarea />",{text:this.model.translated_text,class:"js-module--translations-copy-temp"}).appendTo(this.$el).focus().select(),document.execCommand("copy"),this._createTooltip(this.$copy,lp("translations_module","Translation copied"))}.bind(this);return navigator.clipboard?navigator.clipboard.writeText(this.model.translated_text).then(function(){this._createTooltip(this.$copy,lp("translations_module","Translation copied"))}.bind(this),(function(){e()})):e(),!1},_onSwap:function(){return this.model.swapLanguages({silent:!0}),this.$originalText.val(this.model.original_text),this._rerender(),this._callService(),this._createTooltip(this.$swap,lp("translations_module","Languages swapped")),!1},_onClear:function(){return this.model.clearText({silent:!0}),this.$originalText.val(""),this.model.set("error",null),this._rerender(),this.$clear.hide(),this.$copy.hide(),this.$originalText.focus(),!1},_onChange:function(){var e=this.$originalText.val();e.length||(this.model.set("original_text",""),this.model.set("translated_text",""),this.model.set("error",null),this.$io.attr("data-size","l"),this.$io.height("auto"),this.$clear.hide()),this._updateLength();var t=e.trim()!==this.model.original_text.trim();this.model.clearRequest(),this.$translatedtext.removeClass(s),this.$translatedtext.toggleClass(i,t),this.updateTimeout&&clearTimeout(this.updateTimeout),e.length&&t&&(this.updateTimeout=setTimeout(this._callService.bind(this),750))},_onFocusChange:function(e){this.inputFocused="focus"===e.type},_callService:function(){var e=this.$originalText.val();e&&e.length<1e3&&(this.$translatedtext.addClass(s),this.model.updateTranslation(this))},cancelServiceCall:function(){this.$translatedtext.removeClass(i),this.$translatedtext.removeClass(s)},updateTranslations:function(e,t,a,o){this.model.set("original_text",e,o),this.model.set("original_language_name",t,o),this.model.set("translated_text",a,o),this.$originalText.val(e),this.$translatedtext.text(a),this.$translatedtext.removeClass(i),this.$translatedtext.removeClass(s),this.views.originalLanguage._rerender()},_inputHeight:function(){return Math.max(this.$originalText.prop("scrollHeight"),this.$translatedtext.prop("scrollHeight"))},_updateLength:function(){var t=this.$originalText.val().length,i=1e3,s=t>i,o=e.device.isMobile?110:216,n=e.device.isMobile?220:null;this.$clear.toggle(t>0),this.$length.text(t+"/"+i),this.$el.toggleClass("js-show-length",s),this.$el.removeClass(a),this.model.set("error",s?lp("translations_module","Text exceeds %s character limit",i):null);var r=this._inputHeight(),l=this.$io.attr("data-size")||"l";r>o&&"l"===l?(this.$io.attr("data-size","m"),this._updateLength()):r>o&&"m"===l?(this.$io.attr("data-size","s"),this._updateLength()):n&&r>n?(this.$io.height(n),this.$el.addClass(a)):this.$io.height(r)},_createTooltip:function(t,i){var s=t.offset(),a=$("<span />",{class:"module--translations-tooltip",text:i}).appendTo(document.body),o=t===this.$copy&&e.device.isMobile;a.toggleClass("js-module--translations-tooltip-left",o).css({left:s.left-a.outerWidth()*(o?.8:.5)+t.outerWidth()/2,top:s.top+t.outerHeight()}),setTimeout((function(){a.remove()}),2e3)}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.Definitions=function(e){t.call(this,e),this.bindEvents([[this.model,"change:pronunciation",this._showPronunciation],[this.model,"change:audio",this._showPlayButton],[this.model,"change:noAudio",this._hidePlayButton],[this.$link,"click",this._onExternalLinkClick],[this.$internal,"click",this._onInternalClick],[this.$toggle,"click",this._onToggleClick],[this.model,"change:expanded",this._updateExpandedState],[this.model,"change:loaded",this._rerender.bind(this)]]),this._updateExpandedState()},e.Views.Modules.Definitions.prototype=$.extend({},t.prototype,{template:"definitions",_render:function(){t.prototype._render.call(this),this._cacheElems(".js-definitions",["pronunciation","play","link","internal","toggle","more","less"]),this.model.audio&&this._showPlayButton(),e.device.isEnglish&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"dictionary_definition",promptText:lp("feedback form","Share Feedback"),appendTo:this.$el,showYesNo:!1}))},_showPronunciation:function(){this.$pronunciation.html(this.model.pronunciation||"")},_showPlayButton:function(){new e.Views.PlayButton({appendTo:this.$play,url:this.model.audio})},_hidePlayButton:function(){this.$play.hide()},_onExternalLinkClick:function(e){this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)},_updateExpandedState:function(){this.model.canModuleExpand&&(this.$toggle.show(),this.model.expanded?(this.$more.hide(),this.$less.show(),this.$el.addClass("is-expanded")):(this.$more.show(),this.$less.hide(),this.$el.removeClass("is-expanded")))},_onToggleClick:function(t){t.stopPropagation(),this.model.engaged(),e.pixel.fire("iasm",this.model.pixelId,this.model.openType),this.model.set("expanded",!this.model.expanded)},_onInternalClick:function(){e.pixel.fire("iae",this.model.pixelId,this.model.openType)}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.Stocks=function(e){t.call(this,e),this.bindEvents([[this.model,"change:dataForSelectedTimePeriod",this._onDataChanged]])},e.Views.Modules.Stocks.prototype=$.extend({},t.prototype,{template:"stocks",_render:function(i){t.prototype._render.call(this),this._cacheElems(".js-stocks-module",["change","changePercent","open","high","low","chartArea","chart","verticalLabels","horizontalLabels","hoverLabelContainer","timePeriod","chartPlaceholder","attribution","feedbackContainer"]),this.bindEvents([[this.$timePeriod,"click",this.onTimePeriodClick],[this.$attribution,"click",this.onExternalLinkClick]]),e.device.isEnglish&&(this.views.feedback=new e.Views.Feedback.FeedbackPrompt({category:"stocks",promptText:lp("feedback form","Share Feedback"),genericLabel:"This answer is helpful",appendTo:this.$feedbackContainer,showYesNo:!1})),e.device.on("resize",this.onResize.bind(this)),this.selectTimePeriod(this.model.data.selectedTimePeriod)},_renderChart:function(){this.chart||(this.chart=new DDG.Chart(this.$chart[0],this.$verticalLabels[0],this.$horizontalLabels[0],this.$hoverLabelContainer[0],this.model.data.results.quote.currency)),this.chart.color=this.chooseChartColor();var e=this.model.dataForSelectedTimePeriod();if(e){if(this.hidePlaceholder(),"loading"!==e){var t="Today"===this.model.data.selectedTimePeriod.key?this.model.data.prevClose:null;this.chart.newData(this.convertDataToXY(e),t)}}else this.showPlaceholder(),this.chart.clearChart()},chooseChartColor:function(){return this.model.data.isDecrease?"#de5833":"#5b9e4d"},convertDataToXY:function(e){return(e||[]).map((function(e){var t=this.model.parseIEXDateTimeString(e);return{x:t=new Date(t.valueOf()-60*this.model.timezoneOffset*60*1e3),y:e.close}}),this)},onTimePeriodClick:function(e){this.model.engaged();var t=Array.from(e.currentTarget.parentElement.children).indexOf(e.currentTarget),i=this.model.data.timePeriods[t];this.selectTimePeriod(i)},selectTimePeriod:function(e){this.model.loadTimePeriod(e),this.$timePeriod.removeClass("selected"),this.$timePeriod.eq(this.model.data.timePeriods.indexOf(e)).addClass("selected");var t=this.model.dataForSelectedTimePeriod();"loading"===t?this.$chartArea.fadeTo(.2,.5):t?(this.updateChange(),this._renderChart()):this.showPlaceholder()},_onDataChanged:function(e){this.$chartArea.fadeTo(.2,1),this.updateChange(),this._renderChart()},updateChange:function(){this.model.calculateChange(),this.$change.text(this.model.data.change),this.$changePercent.text("("+this.model.data.percentChangeString+"%)"),this.$open.text(this.model.data.open),this.$high.text(this.model.data.high),this.$low.text(this.model.data.low),this.model.data.isDecrease?(this.$el.addClass("decrease"),this.$el.removeClass("increase")):(this.$el.removeClass("decrease"),this.$el.addClass("increase"))},showPlaceholder:function(){this.showingPlaceholder=!0,this.chart&&this.chart.clearChart(),this.$chartArea.fadeTo(.2,1),this.$chartPlaceholder.show(),this.updateChange()},hidePlaceholder:function(){this.showingPlaceholder=!1,this.$chartPlaceholder.hide()},onResize:function(){this.chart&&!this.showingPlaceholder&&this.chart.onResize()},onExternalLinkClick:function(e){this.model.clickedExternalLink(),t.prototype._onExternalLinkClick.call(this,e)}})}(DDG),function(e){var t="http://www.w3.org/2000/svg",i=6e4,s=36e5,a=24*s,o=365*a,n=Math.round(o/12);e.Chart=function(e,t,i,s,a){this.verticalPadding=10,this.element=e,this.labelContainer=t,this.horizontalLabelContainer=i,this.hoverLabelContainer=s,this.currency=a},e.Chart.prototype={newData:function(e,t){this.hideMarker(),this.data=e,this.prevClose=t,this.xValues=e.map((function(e){return e.x.valueOf()})),this.yValues=e.map((function(e){return e.y}));var i=this.xValues.filter((function(e){return null!==e})),s=this.yValues.filter((function(e){return null!==e}));this.alwaysShowMarker=this.yValues.length-s.length>5;var a=t?s.concat(this.prevClose):s;this.minX=Math.min.apply(Math,i),this.maxX=Math.max.apply(Math,i),this.minY=Math.min.apply(Math,a),this.maxY=Math.max.apply(Math,a);var o=Math.floor(Math.log10(this.maxY)),n=Math.pow(10,o-2),r=this.minY+(this.maxY-this.minY)/2;Math.abs(this.maxY-this.minY)<4*n&&(this.minY=r-2*n,this.maxY=r+2*n),this.yAxisLabels=this._determineVerticalLabels(),this.chartHeight=this.element.clientHeight-2*this.verticalPadding,this.scaledPoints=e.map(this.chartToScreen.bind(this)),this.scaledPointsExcludingNull=this.scaledPoints.filter((function(e){return null!==e.original.y})),this.xAxisLabels=this._determineHorizontalLabels(),this.drawChart(),this.hovering&&(this.showMarker(),this.hover(this.mostRecentHoverEvent))},clearChart:function(){this.labelContainer.innerHTML="",this.horizontalLabelContainer.innerHTML="",this.hideMarker(),this.svg&&(this.element.removeChild(this.svg),this.svg=null)},drawChart:function(){this.clearChart(),this.createSVG();var e=[];if(this.yAxisLabels.forEach((function(t){var i=this.chartToScreen({x:this.minX,y:t}),s=this.chartToScreen({x:this.maxX,y:t});this.drawLine(i,s,"horizontal-line");var a=this.drawYAxisLabel(i.y+this.verticalPadding,t);e.includes(a.textContent)&&$(a).hide(),e.push(a.textContent)}),this),this.prevClose){var t=this.chartToScreen({x:this.minX,y:this.prevClose}),i=this.chartToScreen({x:this.maxX,y:this.prevClose});this.drawLine(t,i,"prev-close-line",!0)}this.xAxisLabels.forEach((function(e){var t=this.chartToScreen({x:e.value,y:0}).x,i={x:t,y:0},s={x:t,y:this.element.clientHeight};this.drawLine(i,s,"vertical-line"),this.drawXAxisLabel(t,e.text)}),this),this.hideOverlappingLabels();var s=this.scaledPointsExcludingNull.reduce((function(e,t){return t?e.concat([t.x,t.y].join(",")):e}),[]).join(" ");this.drawBackground(s),this.drawCurve(s),this.alwaysShowMarker&&(this.lastPoint=this.scaledPointsExcludingNull[this.scaledPointsExcludingNull.length-1],this.drawCircle(this.lastPoint)),this.element.addEventListener("mousemove",this.hover.bind(this)),this.element.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.element.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.element.addEventListener("touchmove",this.onTouch.bind(this))},chartToScreen:function(e){var t=this.element.clientWidth,i=this.chartHeight,s=this.xValues.length-1,a=this.yAxisLabels[0],o=this.yAxisLabels[this.yAxisLabels.length-1],n=Math.max(o,this.maxY),r=Math.min(a,this.minY),l=this.verticalPadding,d=i/(n-r);return l/d>this.yAxisLabels[0]&&(l=0,d=i/(n-(r=0))),{x:this.findClosestIndexInArray(e.x.valueOf(),this.xValues)*t/s,y:this.verticalPadding-l+i-(e.y-r)*d,original:e}},findClosestIndexInArray:function(e,t){var i=t.indexOf(e);if(i>-1)return i;var s=t.findIndex((function(t){return t>e}));if(-1===s)return t.length-1;if(0===s)return 0;var a=s-1,o=[a,s].map((function(i){return Math.abs(e-t[i])}));return o[0]>o[1]?s:a},createSVG:function(){var e=document.createElementNS(t,"svg");e.setAttribute("width",this.element.clientWidth.toString()),e.setAttribute("height",this.element.clientHeight.toString()),e.setAttribute("viewBox","0 0 "+this.element.clientWidth.toString()+" "+this.chartHeight.toString()),this.element.appendChild(e),this.svg=e},drawLine:function(e,i,s,a){var o=document.createElementNS(t,"polyline");o.setAttribute("fill","none"),o.setAttribute("class",s),o.setAttribute("points",[e.x,e.y].join(",")+" "+[i.x,i.y].join(",")),a&&o.setAttribute("stroke-dasharray",3),this.svg.appendChild(o)},drawXAxisLabel:function(e,t){var i=document.createElement("p");i.textContent=t,this.horizontalLabelContainer.appendChild(i);var s=i.clientWidth/2,a=e-s;a<-s&&(a=-s,i.style.textAlign="left"),a+i.clientWidth>this.element.clientWidth+8&&(a=this.element.clientWidth-i.clientWidth+8,i.style.textAlign="right"),i.style.left=a.toString()+"px"},hideOverlappingLabels:function(){var e=this.horizontalLabelContainer.getElementsByTagName("p"),t=this.svg.querySelectorAll(".vertical-line");5===e.length&&(this.isOverlapping(e[0],e[1],5)||this.isOverlapping(e[1],e[2],5)||this.isOverlapping(e[2],e[3],5)||this.isOverlapping(e[3],e[4],5))&&($(e[1]).hide(),$(t[1]).hide(),$(e[3]).hide(),$(t[3]).hide())},isOverlapping:function(e,t,i){var s=e.getBoundingClientRect(),a=t.getBoundingClientRect();return s.right+i>a.left},drawYAxisLabel:function(t,i){var s=document.createElement("p");return s.textContent=e.Utils.Formatting.abbreviateLargeNumber(i,3).replace(" ",""),s.style.position="absolute",s.style.top=t.toString()+"px",this.labelContainer.appendChild(s),s},drawBackground:function(e){var i="0,"+this.element.clientHeight,s=[this.scaledPointsExcludingNull[this.scaledPointsExcludingNull.length-1].x,this.element.clientHeight].join(","),a=document.createElementNS(t,"polyline");a.setAttribute("fill",this.color),a.setAttribute("fill-opacity",.2),a.setAttribute("stroke","none"),a.setAttribute("points",e+" "+s+" "+i),a.setAttribute("class","background"),this.svg.appendChild(a)},drawCurve:function(e){var i=document.createElementNS(t,"polyline");i.setAttribute("fill","none"),i.setAttribute("stroke",this.color),i.setAttribute("stroke-width",2),i.setAttribute("stroke-linejoin","round"),i.setAttribute("points",e),i.setAttribute("class","curve"),this.svg.appendChild(i)},drawCircle:function(e){this.marker=document.createElementNS(t,"circle"),this.marker.setAttribute("r",4.5),this.marker.setAttribute("fill",this.color),this.marker.setAttribute("cx",e.x),this.marker.setAttribute("cy",e.y),this.svg.appendChild(this.marker)},_determineVerticalLabels:function(){var e=Math.floor(Math.log10(this.maxY))-2,t=Math.pow(10,e),i=Math.floor(this.minY/t)*t,s=Math.ceil(this.maxY/t)*t,a=Math.max(s-i,1),o=this._round(a/3,t);return[i,i+o,i+2*o,i+3*o].map((function(e){return parseFloat(e.toPrecision(6))}))},_determineHorizontalLabels:function(){var t=this.maxX-this.minX,r={year:"numeric"},l=o,d="toLocaleDateString";t<s?(r={hour:"numeric",minute:"numeric"},l=i,d="toLocaleTimeString"):t<5*s?(r={hour:"numeric",minute:"numeric"},l=3e5,d="toLocaleTimeString"):t<=a?(r={hour:"numeric",minute:"numeric"},l=6e5,d="toLocaleTimeString"):t<3*n?(r={month:"short",day:"numeric"},l=a):t<o+a&&(r={month:"short"},l=n);var c=e.settings.region.getISOLocale();t<=a&&"en-GB"===c&&(r.hourCycle="h12");var h=this.scaledPoints[Math.round((this.scaledPoints.length-1)/4)],p=this.scaledPoints[Math.round((this.scaledPoints.length-1)/2)],u=this.scaledPoints[Math.round(3*(this.scaledPoints.length-1)/4)],m=[this.minX,h.original.x,p.original.x,u.original.x,this.maxX],_=!1;if(l===o){var f=new Date(this.minX).getUTCFullYear(),g=new Date(this.maxX).getUTCFullYear();if(g-f<=5){m=[],_=!0;for(var v=f+1;v<=g;v++)m.push((new Date).setFullYear(v,0,1))}else m[1].setMonth(0,1),m[2].setMonth(0,1),m[3].setMonth(0,1)}var w=m.map((function(e){return l>=a?this._roundDate(e,l):this._round(e,l)}),this).map((function(e){var t=new Date(e)[d](c,r);return{text:"toLocaleTimeString"===d?t.toUpperCase():t,value:e,roundingSize:l}}),this);return e.device.isSafariLessThanVersion(10)&&(l<a?w.forEach((function(e){var t=e.text.match(/(\d+):(\d+):(\d+)\s(\w+)\s.*/);t&&t.length&&(e.text=t[1]+":"+t[2]+" "+t[4])})):l<o?w.forEach((function(e){e.text=e.text.split(",")[0]})):w.forEach((function(e){e.text=e.text.split(",")[1]}))),_?w:this.dedupeLabels(w)},dedupeLabels:function(e){return 5===e.length?(e[1].text!==e[0].text&&e[1].text!==e[2].text||(e[1].remove=!0),e[3].text!==e[4].text&&e[3].text!==e[2].text||(e[3].remove=!0),e[2].text!==e[0].text&&e[2].text!==e[4].text||(e[2].remove=!0)):e[0].text!==e[1].text&&e[1].text!==e[2].text||(e[1].remove=!0),e.filter((function(e){return!e.remove}))},_round:function(e,t){return Math.round(e/t)*t},_roundDate:function(e,t){var i,s,r=new Date(e);switch(t){case a:i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1);break;case n:i=new Date(r.getFullYear(),r.getMonth()),s=new Date(r.getFullYear(),r.getMonth()+1);break;case o:i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)}var l=this.xValues.find((function(e){return e>=r})),d=this.xValues.find((function(e){return e>=i})),c=this.xValues.find((function(e){return e>=s}));return!c||l-d<c-l?d:c},onMouseEnter:function(){this.hovering=!0,this.showMarker()},onMouseLeave:function(){this.hovering=!1,this.hideMarker()},onTouch:function(e){this.showMarker(),this.hover(e)},hover:function(e){this.mostRecentHoverEvent=e;var t=e.offsetX;if(e.targetTouches){var i=e.touches[0],s=$(this.element).offset();t=i.clientX-s.left}var a=Math.round((this.scaledPoints.length-1)*t/this.element.clientWidth),o=this.scaledPointsExcludingNull[a];this.markerTimeout&&clearTimeout(this.markerTimeout),this.markerTimeout=setTimeout(function(){this.setMarkerPosition(o)}.bind(this),0)},setMarkerPosition:function(e){if(e&&null!==e.original.y&&(this.marker&&(this.marker.setAttribute("cx",e.x),this.marker.setAttribute("cy",e.y)),this.markerLine&&(this.markerLine.setAttribute("x1",e.x),this.markerLine.setAttribute("x2",e.x),this.markerLine.setAttribute("y1",0),this.markerLine.setAttribute("y2",this.element.clientHeight)),this.markerLabel)){this.markerLabel.innerText=e.original.y+" "+this.currency+" • "+this.markerTime(e),this.markerLabel.classList.add("stocks-module__hover-label");var t=this.markerLabel.getBoundingClientRect().width,i=e.x-t/2;i<0&&(i=0),i>this.element.clientWidth-t&&(i=this.element.clientWidth-t),this.markerLabel.style.left=i.toString()+"px"}},markerTime:function(t){var i=this.maxX-this.minX,s=e.settings.region.getISOLocale();if(i>6048e5)return t.original.x.toLocaleDateString(s);var a={hour:"numeric",minute:"numeric"};"en-GB"===navigator.language&&(a.hourCycle="h12");var o=t.original.x.toLocaleTimeString(s,a).toUpperCase();return e.device.isSafariLessThanVersion(10)&&o.split(":").length>2?o.replace(/(\d+:\d+)(:\d+)/,"$1"):o},showMarker:function(){this.svg&&(this.marker||(this.marker=document.createElementNS(t,"circle"),this.marker.setAttribute("r",4.5),this.marker.setAttribute("fill",this.color),this.svg.appendChild(this.marker)),this.markerLine||(this.markerLine=document.createElementNS(t,"line"),this.markerLine.setAttribute("stroke",this.color),this.markerLine.setAttribute("stroke-dasharray","1 2"),this.svg.appendChild(this.markerLine)),this.markerLabel||(this.markerLabel=document.createElement("label"),this.markerLabel.style.color=this.color,this.hoverLabelContainer.appendChild(this.markerLabel)))},hideMarker:function(){this.svg&&(this.marker&&this.marker.parentNode===this.svg&&(this.svg.removeChild(this.marker),this.marker=null),this.markerLine&&this.markerLine.parentNode===this.svg&&(this.svg.removeChild(this.markerLine),this.markerLine=null),this.markerLabel&&this.markerLabel.parentNode===this.hoverLabelContainer&&(this.hoverLabelContainer.removeChild(this.markerLabel),this.markerLabel=null),this.alwaysShowMarker&&this.lastPoint&&this.drawCircle(this.lastPoint))},onResize:function(){this.newData(this.data,this.prevClose)}}}(DDG),function(e){var t=e.Views.Dropdowns,i=t.Base;Handlebars.registerHelper("language_name",(function(t){return e.Data.languages.translations.reduce((function(e,i){return i.id===t?i.name:e}),null)})),t.TranslationSelect=function(e){this.displayName=e.displayName,this.property=e.property,this._verticalPos=0,this._horizontalPos=0,this.includeDetectOption=e.includeDetectOption||!1,e.key="translation-select",e.showSelected=!0,i.call(this,e),this.bindEvents([[this.model,"change:"+this.property,this._rerender],[this,"item-clicked",this._onItemClicked.bind(this)]]),this.modalOps={includeDetectOption:e.includeDetectOption,model:this.model,pinned:e.pinned,property:e.property,values:this.model.getDropdownValues()}},t.TranslationSelect.prototype=$.extend({},i.prototype,{modalClass:"TranslationSelectModal",template:"translation_select",_render:function(e){(e=e||{}).buttonContent=this._buttonContent(),i.prototype._render.call(this,e)},open:function(){i.prototype.open.call(this),e.keyboard.enableSERPShortcuts=!1,this._resizeModal(),this.views.modal.filterable.focus()},close:function(){e.keyboard.enableSERPShortcuts=!0,i.prototype.close.call(this),this.views.modal.filterable.reset()},_buttonContent:function(){var e=this.model.getLanguage(this.property);if(e)return e.name;if(this.model.original_language_name){var t=this.model.getLanguage("original_language_name");if(t){var i=t.name;return lp("translations_module","%s detected",i)}}return this.displayName},_repositionModal:function(){if(e.device.isMobile)i.prototype._repositionModal.call(this);else{var t=this.$button.offset();t.left--,this.views.modal.pointAt(t)}},_resizeModal:function(){if(!e.device.isMobile){var t=this.$button.parent(".dropdown");this.views.modal.$el.find(".modal__box").width(t.outerWidth(!0))}},_onItemClicked:function(e){return this.model.setLanguage(e.property,e.value),this.close(),!1}})}(DDG),function(e){var t=e.Views.Dropdowns,i=e.Views.Modal;t.TranslationSelectModal=function(t){t.includeDetectOption&&t.values.push({name:lp("translations_module","Detect language"),id:"",pinned:!0}),this.isPopover=t.isPopover,this.property=t.property,this.values=t.values,this.filterable=new e.Views.FilterableDropdownMixin(this),this.keyboardNavigable=new e.Views.KeyboardNavigableMixin(this,function(e){this.emit("item-clicked",{property:this.property,value:e})}.bind(this)),i.call(this,t)},t.TranslationSelectModal.prototype=$.extend({},i.prototype,{template:"translation_select_modal",_render:function(t){t=t||{},i.prototype._render.call(this,{header:this.isPopover&&lp("translations_module","Select Language"),isPopover:this.isPopover,key:"translation",values:this._annotatedValues(),selected:this.model.getLanguage(this.property),name:this.property}),this._cacheElems(".js-dropdown",["items","filter","divider"]),this.filterable.setup({$divider:this.$divider,$items:this.$items,$input:this.$filter}),this.keyboardNavigable.setup({$items:this.$items}),this.bindEvents([[this.model,"change:"+this.property,this._rerender],[e.device,"resize",this._hideIfNotAndroid],[this.$items,"click",this._onItemClick],[this.$filter,"input paste",this._onFilterChange.bind(this)]])},_rerender:function(){this.unbindEvents(),i.prototype._rerender.call(this)},_annotatedValues:function(){var e=this.model.getLanguage(this.property);return this.values.reduce((function(t,i){return i.selected=e&&e.id===i.id,i.visible=!0,t.push(i),t}),[])},_onItemClick:function(e){this.emit("item-clicked",{property:this.property,value:$(e.currentTarget).data("value")})},_onFilterChange:function(){this.keyboardNavigable.reset()},_hideIfNotAndroid:function(){e.device.isAndroid||this.hide()}})}(DDG),function(e){var t=e.Views.Modules.Base;e.Views.Modules.ReactModule=function(){},e.Views.Modules.ReactModule.prototype=Object.assign({},t.prototype)}(DDG),function(e){e.Utils.ReactLegacyProps={createFeedbackPromptView:function(t){return function(i){return new e.Views.Feedback.FeedbackPrompt(Object.assign({appendTo:$(i)},t))}},createFeedbackModalView:function(e){return new DDG.Views.Feedback.Modal(Object.assign({appendTo:$("body")},e))},getViewConstructor:function(t,i){var s=new e.Utils.TabViewBuilder;return i?s.buildSnippet({answer:t,noop:!0}):s.build({model:t,noop:!0})},reactOpen:function(){return e.duckbar.reactOpen.apply(e.duckbar,arguments)},reactDuckbarEmit:function(){e.duckbar.emit.apply(e.duckbar,arguments)},aboutCreateLocation:function(t){return new e.Models.AnswerItems.MapLocation({lat:t.center[1],lon:t.center[0],bbox:t.bbox,name:t.place_name,address:t.place_name})},aboutCreateMap:function(t,i){return function(s){return new e.Views.Mapkit.StaticMap({markers:[t],width:i,height:157,appendTo:$(s),showCTA:!0,answer:{}})}},aboutCreateDirections:function(){e.directionsModel=e.directionsModel||new e.Models.Maps.Directions},aboutOpenMap:function(t,i,s,a,o){a=a||e.directionsModel,o=o||t.data,s&&(a.canRetryLocationSearch=!1,a.setLocation({type:"end",what:o.Heading,display:o.Heading}),a.set("endDisplay",o.Heading),a.userLocation&&a.setLocationToUserLocation("start"));var n=Object.assign({},t,{answerItemModel:"About",model:"About",mapLocation:i,items:[{header:{mapLocation:i}}]});e.router.navigate("toggle-map",{model:n,directionsModel:a,isMapExpanded:!0,isDirections:s})},importMapkit:function(t){t=t||function(){},e.mapkit.isInitialized?t(null,window.mapkit):e.mapkit.init((function(e){e?t(e):t(null,window.mapkit)}))},createSettingsDropdownView:function(t){return function(i){return new e.Views.Dropdowns.SettingsDropdown(Object.assign({appendTo:i},t))}},createSideMenuView:function(e){return new DDG.Views.SideMenu(Object.assign({pageType:"serp",appendTo:".js-site-wrapper"},e))}}}(DDG),function(e){e.feedback=new e.Models.Feedback,e.searchExperiments=window.Bootstrap.searchExperiments,e.modulesLayout=new e.Models.ModulesLayout({}),e.duckbar=new e.Duckbar,e.directionSource=new e.Models.AnswerSelectLists.DirectionSource,e.vqd=new e.Models.VQD,e.router=new e.Models.Router,e.ads=new e.Models.Ads({}),e.pageLayout=new e.Models.PageLayout,e.serpPopover=new e.Models.SerpPopover,e.serpPromotions=new e.Models.SerpPromotions}(DDG),this.DDG=this.DDG||{},this.DDG.templates=this.DDG.templates||{},this.DDG.templates.base=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="zci  zci--'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'" id="zci-'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'">',((o=typeof(o=t&&t.content)===r?o.apply(t):o)||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.detail_slider_pane=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="detail__pane" style="line-height:'+l(typeof(o=t&&t.lineHeight)===r?o.apply(t):o)+";width:"+l(typeof(o=t&&t.width)===r?o.apply(t):o)+";height:"+l(typeof(o=t&&t.height)===r?o.apply(t):o)+";padding:"+l(typeof(o=t&&t.padding)===r?o.apply(t):o)+";padding-left:"+l(typeof(o=t&&t.paddingLeft)===r?o.apply(t):o)+';"></div>'})),this.DDG.templates.detail_slider=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="detail  detail--slider  detail--'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'  is-hidden" ',o=i.if.call(t,t&&t.detailHeight,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='style="height:'+l(typeof(i=e&&e.detailHeight)===r?i.apply(e):i)+';"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><div class="detail__wrap"><a class="detail__close  js-detail-close"></a>',((o=i.if.call(t,t&&t.mobileAndNoTouch,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<i class="tile-nav tile-nav--d tile-nav--prev js-detail-prev"></i><i class="tile-nav tile-nav--d tile-nav--next js-detail-next"></i>'}),a),data:a}))||0===o)&&(n+=o),n+='<div class="detail__panes  js-detail-panes"></div><div class="detail__controls"><i class="tile-nav--sm  tile-nav--sm--prev  js-detail-prev"></i><i class="tile-nav--sm  tile-nav--sm--next  js-detail-next"></i></div></div></div>'})),this.DDG.templates.duckbar_tab=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;return n+='<li class="zcm__item  ',((o=i.if.call(t,t&&t.visible,{hash:{},inverse:r.program(1,(function(e,t){return"is-hidden"}),a),fn:r.noop,data:a}))||0===o)&&(n+=o),n+='"><a data-zci-link="',((o=typeof(o=t&&t.id)===l?o.apply(t):o)||0===o)&&(n+=o),n+='" data-testid="tab-label-',((o=typeof(o=t&&t.id)===l?o.apply(t):o)||0===o)&&(n+=o),n+='" class="zcm__link  js-zci-link  js-zci-link--',((o=typeof(o=t&&t.id)===l?o.apply(t):o)||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.active,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return"is-active"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.icon_template,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){return"is-icon-only"}),a),data:a}))||0===o)&&(n+=o),n+='"href="'+d(typeof(o=t&&t.url)===l?o.apply(t):o)+'">',o=i.if.call(t,t&&t.icon_template,{hash:{},inverse:r.program(9,(function(e,t){var s;return(s=i.l.call(e,e&&e.name,{hash:{},data:t}))||0===s?s:""}),a),fn:r.program(7,(function(e,t){var s;return(s=i.include.call(e,e&&e.icon_template,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</a></li>"})),this.DDG.templates.maps_marker_popup=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<span class="mapview-marker__popup__name">'+l(typeof(i=e&&e.name)===r?i.apply(e):i)+"</span>"}function h(e,t){var i,s="";return s+='<span class="mapview-marker__popup__address">'+l(typeof(i=e&&e.address)===r?i.apply(e):i)+"</span>"}function p(e,t){var i,s="";return s+='<span class="mapview-marker__popup__latlon">',((i=typeof(i=e&&e.displayLatLon)===r?i.apply(e):i)||0===i)&&(s+=i),s+="</span>"}function u(e,t){var i,s="";return s+='<div class="mapview-marker__popup__directions-name"><span class="ddgsi mapview-marker__popup__directions-icon">d</span><span class="mapview-marker__popup__name">'+l(typeof(i=e&&e.name)===r?i.apply(e):i)+"</span></div>"}return n+='<span class="mapview-marker__popup ',((o=i.if.call(t,t&&t.singleLinePopup,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"mapview-marker__popup--single-line"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.showDirections,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"has-directions js-popup-directions-container"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.unless.call(t,t&&t.showDirections,{hash:{},inverse:d.program(12,(function(e,t){var s,a="";return a+='<a class="js-directions-link" href="#">',((s=i.if.call(e,e&&e.name,{hash:{},inverse:d.noop,fn:d.program(13,u,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.address,{hash:{},inverse:d.noop,fn:d.program(8,h,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.displayLatLon,{hash:{},inverse:d.noop,fn:d.program(10,p,t),data:t}))||0===s)&&(a+=s),a+="</a>"}),a),fn:d.program(5,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.name,{hash:{},inverse:d.noop,fn:d.program(6,c,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.address,{hash:{},inverse:d.noop,fn:d.program(8,h,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.displayLatLon,{hash:{},inverse:d.noop,fn:d.program(10,p,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+="</span>"})),this.DDG.templates.maps=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="zci zci--'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'  mapview" id="zci-'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'"></div>'})),this.DDG.templates.metabar=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){var s,a="";return a+='<div class="metabar__more-at">',((s=i.moreAt.call(e,e,"none",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}function h(e,t){var s,a="";return a+='<div class="metabar__secondary-text  ',((s=i.if.call(e,e&&e.alwaysShowSecondaryText,{hash:{},inverse:r.program(11,p,t),fn:r.noop,data:t}))||0===s)&&(a+=s),a+=" js-metabar-secondary",((s=i.if.call(e,e&&e.clickableSecondaryText,{hash:{},inverse:r.noop,fn:r.program(13,u,t),data:t}))||0===s)&&(a+=s),a+='">',((s=typeof(s=e&&e.secondaryText)===l?s.apply(e):s)||0===s)&&(a+=s),((s=i.if.call(e,e&&e.showMoreAt,{hash:{},inverse:r.noop,fn:r.program(15,m,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function p(e,t){return"hide--screen-s"}function u(e,t){return" is-loading"}function m(e,t){return'<span class="sep"></span>'}function _(e,t){return'<span class="metabar__attribution__sep sep"></span>'}function f(e,t){var s,a="";return a+='<div class="metabar__primary-text js-metabar-primary is-loading">',((s=i.if.call(e,e&&e.primaryText,{hash:{},inverse:r.program(25,v,t),fn:r.program(23,g,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function g(e,t){var i;return(i=typeof(i=e&&e.primaryText)===l?i.apply(e):i)||0===i?i:""}function v(e,t){var s;return(s=i.if.call(e,e&&e.sourceNoTransform,{hash:{},inverse:r.programWithDepth(28,y,t,e),fn:r.program(26,w,t),data:t}))||0===s?s:""}function w(e,t){var s,a="";return a+='<span class="metabar__item-type--no-transform">'+d(i.l.call(e,e&&e.itemType,{hash:{},data:t}))+"</span> ",((s=i.l.call(e,"for",{hash:{},data:t}))||0===s)&&(a+=s),a+=' <span class="metabar__term">'+d(typeof(s=e&&e.searchTerm)===l?s.apply(e):s)+"</span>"}function y(e,t,s){var a;return(a=i.unless.call(e,null==(a=s&&s.model)||!1===a?a:a.hasExploreByItemsEnabled,{hash:{},inverse:r.program(31,k,t),fn:r.program(29,b,t),data:t}))||0===a?a:""}function b(e,t){var s,a="";return a+='<span class="metabar__item-type">'+d(i.l.call(e,e&&e.itemType,{hash:{},data:t}))+"</span> ",((s=i.l.call(e,"for",{hash:{},data:t}))||0===s)&&(a+=s),a+=' <span class="metabar__term">'+d(typeof(s=e&&e.searchTerm)===l?s.apply(e):s)+"</span>"}function k(e,t){var s,a="";return a+='<span class="metabar__primary-text--top-position"><span class="metabar__item-type">'+d(i.l.call(e,e&&e.itemType,{hash:{},data:t}))+"</span> ",((s=i.l.call(e,"for",{hash:{},data:t}))||0===s)&&(a+=s),a+=' <span class="metabar__term">'+d(typeof(s=e&&e.searchTerm)===l?s.apply(e):s)+'</span></span><span class="metabar__primary-text--on-scroll">Related searches</span>'}function S(e,t){return'<div class="metabar__dropdowns-wrap"><div class="metabar__dropdowns js-metabar-dropdowns is-loading"></div></div>'}return n+='<div class="metabar  metabar--fixed  js-zcm-sticky ',((o=i.if.call(t,t&&t.showDropdowns,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"has-dropdowns"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.hidden,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return"is-hidden"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.minimalMetabar,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){return"metabar__minimal"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="metabar__in js-metabar">',o=i.unless.call(t,t&&t.minimalMetabar,{hash:{},inverse:r.noop,fn:r.program(7,(function(e,t){var s,a="";return a+='<span class="metabar__mode-wrap"><a class="btn--icon  metabar__mode  js-metabar-mode  is-disabled">'+d(typeof(s=e&&e.initialModeIcon)===l?s.apply(e):s)+"</a></span>",((s=i.if.call(e,e&&e.showMoreAt,{hash:{},inverse:r.noop,fn:r.program(8,c,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.secondaryText,{hash:{},inverse:r.noop,fn:r.program(10,h,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="metabar__attribution  js-attribution  hide--screen-s  is-hidden">',o=i.if.call(t,t&&t.showMoreAt,{hash:{},inverse:r.program(19,(function(e,t){var s;return(s=i.if.call(e,e&&e.secondaryText,{hash:{},inverse:r.noop,fn:r.program(17,_,t),data:t}))||0===s?s:""}),a),fn:r.program(17,_,a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.unless.call(t,t&&t.minimalMetabar,{hash:{},inverse:r.noop,fn:r.program(21,(function(e,t){var s,a="";return((s=i.unless.call(e,e&&e.MetabarContentView,{hash:{},inverse:r.noop,fn:r.program(22,f,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.showDropdowns,{hash:{},inverse:r.noop,fn:r.program(33,S,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.tiles_scroll_nav=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<i class="tile-nav  tile-nav--'+(0,this.escapeExpression)("function"==typeof(o=t&&t.dir)?o.apply(t):o)+'  js-tile-nav"></i>'})),this.DDG.templates.tiles=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){return'<div class="tileview-top-module js-tileview-top-module"></div>'}return n+='<div class="'+d(typeof(o=t&&t.svImageExperimentClassName)===l?o.apply(t):o)+" zci  zci--"+d(typeof(o=t&&t.id)===l?o.apply(t):o)+"  zci--type--tiles",((o=i.if.call(t,t&&t.bing,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return" bing"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isFullPage,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return" is-full-page"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.canShowSidebarFilters,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){return" has-sidebar-filters"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isSvExperiment,{hash:{},inverse:r.noop,fn:r.program(7,(function(e,t){return" is-sv-exp"}),a),data:a}))||0===o)&&(n+=o),n+='" id="zci-'+d(typeof(o=t&&t.id)===l?o.apply(t):o)+'" data-testid="zci-'+d(typeof(o=t&&t.id)===l?o.apply(t):o)+'"><div class="tileview  js-tileview">',o=i.if.call(t,t&&t.canShowSidebarFilters,{hash:{},inverse:r.noop,fn:r.program(9,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.verticalCanHaveModule,{hash:{},inverse:r.noop,fn:r.program(10,c,t),data:t}))||0===s)&&(a+=s),a+='<div class="sidebar-filters js-tileview-sidebar-filters"></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile-wrap">',o=i.unless.call(t,t&&t.canShowSidebarFilters,{hash:{},inverse:r.noop,fn:r.program(12,(function(e,t){var s;return(s=i.if.call(e,e&&e.verticalCanHaveModule,{hash:{},inverse:r.noop,fn:r.program(10,c,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="zci__main  zci__main--tiles  js-tiles  has-tiles  has-nav">',((o=typeof(o=t&&t.content)===l?o.apply(t):o)||0===o)&&(n+=o),n+="</div></div>",((o=i.if.call(t,t&&t.hasFeedbackButton,{hash:{},inverse:r.noop,fn:r.program(14,(function(e,t){return'<div class="serp__bottom-right js-vertical-bottom-right"></div>'}),a),data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.topic_menu_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=i.blockHelperMissing;return n+='<li class="zcm__item"><a class="zcm__link--sub  js-topic-menu-link" href="#">'+l(typeof(o=t&&t.name)===r?o.apply(t):o),o=typeof(o=t&&t.hideCount)===r?o.apply(t):o,o=d.call(t,o,{hash:{},inverse:this.program(1,(function(e,t){var i,s="";return s+='<sup class="zcm__link__count  js-topic-menu-count">'+l(typeof(i=null==(i=e&&e.items)||!1===i?i:i.length)===r?i.apply(e):i)+"</sup>"}),a),fn:this.noop,data:a}),(o||0===o)&&(n+=o),n+="</a></li>"})),this.DDG.templates.topic_menu=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="zcm  zcm--sub  zcm--topics"><ul class="zcm__menu  zcm__menu--topics js-topic-menu"></ul></div>'})),this.DDG.templates.uxexp_duckbar_tab=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;return n+='<li class="zcm__item  ',((o=i.if.call(t,t&&t.visible,{hash:{},inverse:r.program(1,(function(e,t){return"is-hidden"}),a),fn:r.noop,data:a}))||0===o)&&(n+=o),n+='"><a data-zci-link="',((o=typeof(o=t&&t.id)===l?o.apply(t):o)||0===o)&&(n+=o),n+='" data-testid="tab-label-',((o=typeof(o=t&&t.id)===l?o.apply(t):o)||0===o)&&(n+=o),n+='" class="zcm__link  js-zci-link  js-zci-link--',((o=typeof(o=t&&t.id)===l?o.apply(t):o)||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.active,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return"is-active"}),a),data:a}))||0===o)&&(n+=o),n+='"href="'+d(typeof(o=t&&t.url)===l?o.apply(t):o)+'"><span class="zcm__link__icon">',((o=i.include.call(t,t&&t.icon_template,{hash:{},data:a}))||0===o)&&(n+=o),n+="</span>",((o=typeof(o=t&&t.translatedName)===l?o.apply(t):o)||0===o)&&(n+=o),n+="</a></li>"})),this.DDG.templates.answer_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body">',((o="function"==typeof(o=t&&t.Answer)?o.apply(t):o)||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.base_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this;function l(e,t){var s,a="";return a+='<span class="c-base__link--more  sep--before">',((s=i.formatSubtitle.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}return n+='<div class="cw"><div class="zci__main  zci__main--detail  c-base"><div class="zci__body">',o=i.if.call(t,t&&t.content,{hash:{},inverse:r.program(3,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s?s:""}),a),fn:r.program(1,(function(e,t){var i;return(i="function"==typeof(i=e&&e.content)?i.apply(e):i)||0===i?i:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreAt,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){var s,a="";return a+='<div class="c-base__links">',((s=i.moreAt.call(e,e&&e.meta,"none",{hash:{className:"c-base__link"},data:t}))||0===s)&&(a+=s),((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},inverse:r.noop,fn:r.program(6,l,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.base_spice_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body">',((o="function"==typeof(o=t&&t.content)?o.apply(t):o)||0===o)&&(n+=o),n+='<div class="zci__links">',((o=i.moreAt.call(t,null==(o=t&&t.item)||!1===o?o:o.meta,{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div></div></div>"})),this.DDG.templates.basic_icon_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<div class="c-icon__content '+l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.iconContent)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.description)===r?i.apply(e):i)+"</div>"}function h(e,t){var s,a="";return a+='<span class="c-icon__link--more  sep--before">',((s=i.formatSubtitle.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}return n+='<div class="cw ',((o=i.if.call(t,t&&t.infoboxData,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"has-aux"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="zci__main  c-icon"><div class="zci__body"><div class="c-icon__head">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<div class="c-icon__img-wrap '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.iconImage)===r?s.apply(e):s)+'"><img class="c-icon__img" src="',((s=i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))||0===s)&&(a+=s),a+='" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.badge,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var i,s="";return s+='<span class="c-icon__badge '+l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.iconBadge)===r?i.apply(e):i)+" "+l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.bgColor)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.badge)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-icon__body">',o=i.if.call(t,t&&t.title,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var i,s="";return s+='<h1 class="c-icon__title '+l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.iconTitle)===r?i.apply(e):i)+'"><a href="',((i=typeof(i=e&&e.url)===r?i.apply(e):i)||0===i)&&(s+=i),s+='">'+l(typeof(i=e&&e.title)===r?i.apply(e):i)+"</a></h1>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.subtitle,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s,a="";return a+='<span class="c-icon__sub '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.iconSubtitle)===r?s.apply(e):s)+'">',((s=i.formatSubtitle.call(e,e&&e.subtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.altSubtitle,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var s,a="";return a+='<span class="c-icon__sub '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.iconAltSubtitle)===r?s.apply(e):s)+'">',((s=i.formatSubtitle.call(e,e&&e.altSubtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.content,{hash:{},inverse:d.program(15,(function(e,t){var s;return(s=i.if.call(e,e&&e.description,{hash:{},inverse:d.noop,fn:d.program(16,c,t),data:t}))||0===s?s:""}),a),fn:d.program(13,(function(e,t){var s,a="";return a+='<div class="c-icon__content '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.iconContent)===r?s.apply(e):s)+'">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreAt,{hash:{},inverse:d.noop,fn:d.program(18,(function(e,t){var s,a="";return a+='<div class="c-icon__links '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.iconLinks)===r?s.apply(e):s)+'">',((s=i.moreAt.call(e,e&&e.meta,"none",{hash:{className:"c-icon__link"},data:t}))||0===s)&&(a+=s),((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},inverse:d.noop,fn:d.program(19,h,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.basic_info_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){return"tile"}function h(e,t){return"clip"}function p(e,t){return"has-sub"}function u(e,t){var s,a="";return a+='<span class="c-info__title__sub">',((s=i.formatSubtitle.call(e,e&&e.subtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}function m(e,t){return"chomp js-ellipsis"}function _(e,t){var i,s="";return s+='<div class="c-info__content chomp js-ellipsis">'+d(typeof(i=e&&e.description)===l?i.apply(e):i)+"</div>"}return n+='<div class="c-info--cw  cw ',((o=i.if.call(t,t&&t.infoboxData,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"has-aux"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="zci__main  c-info"><div class="zci__body">',o=i.if.call(t,t&&t.image,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){var s,a="";return a+='<div class="c-info__img-wrap  c-info__img-wrap--',((s=i.if.call(e,e&&e.imageTile,{hash:{},inverse:r.program(6,h,t),fn:r.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='"><a href="',((s=typeof(s=e&&e.url)===l?s.apply(e):s)||0===s)&&(a+=s),a+='" class="c-info__img-wrap__in"><img class="c-info__img  js-detail-img" src="',((s=i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))||0===s)&&(a+=s),a+='" /></a></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-info__body">',o=i.if.call(t,t&&t.title,{hash:{},inverse:r.noop,fn:r.program(8,(function(e,t){var s,a="";return a+='<h1 class="c-info__title  ',((s=i.if.call(e,e&&e.subtitle,{hash:{},inverse:r.noop,fn:r.program(9,p,t),data:t}))||0===s)&&(a+=s),a+='"><a href="',((s=typeof(s=e&&e.url)===l?s.apply(e):s)||0===s)&&(a+=s),a+='">'+d(typeof(s=e&&e.title)===l?s.apply(e):s)+"</a>",((s=i.if.call(e,e&&e.subtitle,{hash:{},inverse:r.noop,fn:r.program(11,u,t),data:t}))||0===s)&&(a+=s),a+="</h1>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.content,{hash:{},inverse:r.program(16,(function(e,t){var s;return(s=i.if.call(e,e&&e.description,{hash:{},inverse:r.noop,fn:r.program(17,_,t),data:t}))||0===s?s:""}),a),fn:r.program(13,(function(e,t){var s,a="";return a+='<div class="c-info__content ',((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.chompContent,{hash:{},inverse:r.noop,fn:r.program(14,m,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-info__links">',((o=i.include.call(t,"chomp_link",{hash:{className:"c-info__link  c-info__link--chomp",sep:(o=t&&t.meta,o=null==o||!1===o?o:o.options,null==o||!1===o?o:o.moreAt)},data:a}))||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreAt,{hash:{},inverse:r.noop,fn:r.program(19,(function(e,t){var s;return(s=i.moreAt.call(e,e&&e.meta,"none",{hash:{className:"c-info__link",sourceOnlyMobile:"true"},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreText,{hash:{},inverse:r.noop,fn:r.program(21,(function(e,t){var s,a="";return a+='<span class="c-info__link--more  sep--before">',((s=i.formatSubtitle.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div></div>"})),this.DDG.templates.goodie_0_inputs=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function";return n+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">',((o=typeof(o=null==(o=t&&t.Answer)||!1===o?o:o.result)===r?o.apply(t):o)||0===o)&&(n+=o),n+="</h3>",o=i.if.call(t,null==(o=t&&t.Answer)||!1===o?o:o.operation,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<h4 class="zci__subheader"><span class="zci__operation">',((i=typeof(i=null==(i=e&&e.Answer)||!1===i?i:i.operation)===r?i.apply(e):i)||0===i)&&(s+=i),s+="</span></h4>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.goodie_1_inputs=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">',((o=typeof(o=null==(o=t&&t.Answer)||!1===o?o:o.result)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</h3><h4 class="zci__subheader"><span class="zci__operation  tx-clr--lt2">',((o=typeof(o=null==(o=t&&t.Answer)||!1===o?o:o.operation)===r?o.apply(t):o)||0===o)&&(n+=o),n+=':</span> <span class="zci__input">'+l(typeof(o=null==(o=null==(o=t&&t.Answer)||!1===o?o:o.input)||!1===o?o:o[0])===r?o.apply(t):o)+"</span></h4></div></div></div>"})),this.DDG.templates.goodie_2_inputs=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">',((o=typeof(o=null==(o=t&&t.Answer)||!1===o?o:o.result)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</h3><h4 class="zci__subheader"><span class="zci__operation  tx-clr--lt2">',((o=typeof(o=null==(o=t&&t.Answer)||!1===o?o:o.operation)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</span> <span class="zci__input">'+l(typeof(o=null==(o=null==(o=t&&t.Answer)||!1===o?o:o.input)||!1===o?o:o[0])===r?o.apply(t):o)+'</span> <span class="tx-clr--lt2">&dash;</span> <span class="zci__input">'+l(typeof(o=null==(o=null==(o=t&&t.Answer)||!1===o?o:o.input)||!1===o?o:o[1])===r?o.apply(t):o)+"</span></h4></div></div></div>"})),this.DDG.templates.info_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){return"tile"}function h(e,t){return"clip"}function p(e,t){var i,s="";return s+='style="width:'+l(typeof(i=null==(i=e&&e.imageLoadingSize)||!1===i?i:i.width)===r?i.apply(e):i)+"px;height:"+l(typeof(i=null==(i=e&&e.imageLoadingSize)||!1===i?i:i.height)===r?i.apply(e):i)+'px;" '}return n+='<div class="c-info--cw  cw ',((o=i.if.call(t,t&&t.infoboxData,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"has-aux"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="zci__main  c-info"><div class="zci__body">',o=i.if.call(t,t&&t.Image,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<div class="c-info__img-wrap  c-info__img-wrap--',((s=i.if.call(e,e&&e.imageTile,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='"><a href="',((s=typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)||0===s)&&(a+=s),a+='" class="c-info__img-wrap__in"><img class="c-info__img  js-sized-img" src="',((s=typeof(s=e&&e.Image)===r?s.apply(e):s)||0===s)&&(a+=s),a+='" ',((s=i.if.call(e,e&&e.imageLoadingSize,{hash:{},inverse:d.noop,fn:d.program(8,p,t),data:t}))||0===s)&&(a+=s),a+=" /></a></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-info__body">',o=i.if.call(t,t&&t.Heading,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){var s;return(s=i.formatTitle.call(e,e&&e.Heading,{hash:{el:"h1",className:"c-info__title",href:e&&e.AbstractURL,ellipsis:100},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-info__content chomp js-ellipsis">',((o=typeof(o=t&&t.Abstract)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</div><div class="c-info__links">',((o=i.include.call(t,"chomp_link",{hash:{className:"c-info__link  c-info__link--chomp",sep:t&&t.meta},data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.meta,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var s;return(s=i.moreAt.call(e,e&&e.meta,e&&e.AbstractURL,{hash:{className:"c-info__link",sourceOnlyMobile:!0},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.each.call(t,t&&t.Results,{hash:{to:"0"},inverse:d.noop,fn:d.program(14,(function(e,t){var s,a="";return a+='<a class="c-info__link  c-info__link--url" href="'+l(typeof(s=e&&e.FirstURL)===r?s.apply(e):s)+'"><span class="sep  c-info__links__sep"></span>'+l(i.domain.call(e,e&&e.FirstURL,{hash:{},data:t}))+"</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div></div>"})),this.DDG.templates.list_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l=this;function d(e,t,s){var a,o="";return o+='<li class="c-list__item">',((a=i.include.call(e,null==(a=null==(a=s&&s.meta)||!1===a?a:a.options)||!1===a?a:a.list_content,{hash:{},data:t}))||0===a)&&(o+=a),o+="</li>"}return n+='<div class="cw"><div class="zci__main  c-list"><div class="zci__body">',o=i.if.call(t,t&&t.title,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var i,s="";return s+='<h3 class="c-list__title">'+r("function"==typeof(i=e&&e.title)?i.apply(e):i)+"</h3>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.subtitle,{hash:{},inverse:l.noop,fn:l.program(3,(function(e,t){var s,a="";return a+='<p class="c-list__sub">',((s=i.formatSubtitle.call(e,e&&e.subtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.subtitle_content,{hash:{},inverse:l.noop,fn:l.program(5,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.subtitle_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.content,{hash:{},inverse:l.noop,fn:l.program(7,(function(e,t){var s,a="";return a+='<div class="c-list__content  chomp  js-chomp">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.list_content,{hash:{},inverse:l.noop,fn:l.program(9,(function(e,t){var s,a="";return a+='<div class="c-list__content  chomp  js-chomp"><ul class="c-list__items">',((s=i.each.call(e,e&&e.list,{hash:{},inverse:l.noop,fn:l.programWithDepth(10,d,t,e),data:t}))||0===s)&&(a+=s),a+="</ul></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-list__links">',((o=i.include.call(t,"chomp_link",{hash:{className:"c-list__link",sep:(o=t&&t.meta,o=null==o||!1===o?o:o.options,null==o||!1===o?o:o.moreAt)},data:a}))||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreAt,{hash:{},inverse:l.noop,fn:l.program(12,(function(e,t){var s;return(s=i.moreAt.call(e,e&&e.meta,"none",{hash:{className:"c-list__link"},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreText,{hash:{},inverse:l.noop,fn:l.program(14,(function(e,t){var s,a="";return a+='<span class="c-list__link--more  sep--before">',((s=i.formatSubtitle.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div>"})),this.DDG.templates.lyrics_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="",r=this;return n+='<div class="c-info--cw  cw ',((o=(i=this.merge(i,e.helpers)).if.call(t,null==(o=t&&t.data)||!1===o?o:o[1],{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"has-aux"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="zci__main  c-info"><div class="zci__body  c-info__body">',((o=i.lyricsTitle.call(t,t&&t.title,t&&t.url,{hash:{},data:a}))||0===o)&&(n+=o),n+='<div class="c-info__content  chomp js-ellipsis">',((o=i.lyricsAbstract.call(t,t&&t.abstract,{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="c-info__links">',((o=i.include.call(t,"chomp_link",{hash:{className:"c-info__link  c-info__link--chomp  sep--after"},data:a}))||0===o)&&(n+=o),((o=i.moreAt.call(t,t&&t.url,t&&t.source,{hash:{className:"c-info__link"},data:a}))||0===o)&&(n+=o),n+="</div></div></div></div>",o=i.if.call(t,null==(o=null==(o=t&&t.data)||!1===o?o:o[1])||!1===o?o:o.urlTitle,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){var s;return(s=i.include.call(e,"infobox",{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.nlp_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="c-info  c-info--body">',((o=(i=this.merge(i,e.helpers)).formatTitle.call(t,t&&t.heading,{hash:{el:"h1",className:"c-info__title",classNameSec:"c-info__title--long",href:t&&t.url},data:a}))||0===o)&&(n+=o),n+='<div class="c-info__content chomp js-ellipsis">',((o="function"==typeof(o=t&&t.abstract)?o.apply(t):o)||0===o)&&(n+=o),n+='</div><div class="c-info__links">',((o=i.include.call(t,"chomp_link",{hash:{className:"c-info__link  c-info__link--chomp  sep--after"},data:a}))||0===o)&&(n+=o),((o=i.moreAt.call(t,t&&t.meta,t&&t.url,{hash:{className:"c-info__link",sourceOnlyMobile:"true",attributionAfter:"true"},data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.places_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l="function",d=this,c=i.blockHelperMissing;function h(e,t){var s;return(s=i.starRating.call(e,e&&e.rating,{hash:{},data:t}))||0===s?s:""}function p(e,t){var s;return(s=i.reviewCount.call(e,e&&e.reviews,e&&e.url,{hash:{},data:t}))||0===s?s:""}function u(e,t){var i="";return i+=r(typeof e===l?e.apply(e):e)+"<br />"}function m(e,t){var i,s="";return s+='<p class="tile__sub">'+r(typeof(i=e&&e.address)===l?i.apply(e):i)+"</p>"}function _(e,t){return"hours-closed"}function f(e,t){var i;return r(typeof(i=e&&e.hoursToday)===l?i.apply(e):i)}function g(e,t){var s;return(s=i.l.call(e,"Closed",{hash:{},data:t}))||0===s?s:""}function v(e,t){var s,a="";return a+="<tr ",((s=i.if.call(e,e&&e.isToday,{hash:{},inverse:d.noop,fn:d.program(43,w,t),data:t}))||0===s)&&(a+=s),a+='><td class="tile__hours-full__day">'+r(typeof(s=e&&e.day)===l?s.apply(e):s)+':</td><td class="tile__hours-full__hours">'+r(typeof(s=e&&e.hours)===l?s.apply(e):s)+"</td></tr>"}function w(e,t){return'class="tile__hours-full__current"'}return n+='<div class="zci__main  zci__main--single-loc"><div class="tile--map  js-tile-map"><div class="tile__body"><div class="tile--map__side"><a class="tile__media" href="',((o=typeof(o=t&&t.url)===l?o.apply(t):o)||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.program(3,(function(e,t){return'<span class="ddgsi tile__media__no-img">@</span>'}),a),fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="tile__media__wrapper"><img src="'+r(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'" alt="'+r(typeof(s=e&&e.title)===l?s.apply(e):s)+'" class="tile__media__img" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</a>",o=i.and.call(t,null==(o=t&&t.meta)||!1===o?o:o.sourceName,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var s,a="";return a+='<div class="tile__more-wrap">',((s=i.moreAt.call(e,e&&e.url,null==(s=e&&e.meta)||!1===s?s:s.sourceName,{hash:{className:"tile__more-link",iconClassName:"tile__favicon",dynamicMoreAtText:5},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><h4 class="tile__title"><a href="',((o=typeof(o=t&&t.url)===l?o.apply(t):o)||0===o)&&(n+=o),n+='">'+r(typeof(o=t&&t.name)===l?o.apply(t):o)+'</a></h4><div class="tile--map__main ',((o=i.if.call(t,t&&t.hours,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){return"has-hours js-tile-map-with-hours"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="tile--map__main__not-hours"><div class="tile__rating-and-price"><div class="tile__rating">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.detail_rating,{hash:{},inverse:d.program(11,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.rating,{hash:{},inverse:d.noop,fn:d.program(12,h,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.reviews,{hash:{},inverse:d.noop,fn:d.program(14,p,t),data:t}))||0===s)&&(a+=s),a}),a),fn:d.program(9,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.detail_rating,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",((o=i.and.call(t,t&&t.rating,t&&t.price,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return'<span class="sep"></span>'}),a),data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.price,{hash:{},inverse:d.noop,fn:d.program(18,(function(e,t){var s,a="";return a+='<span class="tile__price">',((s=i.priceSymbols.call(e,e&&e.price,4,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.address_lines,{hash:{},inverse:d.program(23,(function(e,t){var s;return(s=i.if.call(e,e&&e.address,{hash:{},inverse:d.noop,fn:d.program(24,m,t),data:t}))||0===s?s:""}),a),fn:d.program(20,(function(e,t){var s,a="";return a+='<p class="tile__sub">',((s=i.each.call(e,e&&e.address_lines,{hash:{},inverse:d.noop,fn:d.program(21,u,t),data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.phone,{hash:{},inverse:d.noop,fn:d.program(26,(function(e,t){var i,s="";return s+='<a class="tile__phone" href="tel:'+r(typeof(i=e&&e.phone)===l?i.apply(e):i)+'">'+r(typeof(i=e&&e.phone)===l?i.apply(e):i)+"</a>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.hours,{hash:{},inverse:d.noop,fn:d.program(28,(function(e,t){var s,a="";return a+='<div class="tile__hours-today"><span class="tile__hours-today__label">',((s=i.l.call(e,"Today",{hash:{},data:t}))||0===s)&&(a+=s),a+=':</span><a href="#" class="tile__hours-today__hours js-map-hours-expand ',((s=i.if.call(e,e&&e.hoursToday,{hash:{},inverse:d.program(29,_,t),fn:d.noop,data:t}))||0===s)&&(a+=s),a+='">',((s=i.if.call(e,e&&e.hoursToday,{hash:{},inverse:d.program(33,g,t),fn:d.program(31,f,t),data:t}))||0===s)&&(a+=s),a+="</a></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile__actions ',((o=i.if.call(t,t&&t.compressActions,{hash:{},inverse:d.noop,fn:d.program(35,(function(e,t){return"tile__actions--small"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.canMakePhoneCalls,{hash:{},inverse:d.noop,fn:d.program(37,(function(e,t){var s,a="";return a+='<a class="tile__actions__btn tile__call btn js-tel-link" href="tel:'+r(typeof(s=e&&e.phone)===l?s.apply(e):s)+'">',((s=i.lp.call(e,"maps_places","Call",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.showDirections,{hash:{},inverse:d.noop,fn:d.program(39,(function(e,t){var s,a="";return a+='<div class="tile__directions js-directions-container"><a class="tile__actions__btn btn js-directions-link" href="'+r(typeof(s=e&&e.directions)===l?s.apply(e):s)+'">',((s=i.lp.call(e,"maps_places","Directions",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>",o=i.if.call(t,t&&t.hours,{hash:{},inverse:d.noop,fn:d.program(41,(function(e,t){var i,s="";return s+='<div class="tile__hours-full"><span class="tile__hours__close  ddgsi  js-map-hours-close">X</span><table class="tile__hours-full__table">',i=typeof(i=e&&e.hours)===l?i.apply(e):i,((i=c.call(e,i,{hash:{},inverse:d.noop,fn:d.program(42,v,t),data:t}))||0===i)&&(s+=i),s+="</table></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.products_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<span class="c-product__rating ',((s=i.if.call(e,e&&e.subtitle,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.starsAndReviews.call(e,e&&e.rating,e&&e.reviewCount,e&&e.url,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.hideReviewText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}function h(e,t){return"sep--before"}function p(e,t){return'<span class="sep  c-product__sep"></span>'}function u(e,t){var i,s="";return s+='<span class="c-product__price  price  tx-clr--dk2">'+l(typeof(i=e&&e.price)===r?i.apply(e):i)+"</span>"}function m(e,t){var s,a="";return a+='<span class="c-product__brand">',((s=i.lp.call(e,"made_by","by %s",e&&e.brand,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}return n+='<div class="c-product"><div class="c-product__pane">',o=i.if.call(t,t&&t.img,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="c-product__media '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.productMedia)===r?s.apply(e):s)+'"><img class="c-product__media__img '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.productMediaImg)===r?s.apply(e):s)+'" src="'+l(i.imageProxy.call(e,e&&e.img,{hash:{},data:t}))+'" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-product__body-wrap"><div class="c-product__body-content"><div class="c-product__body  c-product__body--pri  r-border-box">',((o=i.formatTitle.call(t,t&&t.heading,{hash:{el:"h5",className:"c-product__title",classNameSec:(o=t&&t.meta,o=null==o||!1===o?o:o.elClass,null==o||!1===o?o:o.productTitle),noSub:"true",ellipsis:120,href:t&&t.url},data:a}))||0===o)&&(n+=o),n+='<p class="c-product__subtitle  '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.productSub)===r?o.apply(t):o)+'">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.subtitle_content,{hash:{},inverse:d.program(5,(function(e,t){var s,a="";return a+=l(typeof(s=e&&e.subtitle)===r?s.apply(e):s),((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.rating,{hash:{},inverse:d.noop,fn:d.program(6,c,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.price,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.rating,e&&e.price,{hash:{},inverse:d.noop,fn:d.program(9,p,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.price,e&&e.price,{hash:{},inverse:d.noop,fn:d.program(11,u,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.price,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.brand,e&&e.price,e&&e.brand,{hash:{},inverse:d.noop,fn:d.program(9,p,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.rating,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.brand,e&&e.brand,{hash:{},inverse:d.noop,fn:d.program(9,p,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.brand,e&&e.brand,{hash:{},inverse:d.noop,fn:d.program(13,m,t),data:t}))||0===s)&&(a+=s),a}),a),fn:d.program(3,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.subtitle_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='</p></div><div class="c-product__body  c-product__body--sec"><div class="c-product__desc '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.productDesc)===r?o.apply(t):o)+'">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.description_content,{hash:{},inverse:d.program(17,(function(e,t){var s;return(s=i.ellipsis.call(e,e&&e.abstract,400,{hash:{},data:t}))||0===s?s:""}),a),fn:d.program(15,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.description_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.buy,{hash:{},inverse:d.noop,fn:d.program(19,(function(e,t){var s,a="";return a+='<div class="c-product__callout '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.productCallout)===r?s.apply(e):s)+'">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.buy,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div></div>"})),this.DDG.templates.spice_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="cw"><div class="zci__main  zci__main--detail"> <div class="zci__body">',((o=(i=this.merge(i,e.helpers)).include.call(t,t&&t.content,{hash:{},data:a}))||0===o)&&(n+=o),((o=i.moreAt.call(t,t&&t.source_url,t&&t.source_name,{hash:{className:"zci__more-at"},data:a}))||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.text_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l="function",d=this;function c(e,t){var i,s="";return s+='<h3 class="c-base__title">'+r(typeof(i=e&&e.title)===l?i.apply(e):i)+"</h3>"}function h(e,t){return"chomp js-ellipsis"}function p(e,t){var s,a="";return a+='<div class="c-base__content ',((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.chompContent,{hash:{},inverse:d.noop,fn:d.program(15,h,t),data:t}))||0===s)&&(a+=s),a+='">'+r(typeof(s=e&&e.description)===l?s.apply(e):s)+"</div>"}return n+='<div class="cw ',((o=i.if.call(t,t&&t.infoboxData,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"has-aux"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="zci__main  c-base"><div class="zci__body">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s="";return s+='<div class="c-base__img-wrap"><img class="c-base__img" src="'+r(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'"></div>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.title_content,{hash:{},inverse:d.program(7,(function(e,t){var s;return(s=i.if.call(e,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(8,c,t),data:t}))||0===s?s:""}),a),fn:d.program(5,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.title_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.subtitle_content,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.subtitle_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.subtitle,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var s,a="";return a+='<h4 class="c-base__sub">',((s=i.formatSubtitle.call(e,e&&e.subtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</h4>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.content,{hash:{},inverse:d.program(17,(function(e,t){var s;return(s=i.if.call(e,e&&e.description,{hash:{},inverse:d.noop,fn:d.program(18,p,t),data:t}))||0===s?s:""}),a),fn:d.program(14,(function(e,t){var s,a="";return a+='<div class="c-base__content ',((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.chompContent,{hash:{},inverse:d.noop,fn:d.program(15,h,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="c-base__links">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.chompContent,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var s;return(s=i.include.call(e,"chomp_link",{hash:{className:"c-base__link",sep:(s=e&&e.meta,s=null==s||!1===s?s:s.options,null==s||!1===s?s:s.moreAt)},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreAt,{hash:{},inverse:d.noop,fn:d.program(22,(function(e,t){var s;return(s=i.moreAt.call(e,e&&e.meta,"none",{hash:{className:"c-base__link"},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.moreText,{hash:{},inverse:d.noop,fn:d.program(24,(function(e,t){var s,a="";return a+='<span class="c-base__link--more  sep--before">',((s=i.formatSubtitle.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.moreText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.icon_chat=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" clip-path="url(#Ai-Chat-16_svg__a)"><path d="M4.25 8.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM8 8.5A1.25 1.25 0 1 0 8 6a1.25 1.25 0 0 0 0 2.5Zm5-1.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z"/><path fill-rule="evenodd" d="M1.814 15.932c2.656-.456 7.31-1.338 9.2-2.206C13.94 12.666 16 10.11 16 7.125 16 3.19 12.418 0 8 0S0 3.19 0 7.125c0 1.974.902 3.76 2.358 5.051.32.283.38.773.1 1.095l-1.294 1.492c-.441.51-.014 1.284.65 1.17Zm8.575-3.569.056-.026.058-.02c2.436-.884 3.997-2.943 3.997-5.192C14.5 4.177 11.758 1.5 8 1.5S1.5 4.177 1.5 7.125c0 1.498.68 2.89 1.853 3.928.806.714 1.085 2.01.39 3.007.85-.162 1.755-.345 2.632-.54 1.742-.388 3.231-.798 4.014-1.157Z" clip-rule="evenodd"/></g><defs><clipPath id="Ai-Chat-16_svg__a"><path fill="currentColor" d="M0 0h16v16H0z"/></clipPath></defs></svg>'})),this.DDG.templates.icon_images=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 7C5.32843 7 6 6.32843 6 5.5C6 4.67157 5.32843 4 4.5 4C3.67157 4 3 4.67157 3 5.5C3 6.32843 3.67157 7 4.5 7Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.25 1C1.45507 1 0 2.45507 0 4.25V11.75C0 13.5449 1.45507 15 3.25 15H12.75C14.5449 15 16 13.5449 16 11.75V10.2593C16.0001 10.2531 16.0001 10.2469 16 10.2407V4.25C16 2.45507 14.5449 1 12.75 1H3.25ZM14.5 8.43928V4.25C14.5 3.2835 13.7165 2.5 12.75 2.5H3.25C2.2835 2.5 1.5 3.2835 1.5 4.25V11.75C1.5 11.9563 1.5357 12.1543 1.60126 12.3381L5.96967 7.96967C6.26256 7.67678 6.73744 7.67678 7.03033 7.96967L8.00003 8.93937L10.9697 5.96967C11.2626 5.67678 11.7375 5.67678 12.0304 5.96967L14.5 8.43928ZM9.06069 10L10.0303 10.9697C10.3232 11.2626 10.3232 11.7374 10.0303 12.0303C9.73744 12.3232 9.26256 12.3232 8.96967 12.0303L6.5 9.56066L2.66192 13.3987C2.84572 13.4643 3.04369 13.5 3.25 13.5H12.75C13.7165 13.5 14.5 12.7165 14.5 11.75V10.5606L11.5001 7.56066L9.06069 10Z" fill="currentColor"/></svg>'})),this.DDG.templates.icon_loupe=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 1C2.68629 1 0 3.68629 0 7C0 10.3137 2.68629 13 6 13C7.64669 13 9.13845 12.3366 10.2226 11.2626L14.7873 14.8403C15.1133 15.0959 15.5848 15.0387 15.8403 14.7127C16.0958 14.3867 16.0387 13.9153 15.7126 13.6597L11.1487 10.0826C11.6892 9.18164 12 8.12711 12 7C12 3.68629 9.31371 1 6 1ZM1.5 7C1.5 4.51472 3.51472 2.5 6 2.5C8.48528 2.5 10.5 4.51472 10.5 7C10.5 9.48528 8.48528 11.5 6 11.5C3.51472 11.5 1.5 9.48528 1.5 7Z" fill="currentColor"/></svg>'})),this.DDG.templates.icon_maps=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8C9.10457 8 10 7.10457 10 6C10 4.89543 9.10457 4 8 4C6.89543 4 6 4.89543 6 6C6 7.10457 6.89543 8 8 8Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C6.81332 0 5.65328 0.351894 4.66658 1.01118C3.67989 1.67047 2.91085 2.60754 2.45673 3.7039C2.0026 4.80026 1.88378 6.00666 2.11529 7.17054C2.35179 8.35952 2.99591 9.39906 3.73051 10.2144C5.0603 11.6902 5.95884 13.0319 6.52237 13.9981C6.80408 14.4812 7.00183 14.87 7.1277 15.1343C7.19062 15.2665 7.23554 15.3675 7.26398 15.4334C7.27819 15.4664 7.28829 15.4907 7.29444 15.5057L7.30075 15.5212L7.30129 15.5226L7.30168 15.5236C7.41829 15.8212 7.71074 16.0123 8.03018 15.9994C8.34937 15.9865 8.62531 15.7729 8.71783 15.4673L8.71818 15.4662L8.72264 15.4522C8.72711 15.4384 8.73473 15.4154 8.74578 15.3837C8.76791 15.3202 8.80379 15.2219 8.85585 15.0927C8.95997 14.8342 9.12867 14.452 9.38109 13.9769C9.88586 13.0267 10.7253 11.7051 12.0529 10.2568C12.7338 9.51391 13.6375 8.41354 13.8847 7.17054C14.1162 6.00666 13.9974 4.80026 13.5433 3.7039C13.0892 2.60754 12.3201 1.67047 11.3334 1.01118C10.3467 0.351894 9.18669 0 8 0ZM8.05642 13.2731C8.01989 13.3419 7.98488 13.409 7.95134 13.4745C7.90893 13.3994 7.86453 13.322 7.81811 13.2425C7.20975 12.1993 6.25213 10.7721 4.84488 9.21027C4.23085 8.5288 3.75511 7.72573 3.58647 6.87791C3.41284 6.00499 3.50195 5.10019 3.84254 4.27792C4.18314 3.45566 4.75992 2.75285 5.49994 2.25839C6.23996 1.76392 7.10999 1.5 8 1.5C8.89002 1.5 9.76005 1.76392 10.5001 2.25839C11.2401 2.75285 11.8169 3.45566 12.1575 4.27793C12.4981 5.10019 12.5872 6.00499 12.4135 6.87791C12.2556 7.67171 11.6276 8.50093 10.9471 9.24321C9.52471 10.7949 8.61414 12.2233 8.05642 13.2731Z" fill="currentColor"/></svg>'})),this.DDG.templates.icon_news=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.25C3 7.83579 3.33579 7.5 3.75 7.5H8.25C8.66421 7.5 9 7.83579 9 8.25C9 8.66421 8.66421 9 8.25 9H3.75C3.33579 9 3 8.66421 3 8.25Z" fill="currentColor"/><path d="M3.75 10.5C3.33579 10.5 3 10.8358 3 11.25C3 11.6642 3.33579 12 3.75 12H8.25C8.66421 12 9 11.6642 9 11.25C9 10.8358 8.66421 10.5 8.25 10.5H3.75Z" fill="currentColor"/><path d="M3 4.75C3 4.33579 3.33579 4 3.75 4H5.25C5.66421 4 6 4.33579 6 4.75V5.25C6 5.66421 5.66421 6 5.25 6H3.75C3.33579 6 3 5.66421 3 5.25V4.75Z" fill="currentColor"/><path d="M7.75 4C7.33579 4 7 4.33579 7 4.75V5.25C7 5.66421 7.33579 6 7.75 6H8.25C8.66421 6 9 5.66421 9 5.25V4.75C9 4.33579 8.66421 4 8.25 4H7.75Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 3C0 1.89543 0.895431 1 2 1H10C11.1046 1 12 1.89543 12 3H14C15.1046 3 16 3.89543 16 5V12.25C16 13.7688 14.7688 15 13.25 15H3.25C1.45507 15 0 13.5449 0 11.75V3ZM10.7999 13.5H3.25C2.2835 13.5 1.5 12.7165 1.5 11.75V3C1.5 2.72386 1.72386 2.5 2 2.5H10C10.2761 2.5 10.5 2.72386 10.5 3V12.25C10.5 12.7001 10.6081 13.125 10.7999 13.5ZM12 4.5V12.25C12 12.9404 12.5596 13.5 13.25 13.5C13.9404 13.5 14.5 12.9404 14.5 12.25V5C14.5 4.72386 14.2761 4.5 14 4.5H12Z" fill="currentColor"/></svg>'})),this.DDG.templates.icon_shopping=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.74994 4.5V4.25C4.74994 3.8232 4.834 3.40059 4.99733 3.00628C5.16066 2.61197 5.40005 2.25369 5.70184 1.9519C6.00363 1.65011 6.36191 1.41072 6.75622 1.24739C7.15053 1.08406 7.57314 1 7.99994 1C8.42674 1 8.84935 1.08406 9.24366 1.24739C9.63797 1.41072 9.99625 1.65011 10.298 1.9519C10.5998 2.25369 10.8392 2.61197 11.0025 3.00628C11.1659 3.40059 11.2499 3.82321 11.2499 4.25V4.5H13.1311C14.1502 4.5 15.0064 5.26627 15.1189 6.27914L15.6869 11.3911C15.9008 13.3163 14.3938 15 12.4568 15H3.54311C1.60607 15 0.0990778 13.3163 0.312988 11.3911L0.880983 6.27914C0.993524 5.26627 1.84965 4.5 2.86875 4.5H4.74994ZM7.33024 2.63321C7.54256 2.54526 7.77013 2.5 7.99994 2.5C8.22975 2.5 8.45732 2.54527 8.66964 2.63321C8.88196 2.72116 9.07487 2.85006 9.23738 3.01256C9.39988 3.17507 9.52878 3.36799 9.61673 3.58031C9.70467 3.79262 9.74994 4.02019 9.74994 4.25V4.5H6.24994V4.25C6.24994 4.02019 6.2952 3.79262 6.38315 3.5803C6.4711 3.36798 6.6 3.17507 6.7625 3.01256C6.925 2.85006 7.11792 2.72116 7.33024 2.63321ZM4.74994 6V7.25C4.74994 7.66421 5.08573 8 5.49994 8C5.91415 8 6.24994 7.66421 6.24994 7.25V6H9.74994V7.25C9.74994 7.66421 10.0857 8 10.4999 8C10.9142 8 11.2499 7.66421 11.2499 7.25V6H13.1311C13.3859 6 13.6 6.19157 13.6281 6.44478L14.1961 11.5567C14.3113 12.5934 13.4998 13.5 12.4568 13.5H3.54311C2.50009 13.5 1.68863 12.5934 1.80381 11.5567L2.37181 6.44478C2.39994 6.19157 2.61398 6 2.86875 6H4.74994Z" fill="currentColor"/></svg>'})),this.DDG.templates.icon_videos=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.4887 5.55027C15.3801 6.63605 15.3801 9.36446 13.4887 10.4502L6.23148 14.6164C4.34816 15.6976 2 14.338 2 12.1664L2 3.83407C2 1.66248 4.34816 0.302917 6.23148 1.38408L13.4887 5.55027ZM12.7419 9.14937C13.629 8.64011 13.629 7.36041 12.7419 6.85115L5.48468 2.68496C4.60135 2.17787 3.5 2.81554 3.5 3.83407L3.5 12.1664C3.5 13.185 4.60135 13.8226 5.48468 13.3156L12.7419 9.14937Z" fill="currentColor"/></svg>'})),this.DDG.templates.base_item_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="detail__inner">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="detail__media detail__media--'+l(typeof(s=null==(s=e&&e.meta)||!1===s?s:s.id)===r?s.apply(e):s)+" "+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailMedia)===r?s.apply(e):s)+'"><img class="detail__media__img '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailImg)===r?s.apply(e):s)+'" src="'+l(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'" alt="'+l(typeof(s=e&&e.imageAlt)===r?s.apply(e):s)+'" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="detail__body detail__body--'+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+" "+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.detailBody)===r?o.apply(t):o)+'"><div class="detail__body__content">',o=i.if.call(t,t&&t.content,{hash:{},inverse:d.program(5,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s?s:""}),a),fn:d.program(3,(function(e,t){var i;return(i=typeof(i=e&&e.content)===r?i.apply(e):i)||0===i?i:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.images_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='style="width:'+l(typeof(i=null==(i=e&&e.detail)||!1===i?i:i.width)===r?i.apply(e):i)+";height:"+l(typeof(i=null==(i=e&&e.detail)||!1===i?i:i.height)===r?i.apply(e):i)+";top:"+l(typeof(i=null==(i=e&&e.detail)||!1===i?i:i.top)===r?i.apply(e):i)+';"'}return n+='<div class="detail__inner"><div class="detail__media  detail__media--images"><div class="detail__media__img-wrapper  js-image-detail-wrapper">',o=i.if.call(t,t&&t.linkImage,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+="<a ",((s=i.if.call(e,null==(s=e&&e.detail)||!1===s?s:s.width,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+=' href="'+l(typeof(s=e&&e.image)===r?s.apply(e):s)+'" class="detail__media__img-link  js-detail-img  js-image-detail-link" target="_blank">'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div style="width:'+l(typeof(o=null==(o=t&&t.detail)||!1===o?o:o.transBgWidth)===r?o.apply(t):o)+";height:"+l(typeof(o=null==(o=t&&t.detail)||!1===o?o:o.transBgHeight)===r?o.apply(t):o)+';" class="detail__media__img-bg  js-detail-img  js-detail-img-bg"></div><img src="'+l(i.imageProxy.call(t,t&&t.thumbnail,t&&t.imageProxyOps,{hash:{},data:a}))+'" ',((o=i.if.call(t,null==(o=t&&t.detail)||!1===o?o:o.width,{hash:{},inverse:d.noop,fn:d.program(2,c,a),data:a}))||0===o)&&(n+=o),n+=' class="detail__media__img-thumbnail  js-detail-img  js-detail-img-thumb" /><img ',((o=i.if.call(t,null==(o=t&&t.detail)||!1===o?o:o.width,{hash:{},inverse:d.noop,fn:d.program(2,c,a),data:a}))||0===o)&&(n+=o),n+=' alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="detail__media__img-highres  js-detail-img  js-detail-img-high" />',((o=i.if.call(t,t&&t.linkImage,{hash:{},inverse:d.noop,fn:d.program(4,(function(e,t){return"</a>"}),a),data:a}))||0===o)&&(n+=o),n+='</div></div><div class="detail__body  detail__body--images"><div class="c-detail  detail__body__content"><h5 class="c-detail__title"><a href="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</a></h5><div class="c-detail__desc">',o=i.if.call(t,t&&t.isMobile,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var s,a="";return a+='<a href="'+l(typeof(s=e&&e.image)===r?s.apply(e):s)+'" target="_blank" class="c-detail__btn c-detail__btn--right btn js-image-detail-link">',((s=i.l.call(e,"View File",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<p><a href="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'">'+l(i.domain.call(t,t&&t.url,{hash:{},data:a}))+'</a></p><div class="c-detail__filemeta">'+l(typeof(o=t&&t.width)===r?o.apply(t):o)+" &times; "+l(typeof(o=t&&t.height)===r?o.apply(t):o)+"</div>",o=i.if.call(t,t&&t.isMobile,{hash:{},inverse:d.program(8,(function(e,t){var s,a="";return a+='<a href="'+l(typeof(s=e&&e.image)===r?s.apply(e):s)+'" target="_blank" class="c-detail__btn c-detail__btn--bottom btn js-image-detail-link">',((s=i.l.call(e,"View File",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),fn:d.noop,data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div>"})),this.DDG.templates.media_item_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="detail__inner">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="detail__media '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailMedia)===r?s.apply(e):s)+'"><img class="detail__media__img '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailImg)===r?s.apply(e):s)+'" src="'+l(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'" alt="imageAlt" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="detail__body '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.detailBody)===r?o.apply(t):o)+'"><div class="c-detail detail__body__content"><h5 class="c-detail__title '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.detailTitle)===r?o.apply(t):o)+'">'+l(typeof(o=t&&t.title)===r?o.apply(t):o),o=i.if.call(t,t&&t.altSubtitle,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<span class="c-detail__title__sub '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailAltSubtitle)===r?s.apply(e):s)+'">',((s=i.formatSubtitle.call(e,e&&e.altSubtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</h5>",o=i.if.call(t,t&&t.subtitle,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var s,a="";return a+='<span class="c-detail__subtitle '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailSubtitle)===r?s.apply(e):s)+'">',((s=i.formatSubtitle.call(e,e&&e.subtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.description,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var s,a="";return a+='<div class="c-detail__desc '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailSnippet)===r?s.apply(e):s)+'">'+l(i.ellipsis.call(e,e&&e.description,null==(s=e&&e.meta)||!1===s?s:s.snippetChars,{hash:{fallback:155},data:t}))+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.callout,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s,a="";return a+='<div class="c-detail__callout '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.detailFoot)===r?s.apply(e):s)+'">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.callout,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.products_item_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l="function",d=this;return n+='<div class="detail__inner">',o=i.if.call(t,t&&t.img_m,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s="";return s+='<div class="detail__media  detail__media--pr"><img class="detail__media__img" src="'+r(i.imageProxy.call(e,e&&e.img_m,{hash:{},data:t}))+'" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="detail__body  detail__body--pr"><div class="c-detail  detail__body__content">',((o=i.formatTitle.call(t,t&&t.heading,{hash:{href:t&&t.url,el:"h5",className:"c-detail__title",ellipsis:120},data:a}))||0===o)&&(n+=o),n+='<p class="c-detail__subtitle">',o=i.and.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.price,t&&t.price,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<span class="c-detail__price  price  tx-clr--dk2">'+r(typeof(i=e&&e.price)===l?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),((o=i.and.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.price,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.brand,t&&t.price,t&&t.brand,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return'<span class="sep  c-detail__sep"></span>'}),a),data:a}))||0===o)&&(n+=o),o=i.and.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.brand,t&&t.brand,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var s,a="";return a+='<span class="c-detail__brand">',((s=i.lp.call(e,"made_by","by %s",e&&e.brand,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.subtitle_content,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.subtitle_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</p>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.rating,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var s,a="";return a+='<p class="c-detail__rating">',((s=i.starsAndReviews.call(e,e&&e.rating,e&&e.reviewCount,e&&e.url_review,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.hideReviewText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<p class="c-detail__desc  hide--screen-xs">',((o=typeof(o=t&&t.abstract)===l?o.apply(t):o)||0===o)&&(n+=o),n+="</p>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.buy,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.buy,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.qa_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function";return n+='<div class="detail__inner"><div class="detail__body  detail__body--qa"><div class="c-detail detail__body__content  detail__body__content--qa"><h4 class="c-detail__title  detail__title--qa"><a href="'+(0,this.escapeExpression)(typeof(o=t&&t.url)===r?o.apply(t):o)+'">',((o=typeof(o=t&&t.heading)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</a></h4><div class="chomp--scroll">',((o=typeof(o=t&&t.abstract)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</div><p class="c-detail__more">',((o=i.moreAt.call(t,t&&t.url,t&&t.source,{hash:{},data:a}))||0===o)&&(n+=o),n+="</p></div></div></div>"})),this.DDG.templates.videos_detail_duck_player=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="overlay  overlay--duck-player"><div class="overlay__wrap"><div class="overlay__content">',o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.embedURL,{hash:{},inverse:this.program(3,(function(e,t){var s,a="";return a+='<p class="overlay__text overlay--video-duck-player__text">',((s=i.l.call(e,"This video is not yet able to be watched here. You can watch it on %s.",e&&e.publisher,{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><a class="btn btn--wire overlay__btn overlay__btn--single js-video-third-party" href="#" title="',((s=i.l.call(e,"Watch on %s",e&&e.publisher,{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.l.call(e,"Watch on %s",e&&e.publisher,{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),fn:this.program(1,(function(e,t){var s,a="";return a+='<h3 class="overlay__title  detail__media__duck-player__header">',((s=i.l.call(e,"Choose How You Watch",{hash:{},data:t}))||0===s)&&(a+=s),a+='</h3><p class="overlay__text  overlay--duck-player__text">',((s=i.l.call(e,"Watch in Duck Player to block personalized ads on YouTube and prevent your viewing activity from influencing YouTube recommendations.",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><ul class="overlay__btn-list"><li class="overlay__btn-list__li"><a class="btn  btn--gray  overlay__btn  js-video-youtube" href="#" title="',((s=i.l.call(e,"Watch on YouTube",{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.l.call(e,"Watch on YouTube",{hash:{},data:t}))||0===s)&&(a+=s),a+='</a></li><li class="overlay__btn-list__li"><a class="btn  btn--blue  overlay__btn  js-video-duck-player" href="#" title="',((s=i.l.call(e,"Watch in Duck Player",{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.l.call(e,"Watch in Duck Player",{hash:{},data:t}))||0===s)&&(a+=s),a+='</a></li></ul><label class="overlay--duck-player__remember"><input type="checkbox" class="js-video-remember" type="checkbox" />',((s=i.l.call(e,"Remember my choice",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.videos_detail_embed=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<iframe class="proxy_video_frame detail__media__vid" width="100%" height="100%" src="/video_frame?url='+(0,this.escapeExpression)("function"==typeof(o=t&&t.embedURL)?o.apply(t):o)+'" frameborder="0" scrolling="no" allowfullscreen mozallowfullscreen webkitallowfullscreen></iframe>'})),this.DDG.templates.videos_detail_privacy=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="overlay  overlay--video-privacy"><div class="overlay__wrap"><div class="overlay__content">',o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.embedURL,{hash:{},inverse:this.program(3,(function(e,t){var s,a="";return a+='<p class="overlay__text overlay--video-privacy__text">',((s=i.l.call(e,"This video is not yet able to be watched here. You can watch it on %s.",e&&e.publisher,{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><a class="btn btn--wire overlay__btn overlay__btn--single js-video-privacy-third-party" href="#" title="',((s=i.l.call(e,"Watch on %s",e&&e.publisher,{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.l.call(e,"Watch on %s",e&&e.publisher,{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),fn:this.program(1,(function(e,t){var s,a="";return a+='<div class="overlay--video-privacy__icon"></div><h3 class="overlay__title  detail__media__privacy__header">',((s=i.l.call(e,"Choose How You Watch",{hash:{},data:t}))||0===s)&&(a+=s),a+='</h3><p class="overlay__text  overlay--video-privacy__text">',((s=i.l.call(e,"Watching a video here means the website where it is hosted can track you because we have to stream the content from there. DuckDuckGo is an independent company and has no relationship with YouTube, where most videos are hosted.",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><ul class="overlay__btn-list"><li class="overlay__btn-list__li"><a class="btn  btn--wire  overlay__btn  js-video-privacy-watch" href="#" title="',((s=i.l.call(e,"Watch Here",{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.l.call(e,"Watch Here",{hash:{},data:t}))||0===s)&&(a+=s),a+='</a></li><li class="overlay__btn-list__li"><a class="btn  btn--wire  overlay__btn  js-video-privacy-leave" href="#" title="',((s=i.l.call(e,"Watch on YouTube",{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.l.call(e,"Watch on YouTube",{hash:{},data:t}))||0===s)&&(a+=s),a+='</a></li></ul><label class="overlay--video-privacy__remember  js-video-privacy-remember-label"><input type="checkbox" class="js-video-privacy-remember" type="checkbox" checked="checked" />',((s=i.l.call(e,"Remember my choice (this can be changed in %s%s%sSettings%s)",'<a href="/settings#privacy" title="',null==(s=e&&e.answerMeta)||!1===s?s:s.settingsTitleText,'">',"</a>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.videos_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+="<a href='"+l(typeof(i=e&&e.userURL)===r?i.apply(e):i)+"'>"+l(typeof(i=e&&e.username)===r?i.apply(e):i)+"</a>"}function h(e,t){var i;return l(typeof(i=e&&e.username)===r?i.apply(e):i)}return n+='<div class="detail__inner"><div class="detail__media  detail__media--vid  js-video"><div class="detail__media__vid-wrap  js-video-media" style="background-image:url(\''+l(i.imageProxy.call(t,null==(o=t&&t.images)||!1===o?o:o.medium,t&&t.imageProxyOps,{hash:{},data:a}))+'\');"></div></div><div class="detail__body"><div class="c-detail  detail__body__content"><h5 class="c-detail__title"><a href=\''+l(typeof(o=t&&t.url)===r?o.apply(t):o)+"' title=\""+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</a></h5><div class="c-detail__desc">',o=i.if.call(t,t&&t.username,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<p class="c-detail__user"><i class="c-detail__icon  c-detail__user__icon">u</i>',((s=i.if.call(e,e&&e.userURL,{hash:{},inverse:d.program(4,h,t),fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.viewCount,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var i,s="";return s+='<p class="c-detail__count"><i class="c-detail__icon  c-detail__count__icon">i</i> '+l(typeof(i=e&&e.viewCount)===r?i.apply(e):i)+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.publishedDate,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i,s="";return s+='<p class="c-detail__date"><i class="c-detail__icon  c-detail__date__icon">&uArr;</i> '+l(typeof(i=e&&e.publishedDate)===r?i.apply(e):i)+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.musicVideo,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){var s,a="";return a+='<h6 class="c-detail__links--title">',((s=i.lp.call(e,"access_song","Get this song on:",{hash:{},data:t}))||0===s)&&(a+=s),a+='</h6><p class="c-detail__links"><a href=\'/?q='+l(typeof(s=null==(s=e&&e.musicVideo)||!1===s?s:s.spotifyURL)===r?s.apply(e):s)+"' class='btn c-detail__links__btn'>",((s=i.favicon.call(e,"spotify",{hash:{className:"btn__icon",w:"auto",h:"auto"},data:t}))||0===s)&&(a+=s),a+="Spotify</a><a href='/?q="+l(typeof(s=null==(s=e&&e.musicVideo)||!1===s?s:s.amazonURL)===r?s.apply(e):s)+"' class='btn c-detail__links__btn'>",((s=i.favicon.call(e,"amazon",{hash:{className:"btn__icon",w:"auto",h:"auto"},data:t}))||0===s)&&(a+=s),a+="Amazon</a><a style=\"display: none;\" href='' id=\"video-detail-itunes\" class='btn c-detail__links__btn' data-title='"+l(typeof(s=null==(s=e&&e.musicVideo)||!1===s?s:s.title)===r?s.apply(e):s)+"' data-artist='"+l(typeof(s=null==(s=e&&e.musicVideo)||!1===s?s:s.artist)===r?s.apply(e):s)+"' data-song='"+l(typeof(s=null==(s=e&&e.musicVideo)||!1===s?s:s.song)===r?s.apply(e):s)+"'>",((s=i.favicon.call(e,"apple",{hash:{className:"btn__icon",w:"auto",h:"auto"},data:t}))||0===s)&&(a+=s),a+="iTunes</a></p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.searchURL,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var s,a="";return a+='<p class="c-detail__more">',((s=i.moreAt.call(e,e&&e.searchURL,e&&e.provider,{hash:{className:"js-video-more-at",iconClassName:"c-detail__icon",iconUrl:e&&e.faviconURL},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.audio_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="tile  tile--c--n  tile--audio  tile--no-highlight ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"><div class="tile__media">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.program(7,(function(e,t){return'<div class="tile__media__no-artwork ddgsi">♫</div>'}),a),fn:d.program(5,(function(e,t){var s,a="";return a+='<img class="tile__media__img js-lazyload" src="" data-src="',((s=i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))||0===s)&&(a+=s),a+='" />'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="audio-controls"><div class="audio-controls__progress"><div class="audio-controls__progress-bg  full100"><span class="rotated-fill"></span><span class="full-fill"></span></div><div class="audio-controls__progress-loading"><span class="rotated-fill"></span><span class="full-fill"></span></div><div class="audio-controls__progress-playback"><span class="rotated-fill"></span><span class="full-fill"></span></div></div><span class="audio-controls__action  ddgsi">►</span><span class="audio-controls__time"></span></div></div><div class="tile__body"><h4 class="tile__title"><a href="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'" title="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'">'+l(i.ellipsis.call(t,t&&t.title,45,{hash:{},data:a}))+"</a></h4>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.footer,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s,a="";return a+='<div class="tile__footer">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.footer,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.base_expanding_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="tile  tile--e  tile--'+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+"  tile--no-highlight  tile--c--whole  ",o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='">',((o=i.include.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.content,{hash:{},data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.canExpand,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var i,s="";return s+='<span class="tile__expand-icon  ddgsi  '+l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tileExpand)===r?i.apply(e):i)+'"></span>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.base_flipping_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="tile  tile--f  tile--'+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+"  ",o=i.if.call(t,t&&t.elClass,{hash:{},inverse:this.program(3,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}),a),fn:this.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"><div class="tile--f__main '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileFront)===r?o.apply(t):o)+'">',((o=i.include.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.front_content,{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="tile--f__alt '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileBack)===r?o.apply(t):o)+'">',((o=i.include.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.back_content,{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.base_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}function h(e,t){return"tile--c"}return n+='<div class="tile  tile--b ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var s;return(s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tile,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+=" tile--"+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+'" ',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i,s="";return s+='data-link="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+='>  <div class="tile__body">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.tile_content,{hash:{},inverse:d.program(12,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.content,{hash:{},data:t}))||0===s?s:""}),a),fn:d.program(10,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.tile_content,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.basic_flipping_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t,s){var a;return(a=i.include.call(e,"tile_body",{hash:{meta:s&&s.meta,num:s&&s.num},data:t}))||0===a?a:""}return n+='<div class="tile  tile--f  tile--'+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+"  ",o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"><div class="tile--f__main '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileFront)===r?o.apply(t):o)+'">',((o=i.with.call(t,t&&t.data_front,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,c,a,t),data:a}))||0===o)&&(n+=o),n+='</div><div class="tile--f__alt '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileBack)===r?o.apply(t):o)+'">',((o=i.with.call(t,t&&t.data_back,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,c,a,t),data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.basic_image_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}function h(e,t){return"tile--c"}function p(e,t){var s;return(s=i.favicon.call(e,e&&e.url,{hash:{lazy:"1",className:"tile__favicon"},data:t}))||0===s?s:""}return n+='<div class="tile  tile--b--i ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var s;return(s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tile,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+=" has-detail  tile--"+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+'  opt--t-xxs" ',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i,s="";return s+=' data-link="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><div class="tile__media '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileMedia)===r?o.apply(t):o)+'"><img src="'+l(i.imageProxy.call(t,t&&t.image,t&&t.imageProxyOps,{hash:{},data:a}))+'" alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="tile__media__img '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileMediaImg)===r?o.apply(t):o)+'" /></div><div class="tile__body  tile__body--b-i '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileBody)===r?o.apply(t):o)+'"><h6 class="tile__title ',((o=i.if.call(t,t&&t.description,{hash:{},inverse:d.program(12,(function(e,t){return"tile__sub--2"}),a),fn:d.program(10,(function(e,t){return"tile__title--1 with-sub"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var i,s="";return s+='<a href="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'">'}),a),data:a}),(o||0===o)&&(n+=o),n+=l(i.ellipsis.call(t,t&&t.title,55,{hash:{},data:a})),((o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return"</a>"}),a),data:a}))||0===o)&&(n+=o),n+="</h6>",o=i.if.call(t,t&&t.description,{hash:{},inverse:d.noop,fn:d.program(18,(function(e,t){var s="";return s+='<p class="tile__sub--2  opt">'+l(i.ellipsis.call(e,e&&e.description,56,{hash:{},data:t}))+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile__tx  tile__rating  one-line ',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileRating,{hash:{},inverse:d.program(22,(function(e,t){return"tile__rating--right"}),a),fn:d.program(20,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tileRating)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.rating,{hash:{},inverse:d.noop,fn:d.program(24,(function(e,t){var s;return(s=i.starRating.call(e,e&&e.rating,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.ratingText,{hash:{},inverse:d.noop,fn:d.program(26,(function(e,t){var s,a="";return a+='<span class="tile__source  one-line">',((s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.source_favicon,{hash:{},inverse:d.noop,fn:d.program(27,p,t),data:t}))||0===s)&&(a+=s),a+=l(i.ellipsis.call(e,e&&e.ratingText,19,{hash:{},data:t}))+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.bing_products_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<span class="tile--pr__price">'+l(typeof(i=e&&e.low_price)===r?i.apply(e):i)+'</span><span class="tile--pr__original-price">'+l(typeof(i=e&&e.price)===r?i.apply(e):i)+"</span>"}function h(e,t){var i,s="";return s+='<span class="tile--pr__price">'+l(typeof(i=e&&e.price)===r?i.apply(e):i)+"</span>"}return n+='<div class="tile  tile--pr tile--c--w has-detail  tile--'+l(typeof(o=t&&t.parentId)===r?o.apply(t):o)+" ",((o=i.if.call(t,t&&t.showBrand,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"tile--has-brand"}),a),data:a}))||0===o)&&(n+=o),n+='" data-link="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'"><div class="tile__media  tile__media--pr"><img src="" data-src="',((o=i.imageProxy.call(t,t&&t.img,t&&t.imageProxyOps,{hash:{},data:a}))||0===o)&&(n+=o),n+='" alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="tile__media__img  js-lazyload js-product-image" />',o=i.if.call(t,t&&t.promotion,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<div class="tile__media__promotion-label"><svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.22774 0H6.23017C6.32354 0 6.40358 0.0400194 6.47028 0.0933786L12.8067 6.42979C12.9401 6.56318 12.9401 6.77662 12.8067 6.89668L7.80426 11.8991C7.67086 12.0325 7.45743 12.0325 7.33737 11.8991L1.00096 5.5627C0.934261 5.496 0.907581 5.41596 0.907581 5.32258V0.333495C0.894241 0.146738 1.04098 0 1.22774 0ZM1.56123 5.20252L7.56415 11.2054L12.0997 6.6699L6.09677 0.66699H1.56123V5.20252Z" fill="#666666"/><path d="M3.22901 3.33496C2.68207 3.33496 2.22852 2.8814 2.22852 2.33447C2.22852 1.78754 2.68207 1.33398 3.22901 1.33398C3.77594 1.33398 4.22949 1.78754 4.22949 2.33447C4.22949 2.8814 3.77594 3.33496 3.22901 3.33496ZM3.22901 2.00097C3.04225 2.00097 2.89551 2.14771 2.89551 2.33447C2.89551 2.52123 3.04225 2.66797 3.22901 2.66797C3.41576 2.66797 3.5625 2.52123 3.5625 2.33447C3.5625 2.14771 3.41576 2.00097 3.22901 2.00097Z" fill="#666666"/></svg> '+l(typeof(i=e&&e.promotion)===r?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=t&&t.extensions)||!1===o?o:o.free_shipping,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var i,s="";return s+='<span class="tile__media__free-shipping-label">'+l(typeof(i=null==(i=null==(i=e&&e.extensions)||!1===i?i:i.free_shipping)||!1===i?i:i.text)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="tile__body  tile__body--pr">',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.program(9,(function(e,t){var s;return(s=i.formatTitle.call(e,e&&e.heading,{hash:{el:"h6",className:"tile__title",classNameSec:"tile__title--pr",optSub:!0,ellipsis:100},data:t}))||0===s?s:""}),a),fn:d.program(7,(function(e,t){var s;return(s=i.formatTitle.call(e,e&&e.heading,{hash:{el:"h6",className:"tile__title",classNameSec:"tile__title--pr",href:"url",optSub:!0,ellipsis:100},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.rating,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var s,a="";return a+='<span class="tile--pr__rating tile__rating">',((s=i.starsAndReviews.call(e,e&&e.rating,e&&e.reviews,!1,!0,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile--pr__sub"><div class="tile--pr__pricing  price">',o=i.if.call(t,t&&t.installmentAmount,{hash:{},inverse:d.program(15,(function(e,t){var s;return(s=i.if.call(e,e&&e.low_price,{hash:{},inverse:d.program(18,h,t),fn:d.program(16,c,t),data:t}))||0===s?s:""}),a),fn:d.program(13,(function(e,t){var i,s="";return s+='<span class="tile--pr__price">'+l(typeof(i=e&&e.installmentAmount)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><a class="tile--pr__brand" href="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'">'+l(typeof(o=t&&t.brand)===r?o.apply(t):o)+"</a></div></div></div>"})),this.DDG.templates.categories_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="tile  tile--c  js-tile--'+l(i.firstLetter.call(t,t&&t.Text,{hash:{},data:a}))+'" data-link="'+l(typeof(o=t&&t.FirstURL)===r?o.apply(t):o)+'"><div class="tile__body">',o=i.if.call(t,null==(o=t&&t.Icon)||!1===o?o:o.URL,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<img class="tile__icon" src="'+l(typeof(i=null==(i=e&&e.Icon)||!1===i?i:i.URL)===r?i.apply(e):i)+'" />'}),a),data:a}),(o||0===o)&&(n+=o),((o=i.formatTitle.call(t,t&&t.Result,{hash:{el:"h4",className:"tile__title",href:"FirstURL",parseFirst:"true",ellipsis:100},data:a}))||0===o)&&(n+=o),n+='<div class="tile__content  tile__content--sm">',((o=i.ellipsis.call(t,t&&t.Result,95,{hash:{parseFirst:"true"},data:a}))||0===o)&&(n+=o),n+="</div> </div></div>"})),this.DDG.templates.images_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression;return o=i.unless.call(t,t&&t.n,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var s,a="";return a+='<div class="tile  tile--img  has-detail" style="width:'+r(typeof(s=e&&e.tileWidth)===n?s.apply(e):s)+'px;"><div class="tile--img__media"><span class="tile--img__media__i"><img class="tile--img__img  js-lazyload" src="" data-src="'+r(i.imageProxy.call(e,e&&e.thumbnail,e&&e.imageProxyOps,{hash:{},data:t}))+'" alt="'+r(typeof(s=e&&e.title)===n?s.apply(e):s)+'" /></span></div><div class="tile--img__details"><div class="tile--img__dimensions"><i class="tile--img__icon">+</i><em>'+r(typeof(s=e&&e.width)===n?s.apply(e):s)+" &times; "+r(typeof(s=e&&e.height)===n?s.apply(e):s)+'</em></div></div><a class="tile--img__sub" href="'+r(typeof(s=e&&e.url)===n?s.apply(e):s)+'"><span class="tile--img__title">'+r(typeof(s=e&&e.title)===n?s.apply(e):s)+'</span><span class="tile--img__domain" title="'+r(typeof(s=e&&e.url)===n?s.apply(e):s)+'">'+r(i.domain.call(e,e&&e.url,{hash:{},data:t}))+'</span></a><div class="tile--img__dimensions">'+r(typeof(s=e&&e.width)===n?s.apply(e):s)+" &times; "+r(typeof(s=e&&e.height)===n?s.apply(e):s)+"</div></div>"}),a),data:a}),o||0===o?o:""})),this.DDG.templates.meanings_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l="function",d=this;function c(e,t){var s,a="";return a+='data-type="'+r(i.stripNonAlpha.call(e,null==(s=e&&e.topic)||!1===s?s:s.id,{hash:{},data:t}))+'"'}return n+='<div class="tile  tile--c  ',o=i.if.call(t,t&&t.topic,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+="js-tile--"+r(i.trim.call(e,null==(s=e&&e.topic)||!1===s?s:s.id,{hash:{},data:t}))}),a),data:a}),(o||0===o)&&(n+=o),n+='" ',o=i.if.call(t,t&&t.topic,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='data-anchor="'+r(i.stripNonAlpha.call(e,null==(s=e&&e.topic)||!1===s?s:s.id,{hash:{},data:t}))+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+=' data-link="'+r(typeof(o=t&&t.FirstURL)===l?o.apply(t):o)+'"><div class="tile__body">',o=i.if.call(t,null==(o=t&&t.Icon)||!1===o?o:o.URL,{hash:{},inverse:d.program(7,(function(e,t){var s,a="";return a+='<span class="media__img--rev" ',((s=i.if.call(e,e&&e.topic,{hash:{},inverse:d.noop,fn:d.program(8,c,t),data:t}))||0===s)&&(a+=s),a+="></span>"}),a),fn:d.program(5,(function(e,t){var i,s="";return s+='<img class="tile__icon  js-lazyload" src="" data-src="'+r(typeof(i=null==(i=e&&e.Icon)||!1===i?i:i.URL)===l?i.apply(e):i)+'" />'}),a),data:a}),(o||0===o)&&(n+=o),((o=i.formatTitle.call(t,t&&t.Result,{hash:{el:"h4",className:"tile__title",href:"FirstURL",parseFirst:"true",ellipsis:100},data:a}))||0===o)&&(n+=o),n+='<div class="tile__content  tile__content--sm">',((o=i.ellipsis.call(t,t&&t.Result,95,{hash:{parseFirst:"true"},data:a}))||0===o)&&(n+=o),n+="</div> </div></div>"})),this.DDG.templates.media_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}function h(e,t){return"tile--c"}return n+='<div class="tile ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var s;return(s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tile,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+=" tile--"+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+'" ',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i,s="";return s+='data-link="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><div class="tile__media '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileMedia)===r?o.apply(t):o)+'"><img src="'+l(i.imageProxy.call(t,t&&t.image,{hash:{},data:a}))+'" alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="tile__media__img" /></div><div class="tile__body ',((o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.footer,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){return"has-foot"}),a),data:a}))||0===o)&&(n+=o),n+=" "+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileBody)===r?o.apply(t):o)+'">',((o=i.include.call(t,"tile_titles",{hash:{},data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.description,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var s;return(s=i.include.call(e,"tile_snippet",{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.footer,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var s,a="";return a+='<div class="tile__foot '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tileFoot)===r?s.apply(e):s)+'">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.footer,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.dateBadge,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var s;return(s=i.include.call(e,"date_badge",{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.nlp_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function";return n+='<div class="tile  tile--c  tile--qa  has-detail" data-link="'+(0,this.escapeExpression)(typeof(o=t&&t.url)===r?o.apply(t):o)+'"><div class="tile__body  has-foot"><h6 class="tile__title  tile__title--3sm  tile__title--min">',((o=typeof(o=t&&t.heading)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</h6><div class="tile__content  tile__content--qa  js-ellipsis  hide--mob">',((o=typeof(o=t&&t.abstract)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</div><div class="tile__foot">',((o=i.moreAt.call(t,t&&t.url,t&&t.source,{hash:{className:"tile__more-link"},data:a}))||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.places_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s;return(s=i.starRating.call(e,e&&e.rating,{hash:{},data:t}))||0===s?s:""}function h(e,t){var s;return(s=i.reviewCount.call(e,e&&e.reviews,"",!0,{hash:{},data:t}))||0===s?s:""}function p(e,t){var s,a="";return a+='<a href="tel:'+l(typeof(s=e&&e.phone)===r?s.apply(e):s)+'" class="tile__segment tile__call js-tel-link"><div class="tile__segment__title">',((s=i.lp.call(e,"maps_places","Call",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><div class="tile__phone">'+l(typeof(s=e&&e.phone)===r?s.apply(e):s)+"</div></a>"}function u(e,t){var s,a="";return a+='<div class="tile__segment"><div class="tile__segment__title">',((s=i.lp.call(e,"maps_places","Phone Number",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><a href="tel:'+l(typeof(s=e&&e.phone)===r?s.apply(e):s)+'" class="tile__phone js-tel-link">'+l(typeof(s=e&&e.phone)===r?s.apply(e):s)+"</a></div>"}return n+='<div class="tile  tile--f  tile--loc ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"><div class="tile--f__main  tile--loc__main"><div class="tile__media">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.program(7,(function(e,t){return'<span class="ddgsi tile__media__no-img">@</span>'}),a),fn:d.program(5,(function(e,t){var s,a="";return a+='<div class="tile__media__wrapper"><img src="" data-src="'+l(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'" alt="'+l(typeof(s=e&&e.title)===r?s.apply(e):s)+'" class="tile__media__img  js-lazyload" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="tile__num">'+l(typeof(o=t&&t.num)===r?o.apply(t):o)+'</div><div class="tile__body"><h6 class="tile__title">'+l(i.ellipsis.call(t,t&&t.name,33,{hash:{},data:a}))+"</h6>",o=i.if.call(t,t&&t.neighborhoodOrCity,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var i,s="";return s+='<span class="tile__neighborhood">'+l(typeof(i=e&&e.neighborhoodOrCity)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile__foot  tile__rating  one-line">',o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.item_footer,{hash:{},inverse:d.program(13,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.rating,{hash:{},inverse:d.noop,fn:d.program(14,c,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.reviews,{hash:{},inverse:d.noop,fn:d.program(16,h,t),data:t}))||0===s)&&(a+=s),a}),a),fn:d.program(11,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.item_footer,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='</div></div></div><div class="tile--f__alt  tile--loc__alt"><div class="tile__body  ',((o=i.and.call(t,t&&t.url,null==(o=t&&t.meta)||!1===o?o:o.sourceName,{hash:{},inverse:d.noop,fn:d.program(18,(function(e,t){return"has-foot"}),a),data:a}))||0===o)&&(n+=o),n+=' has-segments"><div class="tile__segment"><h6 class="tile__title"><a href="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'" title="'+l(typeof(o=t&&t.name)===r?o.apply(t):o)+'">'+l(i.ellipsis.call(t,t&&t.name,33,{hash:{},data:a}))+"</a></h6>",o=i.if.call(t,t&&t.price,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var s,a="";return a+='<span class="tile__price">',((s=i.priceSymbols.call(e,e&&e.price,4,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.phone,{hash:{},inverse:d.noop,fn:d.program(22,(function(e,t){var s;return(s=i.if.call(e,e&&e.canMakePhoneCalls,{hash:{},inverse:d.program(25,u,t),fn:d.program(23,p,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.address,{hash:{},inverse:d.noop,fn:d.program(27,(function(e,t){var s,a="";return a+='<div class="tile__segment tile__directions js-directions-container"><a class="tile__directions__link tile__segment__title js-directions-link" href="'+l(typeof(s=e&&e.directions)===r?s.apply(e):s)+'">',((s=i.lp.call(e,"maps_places","Directions",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.and.call(t,t&&t.url,null==(o=t&&t.meta)||!1===o?o:o.sourceName,{hash:{},inverse:d.noop,fn:d.program(29,(function(e,t){var s,a="";return a+='<div class="tile__foot">',((s=i.moreAt.call(e,e&&e.url,null==(s=e&&e.meta)||!1===s?s:s.sourceName,{hash:{dynamicMoreAtText:5,className:"tile--loc__more",iconClassName:"tile--loc__more__icon",iconPlaceholder:"true"},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.products_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}function h(e,t){return"tile--c"}return n+='<div class="tile  tile--pr ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var s;return(s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tile,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+=" has-detail  tile--"+l(typeof(o=t&&t.parentId)===r?o.apply(t):o)+" ",((o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.rating,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return" has-rating"}),a),data:a}))||0===o)&&(n+=o),n+=' opt--t-xxs" data-link="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'"><div class="tile__media  tile__media--pr"><img src="" data-src="',((o=i.imageProxy.call(t,t&&t.img,{hash:{},data:a}))||0===o)&&(n+=o),n+='" alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="tile__media__img  js-lazyload" />',o=i.and.call(t,t&&t.showBadge,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.badge,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.badge,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="tile__body  tile__body--pr">',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.program(14,(function(e,t){var s;return(s=i.formatTitle.call(e,e&&e.heading,{hash:{el:"h6",className:"tile__title",classNameSec:"tile__title--pr",optSub:!0,ellipsis:100},data:t}))||0===s?s:""}),a),fn:d.program(12,(function(e,t){var s;return(s=i.formatTitle.call(e,e&&e.heading,{hash:{el:"h6",className:"tile__title",classNameSec:"tile__title--pr",href:"url",optSub:!0,ellipsis:100},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile__tx  tile--pr__sub  one-line">',o=i.and.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.price,t&&t.price,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var i,s="";return s+='<span class="tile--pr__price  price">'+l(typeof(i=e&&e.price)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),((o=i.and.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.price,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.brand,t&&t.price,t&&t.brand,{hash:{},inverse:d.noop,fn:d.program(18,(function(e,t){return'<span class="sep  tile__sep"></span>'}),a),data:a}))||0===o)&&(n+=o),o=i.and.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.brand,t&&t.brand,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var s,a="";return a+='<span class="tile--pr__brand">',((s=i.lp.call(e,"made_by","by %s",e&&e.brand,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.rating,{hash:{},inverse:d.noop,fn:d.program(22,(function(e,t){var s,a="";return a+='<div class="tile__tx  tile__rating  one-line">',((s=i.starsAndReviews.call(e,e&&e.rating,e&&e.reviewCount,e&&e.url_review,!0,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.text_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}function h(e,t){return"tile--c"}return n+='<div class="tile ',o=i.if.call(t,t&&t.elClass,{hash:{},inverse:d.program(3,(function(e,t){var s;return(s=i.if.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tile,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),fn:d.program(1,(function(e,t){var i;return l(typeof(i=e&&e.elClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+=" tile--"+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===r?o.apply(t):o)+'" ',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i,s="";return s+='data-link="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><div class="tile__body ',((o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.footer,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){return"has-foot"}),a),data:a}))||0===o)&&(n+=o),n+=" "+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileBody)===r?o.apply(t):o)+'">',((o=i.include.call(t,"tile_titles",{hash:{},data:a}))||0===o)&&(n+=o),n+='<div class="tile__content '+l(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileSnippet)===r?o.apply(t):o)+'">'+l(i.ellipsis.call(t,t&&t.description,null==(o=t&&t.meta)||!1===o?o:o.snippetChars,{hash:{fallback:100},data:a}))+"</div>",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.footer,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var s,a="";return a+='<div class="tile__foot '+l(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tileFoot)===r?s.apply(e):s)+'">',((s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.footer,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.dateBadge,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var s;return(s=i.include.call(e,"date_badge",{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.tiles_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="tile  tile--s ',o=i.if.call(t,t&&t.spice_name,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+="spice_"+l(typeof(i=e&&e.spice_name)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.subcontent,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return(i=typeof(i=e&&e.subcontent)===r?i.apply(e):i)||0===i?i:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.tiles_load_more=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="tile  tile--m  tile--m--'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+"  ",o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tile,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i;return l(typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tile)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"><div class="tile__body  hide--mob"><i class="tile--m__icon  tile--m__icon--l">+</i><span class="tile--m__subtitle">',((o=i.lp.call(t,"additional","More",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span></div><span class="tile--m--mob">',((o=i.lp.call(t,"expand_text","Show More",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span>",((o=i.loader.call(t,{hash:{},data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.videos_item_bing=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="tile  tile--c--w  tile--vid  has-detail  opt--t-xxs" ',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='data-link="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><div class="tile__media"><img src="" data-src="'+l(i.imageProxy.call(t,null==(o=t&&t.images)||!1===o?o:o.medium,{hash:{},data:a}))+'" alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="tile__media__img  js-lazyload" /><div class="image-labels">',o=i.if.call(t,t&&t.labelIcon,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<span class="image-labels__label ddgsi ddgsi-'+l(typeof(i=e&&e.labelIcon)===r?i.apply(e):i)+'"></span>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.duration,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var i,s="";return s+='<span class="image-labels__label">'+l(typeof(i=e&&e.duration)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div></div><div class="tile__body"><h6 class="tile__title  tile__title--2">',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var i,s="";return s+='<a href="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'">'}),a),data:a}),(o||0===o)&&(n+=o),n+=l(i.ellipsis.call(t,t&&t.title,55,{hash:{},data:a})),((o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){return"</a>"}),a),data:a}))||0===o)&&(n+=o),n+='</h6><div class="tile__stats one-line t-m">',((o=typeof(o=t&&t.viewCount)===r?o.apply(t):o)||0===o)&&(n+=o),n+='<span class="hide--screen-xs">',((o=i.and.call(t,t&&t.viewCount,t&&t.publishedDate,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){return"&bullet;"}),a),data:a}))||0===o)&&(n+=o),n+=l(typeof(o=t&&t.publishedDate)===r?o.apply(t):o)+'</span></div><div class="t-m">',((o=i.favicon.call(t,t&&t.url,{hash:{lazy:"1",className:"tile__favicon"},data:a}))||0===o)&&(n+=o),n+=l(i.ellipsis.call(t,t&&t.provider,25,{hash:{},data:a}))+"</div></div></div>"})),this.DDG.templates.videos_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="tile  tile--c--w  tile--vid  has-detail  opt--t-xxs" ',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='data-link="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><div class="tile__media"><img src="" data-src="'+l(i.imageProxy.call(t,null==(o=t&&t.images)||!1===o?o:o.medium,t&&t.imageProxyOps,{hash:{},data:a}))+'" alt="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="tile__media__img  js-lazyload" /><div class="image-labels"><span class="image-labels__label">'+l(typeof(o=t&&t.duration)===r?o.apply(t):o)+'</span></div></div><div class="tile__body"><h6 class="tile__title  tile__title--2">',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<a href="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'">'}),a),data:a}),(o||0===o)&&(n+=o),n+=l(i.ellipsis.call(t,t&&t.title,55,{hash:{},data:a})),((o=i.if.call(t,t&&t.url,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return"</a>"}),a),data:a}))||0===o)&&(n+=o),n+='</h6><div class="tile__body__footer"><span>',((o=i.favicon.call(t,t&&t.url,{hash:{lazy:"1",className:"tile__favicon"},data:a}))||0===o)&&(n+=o),n+='<span class="video-source">'+l(typeof(o=t&&t.provider)===r?o.apply(t):o)+'</span></span><span class="tile__count">',((o=typeof(o=t&&t.viewCount)===r?o.apply(t):o)||0===o)&&(n+=o),n+="</span></div></div></div>"})),this.DDG.templates.attribution_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s;return(s=i.if.call(e,e&&e.show,{hash:{},inverse:d.noop,fn:d.program(3,h,t),data:t}))||0===s?s:""}function h(e,t){var s,a="";return a+='<div class="tx-clr--slate-light">',((s=i.lp.call(e,"attribution","Developer",{hash:{},data:t}))||0===s)&&(a+=s),a+=': <a href="'+l(typeof(s=e&&e.url)===r?s.apply(e):s)+'" class="tx-clr--slate">'+l(typeof(s=e&&e.name)===r?s.apply(e):s)+"</a></div>"}return n+='<div class="modal  modal--popout  modal--popout--'+l(typeof(o=t&&t.direction)===r?o.apply(t):o)+'  modal--popout--lg"><div class="modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box"><div class="modal__body"><div class="attribution"><p class="tx-clr--slate">',((o=i.lp.call(t,"attribution","This Instant Answer was made by the %sDuckDuckHack%s Community.","","",{hash:{},data:a}))||0===o)&&(n+=o),n+="</p>",o=i.if.call(t,t&&t.devs,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<hr class="attribution__hr"/>',((s=i.each.call(e,e&&e.devs,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div></div>"})),this.DDG.templates.attribution=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<span class="modal-trig  '+(0,this.escapeExpression)("function"==typeof(o=t&&t.className)?o.apply(t):o)+'  hide--screen-s  hide--mob"><a class="attribution--link  js-attribution-link"><span class="attribution--link__icon  ddgsi">I</span></a></span>'})),this.DDG.templates.chomp_link=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<a class="'+(0,this.escapeExpression)("function"==typeof(o=t&&t.className)?o.apply(t):o)+"  chomp--link  js-chomp-link  ",((o=i.if.call(t,t&&t.sep,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"sep--after"}),a),data:a}))||0===o)&&(n+=o),n+='"><i class="chomp--link__icn"></i><span class="chomp--link__mr">',((o=i.lp.call(t,"expand_text","Show More",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span><span class="chomp--link__ls">',((o=i.lp.call(t,"expand_text","Show Less",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></a>"})),this.DDG.templates.date_badge=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression,l=this;function d(e,t){var i,s="";return s+='<span class="date-badge__text">'+r(typeof(i=e&&e.text)===n?i.apply(e):i)+"</span>"}function c(e,t){var i,s="";return s+='<span class="date-badge__month">'+r(typeof(i=e&&e.month)===n?i.apply(e):i)+'</span><span class="date-badge__day">'+r(typeof(i=e&&e.day)===n?i.apply(e):i)+"</span>"}return o=i.with.call(t,t&&t.dateBadge,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var s,a="";return a+='<div class="date-badge">',((s=i.if.call(e,e&&e.text,{hash:{},inverse:l.program(4,c,t),fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),o||0===o?o:""})),this.DDG.templates.infobox=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<h6 class="info  info--head">'+l(typeof(i=e&&e.heading)===r?i.apply(e):i)+"</h6>"}function h(e,t){var s,a="";return a+='<div class="info  one-line">',((s=i.if.call(e,e&&e.label,{hash:{},inverse:d.program(11,f,t),fn:d.program(5,p,t),data:t}))||0===s)&&(a+=s),a+=" </div>"}function p(e,t){var s,a="";return a+='<a class="tile--info__link" href="'+l(i.makeRelative.call(e,e&&e.url,{hash:{},data:t}))+'"><span class="info__label">'+l(typeof(s=e&&e.label)===r?s.apply(e):s)+'</span><span class="info__value">',((s=i.if.call(e,null==(s=e&&e.value)||!1===s?s:s.content,{hash:{},inverse:d.program(9,_,t),fn:d.program(6,u,t),data:t}))||0===s)&&(a+=s),a+="</span></a>"}function u(e,t){var s;return(s=i.each.call(e,null==(s=e&&e.value)||!1===s?s:s.content,{hash:{},inverse:d.noop,fn:d.program(7,m,t),data:t}))||0===s?s:""}function m(e,t){var i,s="";return s+='<span class="info__value__nested"><span class="info__value__nested__label">'+l(typeof(i=e&&e.label)===r?i.apply(e):i)+":</span> "+l(typeof(i=e&&e.value)===r?i.apply(e):i)+"</span>"}function _(e,t){var i;return l(typeof(i=e&&e.value)===r?i.apply(e):i)}function f(e,t){var s,a="";return a+='<a class="tile--info__link" href="'+l(i.makeRelative.call(e,e&&e.url,{hash:{},data:t}))+'">',((s=typeof(s=e&&e.urlTitle)===r?s.apply(e):s)||0===s)&&(a+=s),a+="</a>"}function g(e,t){var s;return(s=i.if.call(e,e&&e.label,{hash:{},inverse:d.noop,fn:d.program(14,v,t),data:t}))||0===s?s:""}function v(e,t){var s,a="";return a+='<div class="info"><span class="info__label">'+l(typeof(s=e&&e.label)===r?s.apply(e):s)+'</span><span class="info__value">',((s=i.if.call(e,null==(s=e&&e.value)||!1===s?s:s.content,{hash:{},inverse:d.program(9,_,t),fn:d.program(6,u,t),data:t}))||0===s)&&(a+=s),a+="</span></div>"}return n+='<div class="zci__aux"><div class="tile  tile--info  js-infobox-tile">',o=i.each.call(t,t&&t.data,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.heading,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.url,{hash:{},inverse:d.program(13,g,t),fn:d.program(4,h,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="tile__expand  tile--info__expand  is-hidden  js-tile-expand"></div></div></div>'})),this.DDG.templates.more_at_text=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression,l=this;function d(e,t){var i,s="";return s+='<img class="zci__more-at__logo" src="'+r(typeof(i=e&&e.url)===n?i.apply(e):i)+'" width="'+r(typeof(i=e&&e.width)===n?i.apply(e):i)+'" height="'+r(typeof(i=e&&e.height)===n?i.apply(e):i)+'" />'}return o=i.unless.call(t,t&&t.sourceLogo,{hash:{},inverse:l.program(3,(function(e,t){var s;return(s=i.with.call(e,e&&e.sourceLogo,{hash:{},inverse:l.noop,fn:l.program(4,d,t),data:t}))||0===s?s:""}),a),fn:l.program(1,(function(e,t){var i;return r(typeof(i=e&&e.sourceName)===n?i.apply(e):i)}),a),data:a}),o||0===o?o:""})),this.DDG.templates.more_at=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<a href="'+l(typeof(o=t&&t.sourceUrl)===r?o.apply(t):o)+'" class="'+l(typeof(o=t&&t.className)===r?o.apply(t):o)+'">',o=i.if.call(t,t&&t.sourceIcon,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s;return(s=i.favicon.call(e,e&&e.sourceUrl,{hash:{className:e&&e.iconClassName},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.sourceIconUrl,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<img class="'+l(typeof(s=e&&e.iconClassName)===r?s.apply(e):s)+'" src="'+l(i.imageProxy.call(e,e&&e.sourceIconUrl,{hash:{},data:t}))+'" />'}),a),data:a}),(o||0===o)&&(n+=o),((o=typeof(o=t&&t.moreAtText)===r?o.apply(t):o)||0===o)&&(n+=o),n+="</a>"})),this.DDG.templates.no_ia_results=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<div class="zci__no-results  t-s--screen-xs"><span class="zci__no-results__txt">',o=i.if.call(t,t&&t.message,{hash:{},inverse:this.program(3,(function(e,t){var s;return(s=i.l.call(e,"Sorry, no results here.",{hash:{},data:t}))||0===s?s:""}),a),fn:this.program(1,(function(e,t){var i;return r("function"==typeof(i=e&&e.message)?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+="</span></div>"})),this.DDG.templates.places_detail_rating_foursquare=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<span class="tile__rating__foursquare  '+l(typeof(o=t&&t.ratingClass)===r?o.apply(t):o)+'  badge--txt">'+l(typeof(o=t&&t.rating)===r?o.apply(t):o)+"</span>",o=i.if.call(t,t&&t.reviews,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<a class="review-count review-count--foursquare" href="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'"><span class="review-count__icon  ddgsi">O</span>'+l(typeof(i=e&&e.reviews)===r?i.apply(e):i)+"</a>"}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.places_detail_rating_yelp=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<img src="'+(0,this.escapeExpression)(i.imageProxy.call(t,t&&t.ratingImageURL,{hash:{},data:a}))+'" class="tile__rating__yelp-stars" />',o=i.if.call(t,t&&t.reviews,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var s;return(s=i.reviewCount.call(e,e&&e.reviews,e&&e.url,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.places_item_footer_foursquare=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<span class="tile__rating__foursquare  '+l(typeof(o=t&&t.ratingClass)===r?o.apply(t):o)+'  badge--txt">'+l(typeof(o=t&&t.rating)===r?o.apply(t):o)+"</span>",o=i.if.call(t,t&&t.reviews,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<span class="review-count review-count--foursquare"><span class="review-count__icon  ddgsi">O</span>'+l(typeof(i=e&&e.reviews)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.places_item_footer_yelp=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<img src="'+(0,this.escapeExpression)(i.imageProxy.call(t,t&&t.ratingImageURL,{hash:{},data:a}))+'" class="tile__rating__yelp-stars" />',o=i.if.call(t,t&&t.reviews,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var s;return(s=i.reviewCount.call(e,e&&e.reviews,"",!0,{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.play_button=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<button title="Play pronunciation audio" class="play-btn js-play-btn is-hidden" data-url="'+(0,this.escapeExpression)("function"==typeof(o=t&&t.url)?o.apply(t):o)+'"><span class="play-btn__icn ddgsi js-play-btn-icn"><svg class="play-btn__icn_hollow" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.653.787C7.519-.08 9 .534 9 1.759V14.24c0 1.225-1.481 1.839-2.347.972L3.439 12H2a2 2 0 01-2-2V6a2 2 0 012-2h1.44L6.652.787zM7.5 2.06L4.28 5.28a.75.75 0 01-.53.219H2a.5.5 0 00-.5.5v4a.5.5 0 00.5.5h1.75a.75.75 0 01.53.22l3.22 3.22V2.06z"/><path d="M10.18 4.276a.75.75 0 011.058-.086 5 5 0 01.005 7.616.75.75 0 01-.973-1.142 3.5 3.5 0 00-.004-5.331.75.75 0 01-.086-1.057z"/><path d="M13.258 1.971a.75.75 0 00-.985 1.13 6.5 6.5 0 01-.005 9.801.75.75 0 10.986 1.131 7.998 7.998 0 00.005-12.062z"/></svg><svg class="play-btn__icn_filled" width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.653.787C7.519-.08 9 .534 9 1.759V14.24c0 1.225-1.481 1.839-2.347.972L3.439 12H2a2 2 0 01-2-2V6a2 2 0 012-2h1.44L6.652.787z"/><path d="M10.18 4.276a.75.75 0 011.058-.086 5 5 0 01.005 7.616.75.75 0 01-.973-1.142 3.5 3.5 0 00-.004-5.331.75.75 0 01-.086-1.057z"/><path d="M13.258 1.971a.75.75 0 00-.985 1.13 6.5 6.5 0 01-.005 9.801.75.75 0 10.986 1.131 7.998 7.998 0 00.005-12.062z"/></svg></span></button>'})),this.DDG.templates.products_amazon_badge=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<span class="tile--pr__badge  badge  badge--prime"></span>'})),this.DDG.templates.products_amazon_buy=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='    <span class="detail__callout--pr"><a href="'+l(typeof(o=t&&t.url)===r?o.apply(t):o)+'" class="btn btn--primary">',((o=i.l.call(t,"More at",{hash:{},data:a}))||0===o)&&(n+=o),n+=" "+l(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.sourceName)===r?o.apply(t):o)+"</a></span>"})),this.DDG.templates.record=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l=this.escapeExpression;function d(e,t){return"record__row--highlight"}return n+='<div class="record  ',((o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.keySpacing,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"record--keyspacing"}),a),data:a}))||0===o)&&(n+=o),n+="  ",((o=i.if.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.options)||!1===o?o:o.rowHighlight,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return"record--highlight"}),a),data:a}))||0===o)&&(n+=o),n+='"><table class="record__body">',o=i["table-each"].call(t,t,{hash:{},inverse:r.noop,fn:r.programWithDepth(5,(function(e,t,s){var a,o="";return o+='<tr class="record__row  ',((a=i.if.call(e,null==(a=null==(a=s&&s.meta)||!1===a?a:a.options)||!1===a?a:a.rowHighlight,{hash:{},inverse:r.noop,fn:r.program(6,d,t),data:t}))||0===a)&&(o+=a),o+='"><td class="record__cell  record__cell--key">'+l("function"==typeof(a=e&&e.key)?a.apply(e):a)+'</td><td class="record__cell  record__cell--value">'+l(i.ellipsis.call(e,e&&e.value,350,{hash:{},data:t}))+"</td></tr>"}),a,t),data:a}),(o||0===o)&&(n+=o),n+="</table></div>"})),this.DDG.templates.sports_score=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<div class="c-score__item  c-score__item--'+l(typeof(i=e&&e.type)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.number)===r?i.apply(e):i)+"</div>"}function h(e,t){return'<div class="c-score__head__total">Total</div>'}function p(e,t){var s,a="";return a+='<div class="c-score__team"><div class="c-score__team__logo">',((s=i.if.call(e,e&&e.image,{hash:{},inverse:d.program(13,m,t),fn:d.program(11,u,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="c-score__team__name"><span class="c-score__team__market">'+l(typeof(s=e&&e.location)===r?s.apply(e):s)+'</span><span class="c-score__team__nick">'+l(typeof(s=e&&e.name)===r?s.apply(e):s)+"</span></div></div>"}function u(e,t){var i,s="";return s+='<img class="c-score__team__img" src="'+l(typeof(i=e&&e.image)===r?i.apply(e):i)+'">'}function m(e,t){return'<span class="c-score__team__logo__ph">u</span>'}function _(e,t){var i,s="";return s+='<div class="c-score__item  c-score__item--'+l(typeof(i=e&&e.type)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.points)===r?i.apply(e):i)+"</div>"}function f(e,t){var i,s="";return s+='<div class="c-score__line__total">'+l(typeof(i=e&&e.away_total)===r?i.apply(e):i)+"</div>"}function g(e,t){var i,s="";return s+='<div class="c-score__line__total">'+l(typeof(i=e&&e.home_total)===r?i.apply(e):i)+"</div>"}return n+='<div class="c-score"><div class="c-score__head"><div class="c-score__head__date">',o=i.if.call(t,t&&t.clock,{hash:{},inverse:d.program(3,(function(e,t){return l(i.momentDate.call(e,e&&e.start_time,{hash:{},data:t}))}),a),fn:d.program(1,(function(e,t){var i,s="";return s+='<span class="c-score__clock"><span class="c-score__clock__icon ddgsi-clock"></span>'+l(typeof(i=e&&e.clock)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.score,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var s,a="";return((s=i.each.call(e,null==(s=null==(s=e&&e.score)||!1===s?s:s.away)||!1===s?s:s.sequence,{hash:{},inverse:d.noop,fn:d.program(6,c,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.current_count,{hash:{},inverse:d.noop,fn:d.program(8,h,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="c-score__line  c-score__line--vs1"><div class="c-score__line__name">',((o=i.with.call(t,t&&t.away_team,{hash:{},inverse:d.noop,fn:d.program(10,p,a),data:a}))||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.score,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,a="";return((s=i.each.call(e,null==(s=null==(s=e&&e.score)||!1===s?s:s.away)||!1===s?s:s.sequence,{hash:{},inverse:d.noop,fn:d.program(16,_,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.current_count,{hash:{},inverse:d.noop,fn:d.program(18,f,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="c-score__line  c-score__line--vs2" data-vs="@"><div class="c-score__line__name">',((o=i.with.call(t,t&&t.home_team,{hash:{},inverse:d.noop,fn:d.program(10,p,a),data:a}))||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.score,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var s,a="";return((s=i.each.call(e,null==(s=null==(s=e&&e.score)||!1===s?s:s.home)||!1===s?s:s.sequence,{hash:{},inverse:d.noop,fn:d.program(16,_,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.current_count,{hash:{},inverse:d.noop,fn:d.program(21,g,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="c-score__foot"><div class="c-score__foot__main"><div class="c-score__venue">@ '+l(typeof(o=null==(o=t&&t.venue)||!1===o?o:o.market)===r?o.apply(t):o)+'<span class="c-score__venue__name"> - '+l(typeof(o=null==(o=t&&t.venue)||!1===o?o:o.name)===r?o.apply(t):o)+'</span></div><div class="c-score__foot__more  c-score__opt">',o=i.and.call(t,t&&t.updated,null==(o=null==(o=t&&t.score)||!1===o?o:o.away)||!1===o?o:o.sequence,{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var s="";return s+='<span class="c-score__foot__info">Last updated '+l(i.momentTime.call(e,e&&e.updated,{hash:{},data:t}))+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div></div>"})),this.DDG.templates.stars=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<span class="stars  stars--'+(0,this.escapeExpression)("function"==typeof(o=t&&t.rating)?o.apply(t):o)+'"><i class="star  stars__1"></i><i class="star  stars__2"></i><i class="star  stars__3"></i><i class="star  stars__4"></i><i class="star  stars__5"></i></span>'})),this.DDG.templates.subtitle=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression,l=this;function d(e,t){return'<span class="sep"></span>'}function c(e,t){var s,a="";return a+='<a href="'+r(typeof(s=e&&e.href)===n?s.apply(e):s)+'"',((s=i.if.call(e,e&&e.className,{hash:{},inverse:l.noop,fn:l.program(5,h,t),data:t}))||0===s)&&(a+=s),a+=">"+r(typeof(s=e&&e.text)===n?s.apply(e):s)+"</a>"}function h(e,t){var i,s="";return s+=' class="'+r(typeof(i=e&&e.className)===n?i.apply(e):i)+'"'}function p(e,t){return r(typeof e===n?e.apply(e):e)}return o=i.each.call(t,t&&t.components,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var s,a="";return((s=i.if.call(e,null==t||!1===t?t:t.index,{hash:{},inverse:l.noop,fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.href,{hash:{},inverse:l.program(7,p,t),fn:l.program(4,c,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),o||0===o?o:""})),this.DDG.templates.tile_body=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+="has-foot--"+l(typeof(i=e&&e.footLines)===r?i.apply(e):i)}function h(e,t){var i,s="";return s+="tile__foot--"+l(typeof(i=e&&e.footLines)===r?i.apply(e):i)}return n+='<div class="tile__body ',o=i.if.call(t,t&&t.footer_content,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+="has-foot ",((s=i.if.call(e,e&&e.footLines,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='">',((o=i.include.call(t,"tile_titles",{hash:{},data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.description,{hash:{},inverse:d.noop,fn:d.program(4,(function(e,t){var s;return(s=i.include.call(e,"tile_snippet",{hash:{},data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.footer_content,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var s,a="";return a+='<div class="tile__foot ',((s=i.if.call(e,e&&e.footLines,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.include.call(e,e&&e.footer_content,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.tile_snippet=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<div class="tile__content ',o=i.unless.call(t,null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileSnippet,{hash:{},inverse:this.program(3,(function(e,t){var i;return r("function"==typeof(i=null==(i=null==(i=e&&e.meta)||!1===i?i:i.elClass)||!1===i?i:i.tileSnippet)?i.apply(e):i)}),a),fn:this.program(1,(function(e,t){return" tile__content--sm "}),a),data:a}),(o||0===o)&&(n+=o),n+='">'+r(i.ellipsis.call(t,t&&t.description,null==(o=t&&t.meta)||!1===o?o:o.snippetChars,{hash:{fallback:55},data:a}))+"</div>"})),this.DDG.templates.tile_titles=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l="function",d=this;function c(e,t){return"span"}return o=i.if.call(t,t&&t.icon,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<img src="'+r(i.imageProxy.call(e,e&&e.icon,{hash:{},data:t}))+'" alt="'+r(typeof(s=e&&e.title)===l?s.apply(e):s)+'" class="tile__icon" />'}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.showPin,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<span class="tile__icon  tile__icon--pin">'+r(typeof(i=e&&e.num)===l?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<h5 class="tile__title ',((o=i.if.call(t,t&&t.subtitle,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return"with-sub"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.altSubtitle,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){return"has-sub--a"}),a),data:a}))||0===o)&&(n+=o),n+=" "+r(typeof(o=null==(o=null==(o=t&&t.meta)||!1===o?o:o.elClass)||!1===o?o:o.tileTitle)===l?o.apply(t):o)+" "+r(typeof(o=t&&t.titleClass)===l?o.apply(t):o)+'"><',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.program(11,c,a),fn:d.program(9,(function(e,t){var i,s="";return s+='a href="'+r(typeof(i=e&&e.url)===l?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+=' class="tile__title__main">'+r(typeof(o=t&&t.title)===l?o.apply(t):o)+"</",((o=i.if.call(t,t&&t.url,{hash:{},inverse:d.program(11,c,a),fn:d.program(13,(function(e,t){return"a"}),a),data:a}))||0===o)&&(n+=o),n+=">",o=i.if.call(t,t&&t.altSubtitle,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,a="";return a+='<span class="tile__title__sub '+r(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tileAltSubtitle)===l?s.apply(e):s)+" "+r(typeof(s=e&&e.altSubClass)===l?s.apply(e):s)+'">',((s=i.formatSubtitle.call(e,e&&e.altSubtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</h5>",o=i.if.call(t,t&&t.subtitle,{hash:{},inverse:d.noop,fn:d.program(17,(function(e,t){var s,a="";return a+='<span class="tile__sub '+r(typeof(s=null==(s=null==(s=e&&e.meta)||!1===s?s:s.elClass)||!1===s?s:s.tileSubtitle)===l?s.apply(e):s)+" "+r(typeof(s=e&&e.subClass)===l?s.apply(e):s)+'">',((s=i.formatSubtitle.call(e,e&&e.subtitle,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.title=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='title="'+l(typeof(i=e&&e.hrefTitle)===r?i.apply(e):i)+'"'}function h(e,t){return"opt"}return n+="<"+l(typeof(o=t&&t.tagName)===r?o.apply(t):o)+' class="'+l(typeof(o=t&&t.className)===r?o.apply(t):o)+" "+l(typeof(o=t&&t.classNameSec)===r?o.apply(t):o)+" ",((o=i.if.call(t,t&&t.subTitle,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"has-sub"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.href,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<a href="'+l(typeof(s=e&&e.href)===r?s.apply(e):s)+'" ',((s=i.if.call(e,e&&e.hrefTitle,{hash:{},inverse:d.noop,fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+=">"}),a),data:a}),(o||0===o)&&(n+=o),((o=typeof(o=t&&t.title)===r?o.apply(t):o)||0===o)&&(n+=o),((o=i.if.call(t,t&&t.href,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){return"</a>"}),a),data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.subTitle,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var s,a="";return a+='<span class="'+l(typeof(s=e&&e.className)===r?s.apply(e):s)+"__sub ",((s=i.if.call(e,e&&e.optSub,{hash:{},inverse:d.noop,fn:d.program(9,h,t),data:t}))||0===s)&&(a+=s),a+='">',((s=typeof(s=e&&e.subTitle)===r?s.apply(e):s)||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</"+l(typeof(o=t&&t.tagName)===r?o.apply(t):o)+">"})),this.DDG=this.DDG||{},this.DDG.templates=this.DDG.templates||{},Handlebars.registerPartial("place_reviews",Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+=l(typeof(s=e&&e.numberOfReviews)===r?s.apply(e):s)+" ",((s=i.lp.call(e,"maps_places","Reviews",{hash:{},data:t}))||0===s)&&(a+=s),a}function h(e,t){return' target="_blank" rel="noopener"'}function p(e,t){return"review__user__url--fallback"}function u(e,t){var i;return l(typeof(i=null==(i=e&&e.user)||!1===i?i:i.url)===r?i.apply(e):i)}function m(e,t){var i;return l(typeof(i=e&&e.url)===r?i.apply(e):i)}function _(e,t){return' target="_blank" rel="noopener" '}function f(e,t){var s,a="";return a+='<img class="review__user__image" src="'+l(i.imageProxy.call(e,null==(s=e&&e.user)||!1===s?s:s.image,{hash:{},data:t}))+'" width="24" height="24" />'}function g(e,t){var i,s="";return s+="<strong>&nbsp;"+l(typeof(i=null==(i=e&&e.user)||!1===i?i:i.name)===r?i.apply(e):i)+" &nbsp;&middot;</strong>"}function v(e,t){var s="";return s+='<img class="review__rating-stars"src="'+l(i.imageProxy.call(e,e&&e.ratingImage,{hash:{},data:t}))+'" />'}function w(e,t){var s,a="";return a+=" ",((s=i.if.call(e,e&&e.ratingClass,{hash:{},inverse:d.noop,fn:d.program(32,y,t),data:t}))||0===s)&&(a+=s),a}function y(e,t){var s;return(s=i.renderStars.call(e,e&&e.ratingClass,{hash:{},data:t}))||0===s?s:""}function b(e,t){var i,s="";return s+='<div class="place-detail__reviews_link"><a href="'+l(typeof(i=e&&e.reviewsURL)===r?i.apply(e):i)+'" target="_blank" rel="noopener">'+l(typeof(i=e&&e.moreReviewsOnExternalServiceText)===r?i.apply(e):i)+"</a></div>"}return n+='<div class="place-detail__reviews">',o=i.if.call(t,t&&t.reviewsURL,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='<a class="place-detail__reviews__attribution" href="'+l(typeof(i=e&&e.reviewsURL)===r?i.apply(e):i)+'" target="_blank" rel="noopener"><img src="/assets/maps/logo-ta-horiz.svg" alt="'+l(typeof(i=e&&e.moreReviewsOnExternalServiceText)===r?i.apply(e):i)+'"/></a>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<p class="place-detail__item place-detail__icon-list ',((o=i.if.call(t,t&&t.showTabs,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"place-detail__reviews-toggle js-place-detail-reviews-toggle chevron--down"}),a),data:a}))||0===o)&&(n+=o),n+='"><img class="place-detail__icon-list__icon" src="/assets/maps/icon-feedback.svg" alt="',((o=i.lp.call(t,"maps_places","What people say",{hash:{},data:a}))||0===o)&&(n+=o),n+='"/><strong class="place-detail__icon-list__descr place-detail__data__label">',o=i.if.call(t,t&&t.showTabs,{hash:{},inverse:d.program(8,(function(e,t){var s;return(s=i.lp.call(e,"maps_places","What people say",{hash:{},data:t}))||0===s?s:""}),a),fn:d.program(5,(function(e,t){var s;return(s=i.if.call(e,e&&e.numberOfReviews,{hash:{},inverse:d.noop,fn:d.program(6,c,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isMobile,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){return'<i class="place-detail__toggle__icon chevron--down js-place-detail-reviews-toggle-icon"></i>'}),a),data:a}))||0===o)&&(n+=o),n+='</strong></p><div class="place-detail__reviews__container ',((o=i.if.call(t,t&&t.showTabs,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){return"is-hidden"}),a),data:a}))||0===o)&&(n+=o),n+=' js-place-detail-reviews-container">',o=i.each.call(t,t&&t.reviews,{hash:{},inverse:d.noop,fn:d.programWithDepth(14,(function(e,t,s){var a,o="";return o+='<div class="review place-detail__reviews__review"><div class="review__content"><p class="place-detail__reviews__review__text">'+l(typeof(a=e&&e.excerpt)===r?a.apply(e):a)+' <a href="'+l(typeof(a=e&&e.url)===r?a.apply(e):a)+'"',((a=i.if.call(e,s&&s.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(15,h,t),data:t}))||0===a)&&(o+=a),o+=">"+l(typeof(a=s&&s.moreOnExternalServiceText)===r?a.apply(e):a)+'</a></p><p><a class="review__user__image-wrapper ',((a=i.unless.call(e,null==(a=e&&e.user)||!1===a?a:a.image,{hash:{},inverse:d.noop,fn:d.program(17,p,t),data:t}))||0===a)&&(o+=a),o+='"href="',((a=i.if.call(e,null==(a=e&&e.user)||!1===a?a:a.url,{hash:{},inverse:d.program(21,m,t),fn:d.program(19,u,t),data:t}))||0===a)&&(o+=a),o+='"',((a=i.if.call(e,s&&s.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(23,_,t),data:t}))||0===a)&&(o+=a),o+='title="'+l(typeof(a=null==(a=e&&e.user)||!1===a?a:a.userOnServiceText)===r?a.apply(e):a)+'">',((a=i.if.call(e,null==(a=e&&e.user)||!1===a?a:a.image,{hash:{},inverse:d.noop,fn:d.program(25,f,t),data:t}))||0===a)&&(o+=a),o+='</a><span class="review__rating-date">',((a=i.if.call(e,null==(a=e&&e.user)||!1===a?a:a.name,{hash:{},inverse:d.noop,fn:d.program(27,g,t),data:t}))||0===a)&&(o+=a),o+='</span><span class="review__rating-date">'+l(typeof(a=e&&e.formattedDate)===r?a.apply(e):a)+"</span>",((a=i.if.call(e,e&&e.ratingImage,{hash:{},inverse:d.program(31,w,t),fn:d.program(29,v,t),data:t}))||0===a)&&(o+=a),o+="</p></div></div>"}),a,t),data:a}),(o||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.reviewsURL,{hash:{},inverse:d.noop,fn:d.program(34,(function(e,t){var s;return(s=i.unless.call(e,e&&e.isMobile,{hash:{},inverse:d.noop,fn:d.program(35,b,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"}))),this.DDG.templates.about_header=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l=this;return n+='<div class="module__header ',((o=i.if.call(t,t&&t.imageURL,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){return"module__header--with-image"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.imageURL,{hash:{},inverse:l.noop,fn:l.program(3,(function(e,t){var s,a="";return a+='<div class="module__header__image js-about-header-image" style="background-image:url(\''+r(i.imageProxy.call(e,e&&e.imageURL,{hash:{},data:t}))+'\');"><img class="module__header__image__img" src="'+r(i.imageProxy.call(e,e&&e.imageURL,{hash:{},data:t}))+'" /><span class="label module__header__image__more">',((s=i.l.call(e,"More Images",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module__header__map js-about-header-map"></div><div class="module__header__shadow"></div></div>'})),this.DDG.templates.about_infobox=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<div class="about-info-box__info-row',((s=i.unless.call(e,e&&e.visible,{hash:{},inverse:d.noop,fn:d.program(3,h,t),data:t}))||0===s)&&(a+=s),a+='"><span class="about-info-box__info-label">'+l(typeof(s=e&&e.label)===r?s.apply(e):s)+":</span>",((s=i.if.call(e,null==(s=e&&e.value)||!1===s?s:s.content,{hash:{},inverse:d.program(8,m,t),fn:d.program(5,p,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function h(e,t){return" is-hidden"}function p(e,t){var s;return(s=i.each.call(e,null==(s=e&&e.value)||!1===s?s:s.content,{hash:{},inverse:d.noop,fn:d.program(6,u,t),data:t}))||0===s?s:""}function u(e,t){var i,s="";return s+='<div class="about-info-box__sub-info"><span class="about-info-box__info-label">'+l(typeof(i=e&&e.label)===r?i.apply(e):i)+':</span><span class="about-info-box__info-value">'+l(typeof(i=e&&e.value)===r?i.apply(e):i)+"</span></div>"}function m(e,t){var i,s="";return s+='<span class="about-info-box__info-value">'+l(typeof(i=e&&e.value)===r?i.apply(e):i)+"</span>"}return n+='<div class="about-info-box" data-testid="about-infobox">',o=i.each.call(t,t&&t.items,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s;return(s=i.if.call(e,e&&e.label,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.about_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<div class="module__title module__link--two-line">'+l(typeof(s=e&&e.title)===r?s.apply(e):s)+'</div><a href="'+l(typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)+'" class="module__clickable-header js-about-item-clickable-header"><div class="module__link module__link--url">',((s=i.favicon.call(e,e&&e.AbstractURL,{hash:{},data:t}))||0===s)&&(a+=s),a+=l(typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)+"</div></a>"}function h(e,t){var s,a="";return a+='<a href="'+l(typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)+'" class="module__clickable-header js-about-item-clickable-header"><div class="module__title__link module__link--two-line tx--bold">'+l(typeof(s=e&&e.title)===r?s.apply(e):s)+'</div><div class="module__link module__link--url">',((s=i.favicon.call(e,e&&e.AbstractURL,{hash:{},data:t}))||0===s)&&(a+=s),a+=l(typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)+"</div></a>"}function p(e,t){var s,a="";return a+='<a class="module__image" href="'+l(typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)+'" class="js-about-item-link" title="',((s=i.l.call(e,"More at %s ",e&&e.moreAtText,{hash:{},data:t}))||0===s)&&(a+=s),a+='"><img src="',((s=typeof(s=e&&e.Image)===r?s.apply(e):s)||0===s)&&(a+=s),a+='" align="right" class="module--about__img"></a>'}function u(e,t){return' target="_blank" rel="noopener"'}return n+='<div class="module__body js-about-item">',o=i.if.call(t,t&&t.showDirectionsButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="dir-btn"><div class="dir-btn__link btn js-about-item-directions">',((s=i.lp.call(e,"directions","Directions",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div></div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.hasClickableHeader,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s;return(s=i.if.call(e,e&&e.noTitleLink,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.unless.call(t,t&&t.headerImage,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var s;return(s=i.if.call(e,e&&e.Image,{hash:{},inverse:d.noop,fn:d.program(9,p,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.unless.call(t,t&&t.hasClickableHeader,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var i,s="";return s+='<div class="module__title js-about-item-title"><span class="module__title__link">'+l(typeof(i=e&&e.title)===r?i.apply(e):i)+"</span></div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.subTitle,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var i,s="";return s+='<span class="module__title__sub">'+l(typeof(i=e&&e.subTitle)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.OfficialUrl,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,a="";return a+='<a href="'+l(typeof(s=e&&e.OfficialUrl)===r?s.apply(e):s)+'" class="module__official-url js-about-item-link"',((s=i.if.call(e,e&&e.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(16,u,t),data:t}))||0===s)&&(a+=s),a+=' title="Website">'+l(i.domainWithPath.call(e,e&&e.OfficialUrl,{hash:{},data:t}))+"</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module__text',((o=i.if.call(t,t&&t.hasClickableHeader,{hash:{},inverse:d.noop,fn:d.program(18,(function(e,t){return" module__text--no-padding"}),a),data:a}))||0===o)&&(n+=o),n+='"><span class="js-about-item-abstr"></span><a href="'+l(typeof(o=t&&t.AbstractURL)===r?o.apply(t):o)+'" class="module__more-at is-hidden js-about-item-more-at-inline tx--bold"',((o=i.if.call(t,t&&t.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(16,u,a),data:a}))||0===o)&&(n+=o),n+=' title="'+l(typeof(o=t&&t.moreAtText)===r?o.apply(t):o)+'">'+l(typeof(o=t&&t.moreAtText)===r?o.apply(t):o)+"</a>",o=i.unless.call(t,t&&t.hasClickableHeader,{hash:{},inverse:d.noop,fn:d.program(20,(function(e,t){var s,a="";return a+='<a href="'+l(typeof(s=e&&e.AbstractURL)===r?s.apply(e):s)+'" class="module__more-at-bottom is-hidden js-about-item-more-at-bottom" title="',((s=i.l.call(e,"More at %s ",e&&e.moreAtText,{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.favicon.call(e,e&&e.AbstractURL,{hash:{},data:t}))||0===s)&&(a+=s),((s=i.l.call(e,"More at %s ",e&&e.moreAtText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.about_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){return' aria-hidden="true"'}return n+='<div class="module module--about module--zci-'+d(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===l?o.apply(t):o)+" js-module--"+d(typeof(o=null==(o=t&&t.meta)||!1===o?o:o.id)===l?o.apply(t):o)+"js-about-module",((o=i.if.call(t,t&&t.hasContentHeight,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return" has-content-height"}),a),data:a}))||0===o)&&(n+=o),n+='" data-testid="about"><div class="module__content js-about-module-content"></div>',o=i.unless.call(t,t&&t.isMapExpanded,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){var s,a="";return a+='<div class="module__toggle js-about-module-toggle"',((s=i.unless.call(e,e&&e.hasContentHeight,{hash:{},inverse:r.noop,fn:r.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='><div class="module__toggle--more js-about-module-more" data-testid="collapsed"><spanclass="module__toggle__chevron">v</span></div><div class="module__toggle--less js-about-module-less" data-testid="expanded"><span class="module__toggle__chevron module__toggle__chevron--collapse">v</span></div></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.about_profiles=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<ul class="about-profiles">',o=i.each.call(t,t&&t.links,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var s,a="";return a+='<li class="about-profiles__item"><a class="about-profiles__link js-about-profile-link" href="'+l(typeof(s=e&&e.url)===r?s.apply(e):s)+'" title="'+l(typeof(s=e&&e.name)===r?s.apply(e):s)+'"><img class="about-profiles__img" src="',((s=i.imageProxy.call(e,e&&e.iconURL,{hash:{},data:t}))||0===s)&&(a+=s),a+='" />'+l(typeof(s=e&&e.name)===r?s.apply(e):s)+"</a></li>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</ul>"})),this.DDG.templates.ad_badge_tooltip=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+="<span><span>",((o=i.lp.call(t,"Ads GDPR, internal use only. Do not change","Viewing ads is privacy protected by DuckDuckGo. Ad clicks are managed by Microsoft's ad network",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span>. <a href="'+r("function"==typeof(o=t&&t.helpPageURL)?o.apply(t):o)+'" class="tooltip-link js-tooltip-link">',((o=i.lp.call(t,"Ads GDPR, internal use only. Do not change","More Info",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></span>"})),this.DDG.templates.ad_badge=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<span class="badge--ad-wrap badge--ad-wrap--'+l(typeof(o=t&&t.context)===r?o.apply(t):o)+'" aria-describedby="'+l(typeof(o=t&&t.tooltipId)===r?o.apply(t):o)+'" data-testid="ad-badge-'+l(typeof(o=t&&t.tooltipId)===r?o.apply(t):o)+'">',o=i.if.call(t,t&&t.isIcon,{hash:{},inverse:this.program(3,(function(e,t){var i,s="";return s+='&nbsp;<span class="badge--ad js-badge--ad">'+l(typeof(i=e&&e.label)===r?i.apply(e):i)+"</span>"}),a),fn:this.program(1,(function(e,t){return'<span class="badge--ad js-badge--ad ddgsi ddgsi-info"></span>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</span>"})),this.DDG.templates.address_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i="";return i+='<p class="address-detail__address js-address-detail-address">'+l(typeof e===r?e.apply(e):e)+"</p>"}return n+='<div class="address-detail ',((o=i.if.call(t,t&&t.mapkitAppleDevice,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"address-detail--apple-device"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="module__title address-detail__title js-address-detail-title"><div class="address-detail__links"><h1 class="address-detail__name js-address-detail-address">'+l(typeof(o=t&&t.name)===r?o.apply(t):o)+"</h1>",o=i.if.call(t,t&&t.addressLines,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s;return(s=i.each.call(e,e&&e.addressLines,{hash:{},inverse:d.noop,fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.displayLatLon,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var i,s="";return s+='<p class="address-detail__latlon js-address-detail-address">'+l(typeof(i=e&&e.displayLatLon)===r?i.apply(e):i)+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div></div><div class="dir-btn"><div class="dir-btn__link btn btn--primary js-address-detail-directions">',((o=i.lp.call(t,"directions","Directions",{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.anomaly_error_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<div class="anomaly-modal__mask"><div class="anomaly-modal__modal anomaly-modal__error-modal" data-testid="anomaly-error-modal"><img class="anomaly-modal__header-icon" src="/assets/anomaly/failure-icon.svg" /><div class="anomaly-modal__title">',((o=i.lp.call(t,"Anomaly modal","Please try again",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="anomaly-modal__error-instructions">'+r("function"==typeof(o=t&&t.instructions)?o.apply(t):o)+'</div><div class="anomaly-modal__error-controls"><button class="btn btn--primary anomaly-modal__try-again js-anomaly-modal-tryAgain">',((o=i.lp.call(t,"Anomaly modal","Try Again",{hash:{},data:a}))||0===o)&&(n+=o),n+="</button></div></div></div>"})),this.DDG.templates.anomaly_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="anomaly-modal__mask" data-testid="anomaly-modal"><div class="anomaly-modal__modal"><div class="anomaly-modal__title">',((o=i.lp.call(t,"Anomaly modal","Unfortunately, bots use DuckDuckGo too.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="anomaly-modal__description">',((o=i.lp.call(t,"Anomaly modal","Please complete the following challenge to confirm this search was made by a human.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="anomaly-modal__instructions">',((o=i.lp.call(t,"Anomaly modal","Select all squares containing a duck:",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="anomaly-modal__puzzle-margins"><div class="anomaly-modal__puzzle">',o=i.each.call(t,t&&t.tiles,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<div class="anomaly-modal__box js-anomaly-modal-tile" data-index="'+l(typeof(i=null==t||!1===t?t:t.index)===r?i.apply(e):i)+'" data-testid="anomaly-modal-tile-'+l(typeof(i=null==t||!1===t?t:t.index)===r?i.apply(e):i)+'"><div class="anomaly-modal__image" style="background-image: url(\'/assets/anomaly/images/challenge/'+l(typeof e===r?e.apply(e):e)+'\');" data-id="'+l(typeof e===r?e.apply(e):e)+'" data-testid="anomaly-modal-image-'+l(typeof(i=null==t||!1===t?t:t.index)===r?i.apply(e):i)+'"/><div class="anomaly-modal__overlay" /><img class="anomaly-modal__check" src="/assets/anomaly/check.svg" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='</div></div><div class="anomaly-modal__controls"><button class="btn btn--primary anomaly-modal__submit js-anomaly-modal-submit">',((o=i.l.call(t,"Submit",{hash:{},data:a}))||0===o)&&(n+=o),n+="</button></div></div></div>"})),this.DDG.templates.anomaly_success_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="anomaly-modal__mask"><div class="anomaly-modal__modal anomaly-modal__success-modal" data-testid="anomaly-success-modal"><img class="anomaly-modal__header-icon" src="/assets/anomaly/success-icon.svg" /><div class="anomaly-modal__title">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"Anomaly modal","Correct!",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="anomaly-modal__success-instructions">',((o=i.lp.call(t,"Anomaly modal","Loading your search results now.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="anomaly-modal__success-spinner">',((o=i.include.call(t,"spinner",{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.carousel_module_item_auto_ads=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<a href="'+l(typeof(i=null==(i=e&&e.disclaimer_info)||!1===i?i:i.link)===r?i.apply(e):i)+'">'+l(typeof(i=null==(i=e&&e.disclaimer_info)||!1===i?i:i.text)===r?i.apply(e):i)+"</a>"}function h(e,t){var i;return l(typeof(i=null==(i=e&&e.disclaimer_info)||!1===i?i:i.text)===r?i.apply(e):i)}return n+='<div class="module--carousel__item has-image" data-link="'+l(typeof(o=t&&t.link)===r?o.apply(t):o)+'"><div class="module--carousel__image-wrapper js-carousel-item-image-wrapper"><div class="js-carousel-item-image module--carousel__image" style="background-image:url(\''+l(i.imageProxy.call(t,t&&t.image,t&&t.imageProxyOps,{hash:{},data:a}))+'\')"></div></div><div class="module--carousel__body"><div class="module--carousel__body__wrapper"><a href="'+l(typeof(o=t&&t.link)===r?o.apply(t):o)+'" title="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="module--carousel__body__title js-carousel-item-title one-line">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</a><div class="module--carousel__auto-ads-extra one-line"><span class="module--carousel__body__brand">'+l(typeof(o=t&&t.brand)===r?o.apply(t):o)+"</span> ",o=i.if.call(t,t&&t.location,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+=" • "+l(typeof(i=e&&e.location)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="module--carousel__auto-ads-extra one-line">'+l(typeof(o=t&&t.yearMileage)===r?o.apply(t):o)+'</div><div class="module--carousel__auto-ads-extra one-line">'+l(typeof(o=t&&t.assets)===r?o.apply(t):o)+"</div>",o=i.if.call(t,null==(o=t&&t.disclaimer_info)||!1===o?o:o.text,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<div class="module--carousel__auto-ads-extra one-line js-carousel-item-icon"><i class="ddgsi ddgsi-info"></i> ',((s=i.if.call(e,null==(s=e&&e.disclaimer_info)||!1===s?s:s.link,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="module--carousel__body__pricing"><span class="module--carousel__body__price one-line">'+l(typeof(o=t&&t.price)===r?o.apply(t):o),o=i.if.call(t,t&&t.condition,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i,s="";return s+=" - "+l(typeof(i=e&&e.condition)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+="</span></div></div></div>"})),this.DDG.templates.carousel_module_item_credit_cards=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+=' <a href="'+l(typeof(i=null==(i=e&&e.disclaimer_info)||!1===i?i:i.link)===r?i.apply(e):i)+'" rel="noopener">'+l(typeof(i=null==(i=e&&e.disclaimer_info)||!1===i?i:i.text)===r?i.apply(e):i)+"</a>"}function h(e,t){var i,s="";return s+=" "+l(typeof(i=null==(i=e&&e.disclaimer_info)||!1===i?i:i.text)===r?i.apply(e):i)}return n+='<div class="module--carousel__item has-image" data-link="'+l(typeof(o=t&&t.link)===r?o.apply(t):o)+'"><div class="module--carousel__image-wrapper js-carousel-item-image-wrapper"><div class="js-carousel-item-image module--carousel__image" style="background-image:url(\''+l(i.imageProxy.call(t,t&&t.image,t&&t.imageProxyOps,{hash:{},data:a}))+'\')"></div></div><div class="module--carousel__body"><a href="'+l(typeof(o=t&&t.link)===r?o.apply(t):o)+'" title="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="module--carousel__body__title js-carousel-item-title">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</a><div class="module--carousel__source one-line">'+l(typeof(o=t&&t.abstract)===r?o.apply(t):o)+'</div><div class="module--carousel__credit-card-description one-line">'+l(typeof(o=t&&t.description)===r?o.apply(t):o)+'</div><div class="module--carousel__credit-card-offers one-line">'+l(typeof(o=t&&t.offers)===r?o.apply(t):o)+"</div>",o=i.if.call(t,null==(o=t&&t.disclaimer_info)||!1===o?o:o.text,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="module--carousel__credit-card-terms one-line js-carousel-item-icon"><i class="ddgsi ddgsi-info"></i>',((s=i.if.call(e,null==(s=e&&e.disclaimer_info)||!1===s?s:s.link,{hash:{},inverse:d.program(4,h,t),fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.carousel_module_item_products=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this,d=this.escapeExpression;function c(e,t){var s,a="";return a+='<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">',((s=i.if.call(e,e&&e.image,{hash:{},inverse:l.program(12,_,t),fn:l.program(5,h,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,e&&e.canHaveAdExtensions,e&&e.shouldShowLabelOnImage,{hash:{},inverse:l.noop,fn:l.program(14,f,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,e&&e.canHaveAdExtensions,null==(s=e&&e.extensions)||!1===s?s:s.local_inventory,{hash:{},inverse:l.noop,fn:l.program(16,g,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function h(e,t){var s,a="";return a+='<div class="js-carousel-item-image module--carousel__image ',((s=i.if.call(e,e&&e.imageType,{hash:{},inverse:l.noop,fn:l.program(6,p,t),data:t}))||0===s)&&(a+=s),a+=' is-contain-image" style="background-image:url(\''+d(i.imageProxy.call(e,e&&e.image,e&&e.imageProxyOps,{hash:{},data:t}))+"')\">",((s=i.if.call(e,e&&e.is_prime,{hash:{},inverse:l.noop,fn:l.program(8,u,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,e&&e.showBadge,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.badge,{hash:{},inverse:l.noop,fn:l.program(10,m,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function p(e,t){var i;return(i=typeof(i=e&&e.imageType)===r?i.apply(e):i)||0===i?i:""}function u(e,t){return'<span class="tile--pr__badge badge badge--prime"></span>'}function m(e,t){var s;return(s=i.include.call(e,null==(s=null==(s=e&&e.meta)||!1===s?s:s.options)||!1===s?s:s.badge,{hash:{},data:t}))||0===s?s:""}function _(e,t){return'<div class="module--carousel__placeholder js-carousel-item-img-placeholder ddgsi ddgsi-news"></div>'}function f(e,t){var i,s="";return s+='<span class="module--carousel__extension-label label-annotation" data-testid="'+d(typeof(i=e&&e.labelAnnotationId)===r?i.apply(e):i)+'">'+d(typeof(i=null==(i=null==(i=e&&e.extensions)||!1===i?i:i.label_annotation)||!1===i?i:i.text)===r?i.apply(e):i)+"</span> "}function g(e,t){var i,s="";return s+='<span class="module--carousel__extension-label local-inventory" title="'+d(typeof(i=null==(i=null==(i=e&&e.extensions)||!1===i?i:i.local_inventory)||!1===i?i:i.distance)===r?i.apply(e):i)+'"><svg width="13" height="16" viewBox="0 0 13 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.75 8C7.85457 8 8.75 7.10457 8.75 6C8.75 4.89543 7.85457 4 6.75 4C5.64543 4 4.75 4.89543 4.75 6C4.75 7.10457 5.64543 8 6.75 8Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 0C5.56332 0 4.40328 0.351894 3.41658 1.01118C2.42989 1.67047 1.66085 2.60754 1.20673 3.7039C0.7526 4.80026 0.63378 6.00666 0.865291 7.17054C1.10179 8.35952 1.74591 9.39906 2.48051 10.2144C3.8103 11.6902 4.70884 13.0319 5.27237 13.9981C5.55408 14.4812 5.75183 14.87 5.8777 15.1343C5.94062 15.2665 5.98554 15.3675 6.01398 15.4334C6.02819 15.4664 6.03829 15.4907 6.04444 15.5057L6.05075 15.5212L6.05129 15.5226L6.05168 15.5236C6.16829 15.8212 6.46074 16.0123 6.78018 15.9994C7.09937 15.9865 7.37531 15.7729 7.46783 15.4673L7.46818 15.4662L7.47264 15.4522C7.47711 15.4384 7.48473 15.4154 7.49578 15.3837C7.51791 15.3202 7.55379 15.2219 7.60585 15.0927C7.70997 14.8342 7.87867 14.452 8.13109 13.9769C8.63586 13.0267 9.47529 11.7051 10.8029 10.2568C11.4838 9.51391 12.3875 8.41354 12.6347 7.17054C12.8662 6.00666 12.7474 4.80026 12.2933 3.7039C11.8392 2.60754 11.0701 1.67047 10.0834 1.01118C9.09673 0.351894 7.93669 0 6.75 0ZM6.80642 13.2731C6.76989 13.3419 6.73488 13.409 6.70134 13.4745C6.65893 13.3994 6.61453 13.322 6.56811 13.2425C5.95975 12.1993 5.00213 10.7721 3.59488 9.21027C2.98085 8.5288 2.50511 7.72573 2.33647 6.87791C2.16284 6.00499 2.25195 5.10019 2.59254 4.27792C2.93314 3.45566 3.50992 2.75285 4.24994 2.25839C4.98996 1.76392 5.85999 1.5 6.75 1.5C7.64002 1.5 8.51005 1.76392 9.25007 2.25839C9.99009 2.75285 10.5669 3.45566 10.9075 4.27793C11.2481 5.10019 11.3372 6.00499 11.1635 6.87791C11.0056 7.67171 10.3776 8.50093 9.69713 9.24321C8.27471 10.7949 7.36414 12.2233 6.80642 13.2731Z" fill="currentColor" /></svg><span>'+d(typeof(i=null==(i=null==(i=e&&e.extensions)||!1===i?i:i.local_inventory)||!1===i?i:i.text)===r?i.apply(e):i)+"</span></span>"}function v(e,t){var s,a="";return a+='<div class="module--carousel__body__pricing">',((s=i.if.call(e,e&&e.installmentAmount,{hash:{},inverse:l.program(21,y,t),fn:l.program(19,w,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function w(e,t){var i,s="";return s+='<span class="module--carousel__body__price">'+d(typeof(i=e&&e.installmentAmount)===r?i.apply(e):i)+"</span>"}function y(e,t){var s;return(s=i.if.call(e,e&&e.low_price,{hash:{},inverse:l.program(24,k,t),fn:l.program(22,b,t),data:t}))||0===s?s:""}function b(e,t){var i,s="";return s+='<span class="module--carousel__body__price">'+d(typeof(i=e&&e.low_price)===r?i.apply(e):i)+'</span><span class="module--carousel__body__original-price">'+d(typeof(i=e&&e.price)===r?i.apply(e):i)+"</span>"}function k(e,t){var i,s="";return s+='<span class="module--carousel__body__price">'+d(typeof(i=e&&e.price)===r?i.apply(e):i)+"</span>"}function S(e,t){var s,a="";return a+='<span class="module--carousel__merchant-badge">',((s=i.and.call(e,e&&e.canHaveAdExtensions,null==(s=e&&e.extensions)||!1===s?s:s.merchant_badge,{hash:{},inverse:l.noop,fn:l.program(27,x,t),data:t}))||0===s)&&(a+=s),a+='<span class="module--carousel__gray-text',((s=i.if.call(e,e&&e.bing,{hash:{},inverse:l.noop,fn:l.program(29,D,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.unless.call(e,null==(s=e&&e.extensions)||!1===s?s:s.merchant_badge,{hash:{},inverse:l.noop,fn:l.program(31,C,t),data:t}))||0===s)&&(a+=s),a+='">'+d(typeof(s=e&&e.onlyGrayText)===r?s.apply(e):s)+"</span></span>"}function x(e,t){var s,a="";return a+='<a href="'+d(typeof(s=null==(s=null==(s=e&&e.extensions)||!1===s?s:s.merchant_badge)||!1===s?s:s.rating_link)===r?s.apply(e):s)+'" target="_blank" class="js-product-carousel-item-merchantRatingLink" title="',((s=i.l.call(e,"See merchant reviews on bing.com",{hash:{},data:t}))||0===s)&&(a+=s),a+='"><svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.33692 6.19036C8.19992 5.90969 7.79994 5.90969 7.66294 6.19036L7.0824 7.37962C7.02809 7.49086 6.92239 7.56814 6.79991 7.58613L5.49507 7.77783C5.18876 7.82283 5.06584 8.19863 5.28635 8.41594L6.23575 9.35158C6.32297 9.43753 6.36273 9.56066 6.34225 9.68139L6.11884 10.9983C6.06678 11.3052 6.38969 11.5383 6.66456 11.3922L7.82393 10.7759C7.93397 10.7174 8.06589 10.7174 8.17593 10.7759L9.3353 11.3922C9.61016 11.5383 9.93308 11.3052 9.88102 10.9983L9.65761 9.68139C9.63713 9.56066 9.67689 9.43753 9.76411 9.35158L10.7135 8.41594C10.934 8.19863 10.8111 7.82283 10.5048 7.77783L9.19995 7.58613C9.07747 7.56814 8.97176 7.49086 8.91746 7.37962L8.33692 6.19036Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M4.74994 3.25V3.5H2.86875C1.84965 3.5 0.993524 4.26627 0.880983 5.27914L0.312988 10.3911C0.0990778 12.3163 1.60607 14 3.54311 14H12.4568C14.3938 14 15.9008 12.3163 15.6869 10.3911L15.1189 5.27914C15.0064 4.26627 14.1502 3.5 13.1311 3.5H11.2499V3.25C11.2499 2.82321 11.1659 2.40059 11.0025 2.00628C10.8392 1.61197 10.5998 1.25369 10.298 0.951904C9.99625 0.650113 9.63797 0.41072 9.24366 0.247392C8.84935 0.0840641 8.42674 0 7.99994 0C7.57314 0 7.15053 0.0840635 6.75622 0.247391C6.36191 0.410719 6.00363 0.650112 5.70184 0.951902C5.40005 1.25369 5.16066 1.61197 4.99733 2.00628C4.834 2.40059 4.74994 2.8232 4.74994 3.25ZM7.99994 1.5C7.77013 1.5 7.54256 1.54526 7.33024 1.63321C7.11792 1.72116 6.925 1.85006 6.7625 2.01256C6.6 2.17507 6.4711 2.36798 6.38315 2.5803C6.2952 2.79262 6.24994 3.02019 6.24994 3.25V3.5H9.74994V3.25C9.74994 3.02019 9.70467 2.79262 9.61673 2.58031C9.52878 2.36799 9.39988 2.17507 9.23738 2.01256C9.07487 1.85006 8.88196 1.72116 8.66964 1.63321C8.45732 1.54527 8.22975 1.5 7.99994 1.5ZM13.1311 5C13.3859 5 13.6 5.19157 13.6281 5.44478L14.1961 10.5567C14.3113 11.5934 13.4998 12.5 12.4568 12.5H3.54311C2.50009 12.5 1.68863 11.5934 1.80381 10.5567L2.37181 5.44478C2.39994 5.19157 2.61398 5 2.86875 5H13.1311Z" fill="currentColor" /></svg></a>'}function D(e,t){return" one-line"}function C(e,t){return"no-badge"}function T(e,t){var s;return(s=i.ifEquals.call(e,e&&e.bottomRowExtension,"productRating",{hash:{},inverse:l.program(36,I,t),fn:l.program(34,E,t),data:t}))||0===s?s:""}function E(e,t){var s,a="";return a+='<a href="'+d(typeof(s=null==(s=null==(s=e&&e.extensions)||!1===s?s:s.product_rating)||!1===s?s:s.rating_link)===r?s.apply(e):s)+'" target="_blank" class="module--carousel__bottom-extension reviews js-product-carousel-item-ratingLink" title="',((s=i.lp.call(e,"ratings on product or text ad extension","See product ratings on bing.com",{hash:{},data:t}))||0===s)&&(a+=s),a+='">',((s=i.starsAndReviews.call(e,null==(s=null==(s=e&&e.extensions)||!1===s?s:s.product_rating)||!1===s?s:s.rating,null==(s=null==(s=e&&e.extensions)||!1===s?s:s.product_rating)||!1===s?s:s.num_reviews,"",!0,{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}function I(e,t){return'<div class="js-product-ad-label-annotation-extension module--carousel__bottom-extension js-product-carousel-item-bottomExtension"></div>'}function M(e,t){var s,a="";return a+='<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">',((s=i.if.call(e,e&&e.image,{hash:{},inverse:l.program(12,_,t),fn:l.program(5,h,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,e&&e.canHaveAdExtensions,e&&e.promotion,{hash:{},inverse:l.noop,fn:l.program(40,A,t),data:t}))||0===s)&&(a+=s),((s=i.and.call(e,e&&e.canHaveAdExtensions,null==(s=e&&e.extensions)||!1===s?s:s.free_shipping,{hash:{},inverse:l.noop,fn:l.program(42,L,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function A(e,t){var i,s="";return s+='<div class="tile__media__promotion-label one-line"><svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.22774 0H6.23017C6.32354 0 6.40358 0.0400194 6.47028 0.0933786L12.8067 6.42979C12.9401 6.56318 12.9401 6.77662 12.8067 6.89668L7.80426 11.8991C7.67086 12.0325 7.45743 12.0325 7.33737 11.8991L1.00096 5.5627C0.934261 5.496 0.907581 5.41596 0.907581 5.32258V0.333495C0.894241 0.146738 1.04098 0 1.22774 0ZM1.56123 5.20252L7.56415 11.2054L12.0997 6.6699L6.09677 0.66699H1.56123V5.20252Z" fill="#666666"/><path d="M3.22901 3.33496C2.68207 3.33496 2.22852 2.8814 2.22852 2.33447C2.22852 1.78754 2.68207 1.33398 3.22901 1.33398C3.77594 1.33398 4.22949 1.78754 4.22949 2.33447C4.22949 2.8814 3.77594 3.33496 3.22901 3.33496ZM3.22901 2.00097C3.04225 2.00097 2.89551 2.14771 2.89551 2.33447C2.89551 2.52123 3.04225 2.66797 3.22901 2.66797C3.41576 2.66797 3.5625 2.52123 3.5625 2.33447C3.5625 2.14771 3.41576 2.00097 3.22901 2.00097Z" fill="#666666"/></svg> '+d(typeof(i=e&&e.promotion)===r?i.apply(e):i)+"</div>"}function L(e,t){var i,s="";return s+='<span class="tile__media__free-shipping-label one-line">'+d(typeof(i=null==(i=null==(i=e&&e.extensions)||!1===i?i:i.free_shipping)||!1===i?i:i.text)===r?i.apply(e):i)+"</span>"}function R(e,t){var s,a="";return((s=i.and.call(e,e&&e.canHaveAdExtensions,e&&e.rating,{hash:{},inverse:l.noop,fn:l.program(45,P,t),data:t}))||0===s)&&(a+=s),a+='<div class="module--carousel__body__pricing">',((s=i.if.call(e,e&&e.installmentAmount,{hash:{},inverse:l.program(21,y,t),fn:l.program(19,w,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function P(e,t){var s,a="";return a+='<span class="tile--pr__rating tile__rating">',((s=i.starsAndReviews.call(e,e&&e.rating,e&&e.reviews,!1,!0,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}function O(e,t){var s,a="";return a+='<span class="module--carousel__gray-text',((s=i.if.call(e,e&&e.bing,{hash:{},inverse:l.noop,fn:l.program(29,D,t),data:t}))||0===s)&&(a+=s),a+='">'+d(typeof(s=e&&e.onlyGrayText)===r?s.apply(e):s)+"</span>"}return n+='<div class="module--carousel__item',((o=i.if.call(t,t&&t.showImage,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){return" has-image"}),a),data:a}))||0===o)&&(n+=o),n+='" data-link="'+d(typeof(o=t&&t.link)===r?o.apply(t):o)+'">',o=i.if.call(t,t&&t.shouldShowSyndicationExtensions,{hash:{},inverse:l.program(38,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.showImage,{hash:{},inverse:l.noop,fn:l.program(39,M,t),data:t}))||0===s)&&(a+=s),a+='<div class="module--carousel__body"><a href="'+d(typeof(s=e&&e.link)===r?s.apply(e):s)+'" title="'+d(typeof(s=e&&e.title)===r?s.apply(e):s)+'" class="module--carousel__body__title js-carousel-item-title">'+d(typeof(s=e&&e.title)===r?s.apply(e):s)+"</a>",((s=i.if.call(e,e&&e.bing,{hash:{},inverse:l.noop,fn:l.program(44,R,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="module--carousel__footer">',((s=i.if.call(e,e&&e.onlyGrayText,{hash:{},inverse:l.noop,fn:l.program(47,O,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),fn:l.program(3,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.showImage,{hash:{},inverse:l.noop,fn:l.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='<div class="module--carousel__body"><a href="'+d(typeof(s=e&&e.link)===r?s.apply(e):s)+'" title="'+d(typeof(s=e&&e.title)===r?s.apply(e):s)+'" class="module--carousel__body__title js-carousel-item-title">'+d(typeof(s=e&&e.title)===r?s.apply(e):s)+"</a>",((s=i.if.call(e,e&&e.bing,{hash:{},inverse:l.noop,fn:l.program(18,v,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.onlyGrayText,{hash:{},inverse:l.noop,fn:l.program(26,S,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="module--carousel__footer">',((s=i.if.call(e,e&&e.canHaveAdExtensions,{hash:{},inverse:l.noop,fn:l.program(33,T,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.carousel_module_item_see_more=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="module--carousel__item"><a class="module--carousel__item__see-all"><div><div class="module--carousel__item__see-all--icon"></div><span class="module--carousel__item__see-all--label">'+(0,this.escapeExpression)("function"==typeof(o=t&&t.moreText)?o.apply(t):o)+"</span></div></a></div>"})),this.DDG.templates.carousel_module_item_tours_activities=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="module--carousel__item has-image" data-link="'+l(typeof(o=t&&t.link)===r?o.apply(t):o)+'"><div class="module--carousel__image-wrapper js-carousel-item-image-wrapper"><div class="js-carousel-item-image module--carousel__image" style="background-image:url(\''+l(i.imageProxy.call(t,t&&t.image,t&&t.imageProxyOps,{hash:{},data:a}))+'\')"></div></div><div class="module--carousel__body"><a href="'+l(typeof(o=t&&t.link)===r?o.apply(t):o)+'" title="'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'" class="module--carousel__body__title js-carousel-item-title">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</a><div class="module--carousel__source-reviews-container js-carousel-item-source-reviews"><div class="module--carousel__source one-line"><span>'+l(typeof(o=t&&t.abstract)===r?o.apply(t):o)+"</span></div>",o=i.if.call(t,t&&t.ratings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="module--carousel__reviews"><span class="module--carousel__reviews-bullet">&nbsp;&bullet;&nbsp;</span>',((s=i.starsAndReviews.call(e,e&&e.ratings,e&&e.reviews,!1,!0,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="module--carousel__tour-description one-line">'+l(typeof(o=t&&t.category)===r?o.apply(t):o)+'</div><div class="module--carousel__tour-price-duration"><span class="module--carousel__tour-price">',((o=i.l.call(t,"From %s",t&&t.displayPrice,{hash:{},data:a}))||0===o)&&(n+=o),n+="</span> ",o=i.if.call(t,t&&t.duration,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+="&bullet; "+l(typeof(i=e&&e.duration)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.carousel_module_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l=this,d="function";function c(e,t){var s;return(s=i.if.call(e,e&&e.isIE,{hash:{},inverse:l.program(12,m,t),fn:l.program(7,h,t),data:t}))||0===s?s:""}function h(e,t){var s,a="";return a+='<div class="js-carousel-item-image module--carousel__image',((s=i.if.call(e,e&&e.centerImage,{hash:{},inverse:l.noop,fn:l.program(8,p,t),data:t}))||0===s)&&(a+=s),a+='"',((s=i.unless.call(e,e&&e.isSingleVideoModule,{hash:{},inverse:l.noop,fn:l.program(10,u,t),data:t}))||0===s)&&(a+=s),a+="></div>"}function p(e,t){return" is-center-image"}function u(e,t){var s="";return s+="style=\"background-image:url('"+r(i.imageProxy.call(e,e&&e.image,e&&e.imageProxyOps,{hash:{},data:t}))+"')\""}function m(e,t){var s,a="";return((s=i.if.call(e,e&&e.isNews,{hash:{},inverse:l.noop,fn:l.program(13,_,t),data:t}))||0===s)&&(a+=s),a+='<img class="js-carousel-item-image module--carousel__image',((s=i.if.call(e,e&&e.centerImage,{hash:{},inverse:l.noop,fn:l.program(8,p,t),data:t}))||0===s)&&(a+=s),a+='"',((s=i.unless.call(e,e&&e.isSingleVideoModule,{hash:{},inverse:l.noop,fn:l.program(15,f,t),data:t}))||0===s)&&(a+=s),a+="/>"}function _(e,t){return'<div class="module--carousel__placeholder js-carousel-item-img-placeholder ddgsi ddgsi-news"></div>'}function f(e,t){var s="";return s+='src="'+r(i.imageProxy.call(e,e&&e.image,e&&e.imageProxyOps,{hash:{},data:t}))+'"'}function g(e,t){var i,s="";return s+='<div class="image-labels__label ddgsi ddgsi-'+r(typeof(i=e&&e.labelIcon)===d?i.apply(e):i)+'"></div>'}function v(e,t){var i,s="";return s+='<div class="image-labels__label">'+r(typeof(i=e&&e.duration)===d?i.apply(e):i)+"</div>"}function w(e,t){var i;return(i=typeof(i=e&&e.excerpt)===d?i.apply(e):i)||0===i?i:""}function y(e,t){var i;return r(typeof(i=e&&e.excerpt)===d?i.apply(e):i)}function b(e,t){var s,a="";return a+='<span class="module--carousel__gray-text',((s=i.if.call(e,e&&e.bing,{hash:{},inverse:l.noop,fn:l.program(44,k,t),data:t}))||0===s)&&(a+=s),a+='">'+r(i.ellipsis.call(e,e&&e.textOnlySource,20,{hash:{},data:t}))+"</span>"}function k(e,t){return" one-line"}function S(e,t){var s,a="";return a+='<span class="module--carousel__source result__url">',((s=i.ellipsis.call(e,e&&e.source,20,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}return n+='<div class="module--carousel__item',((o=i.if.call(t,t&&t.showImage,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){return" has-image"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.extraRow,{hash:{},inverse:l.noop,fn:l.program(3,(function(e,t){return" has-extra-row"}),a),data:a}))||0===o)&&(n+=o),n+='" data-link="'+r(typeof(o=t&&t.link)===d?o.apply(t):o)+'">',o=i.if.call(t,t&&t.showImage,{hash:{},inverse:l.noop,fn:l.program(5,(function(e,t){var s,a="";return a+='<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">',((s=i.if.call(e,e&&e.image,{hash:{},inverse:l.program(13,_,t),fn:l.program(6,c,t),data:t}))||0===s)&&(a+=s),a+='<div class="image-labels">',((s=i.if.call(e,e&&e.labelIcon,{hash:{},inverse:l.noop,fn:l.program(17,g,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.duration,{hash:{},inverse:l.noop,fn:l.program(19,v,t),data:t}))||0===s)&&(a+=s),a+="</div></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module--carousel__body"><a href="'+r(typeof(o=t&&t.link)===d?o.apply(t):o)+'" title="'+r(typeof(o=t&&t.title)===d?o.apply(t):o)+'" class="module--carousel__body__title',((o=i.if.call(t,t&&t.oneRowTitle,{hash:{},inverse:l.noop,fn:l.program(21,(function(e,t){return" is-one-row"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isSingleVideoModule,{hash:{},inverse:l.noop,fn:l.program(23,(function(e,t){return" is-big"}),a),data:a}))||0===o)&&(n+=o),n+=' js-carousel-item-title">',o=i.if.call(t,t&&t.isNews,{hash:{},inverse:l.program(27,(function(e,t){var i;return r(typeof(i=e&&e.title)===d?i.apply(e):i)}),a),fn:l.program(25,(function(e,t){var i;return(i=typeof(i=e&&e.title)===d?i.apply(e):i)||0===i?i:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</a>",o=i.if.call(t,t&&t.showImage,{hash:{},inverse:l.program(29,(function(e,t){var s,a="";return a+='<div class="module--carousel__body__content js-carousel-item-content">',((s=i.if.call(e,e&&e.isNews,{hash:{},inverse:l.program(32,y,t),fn:l.program(30,w,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),fn:l.noop,data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.showDescription,{hash:{},inverse:l.noop,fn:l.program(34,(function(e,t){var i,s="";return s+='<div class="module--carousel__body__content is-short js-carousel-item-content">'+r(typeof(i=e&&e.description)===d?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="module--carousel__footer ',((o=i.if.call(t,t&&t.relativeTimeShort,{hash:{},inverse:l.noop,fn:l.program(36,(function(e,t){return"has-relative-time"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.showRating,{hash:{},inverse:l.noop,fn:l.program(38,(function(e,t){return" has-rating"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.extraRow,{hash:{},inverse:l.noop,fn:l.program(40,(function(e,t){var i,s="";return s+='<div class="module--carousel__extra-row">'+r(typeof(i=e&&e.extraRow)===d?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.unless.call(t,t&&t.hideSource,{hash:{},inverse:l.noop,fn:l.program(42,(function(e,t){var s,a="";return a+='<span class="module--carousel__more-at">',((s=i.favicon.call(e,e&&e.url,{hash:{},data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.textOnlySource,{hash:{},inverse:l.program(46,S,t),fn:l.program(43,b,t),data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.relativeTimeShort,{hash:{},inverse:l.noop,fn:l.program(48,(function(e,t){var i,s="";return s+='<span class="sep  tile__sep"></span><span class="tile__time">',((i=typeof(i=e&&e.relativeTimeShort)===d?i.apply(e):i)||0===i)&&(s+=i),s+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.onlyGrayText,{hash:{},inverse:l.noop,fn:l.program(50,(function(e,t){var s,a="";return a+='<span class="module--carousel__gray-text',((s=i.if.call(e,e&&e.bing,{hash:{},inverse:l.noop,fn:l.program(44,k,t),data:t}))||0===s)&&(a+=s),a+='">'+r(typeof(s=e&&e.onlyGrayText)===d?s.apply(e):s)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.showRating,{hash:{},inverse:l.noop,fn:l.program(52,(function(e,t){var i,s="";return s+='<div class="tile__rating"><span class="stars stars--'+r(typeof(i=e&&e.rating)===d?i.apply(e):i)+'"><i class="star stars__1"></i><i class="star stars__2"></i><i class="star stars__3"></i><i class="star stars__4"></i><i class="star stars__5"></i></span></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.carousel_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s;return(s=i.unless.call(e,e&&e.bing,{hash:{},inverse:d.noop,fn:d.program(35,h,t),data:t}))||0===s?s:""}function h(e,t){var i,s="";return((i=typeof(i=null==(i=e&&e.meta)||!1===i?i:i.secondaryText)===r?i.apply(e):i)||0===i)&&(s+=i),s+='<span class="sep"></span>'}function p(e,t){return"<span>&nbsp;•&nbsp;</span>"}return n+='<div class="module module--carousel module--carousel-'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+" js-module--"+l(typeof(o=t&&t.id)===r?o.apply(t):o),((o=i.if.call(t,t&&t.showMainSource,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return" has-main-source"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.bing,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return" bing"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.hasHiddenVertical,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return" has-hidden-vertical"}),a),data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.gridColumns,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var i,s="";return s+=" has-grid grid-"+l(typeof(i=e&&e.gridColumns)===r?i.apply(e):i)+"-cols"}),a),data:a}),(o||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isSlottedFirst,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){return" is-slotted-first"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.inVertical,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){return" is-in-vertical"}),a),data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.itemsPerPage,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var i,s="";return s+=" has-"+l(typeof(i=e&&e.itemsPerPage)===r?i.apply(e):i)+"-items-per-page"}),a),data:a}),(o||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isProducts,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){return" products-carousel"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.isWide,{hash:{},inverse:d.noop,fn:d.program(17,(function(e,t){return" is-wide"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.showPreview,{hash:{},inverse:d.noop,fn:d.program(19,(function(e,t){return" has-preview"}),a),data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.paCardSizeExpVariantClass,{hash:{},inverse:d.noop,fn:d.program(21,(function(e,t){var i,s="";return s+=" ",((i=typeof(i=e&&e.paCardSizeExpVariantClass)===r?i.apply(e):i)||0===i)&&(s+=i),s}),a),data:a}),(o||0===o)&&(n+=o),((o=i.if.call(t,t&&t.hasProductAdExtensions,{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){return" has-product-ad-extensions"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.showPlaceholder,{hash:{},inverse:d.noop,fn:d.program(25,(function(e,t){return" show-placeholder"}),a),data:a}))||0===o)&&(n+=o),n+='"data-testid="'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'-carousel-module"><div class="js-carousel-module-title module__header module__header--link is-hidden">',o=i.if.call(t,t&&t.icon_template,{hash:{},inverse:d.noop,fn:d.program(27,(function(e,t){var s,a="";return a+='<span class="module__header__icon">',((s=i.include.call(e,e&&e.icon_template,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<span class="module__header__label">',((o=typeof(o=t&&t.moduleHeader)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</span></div><div class="module--carousel__wrap">',((o=i.if.call(t,t&&t.showPreview,{hash:{},inverse:d.noop,fn:d.program(29,(function(e,t){return'<div class="module--carousel__preview-gradient module--carousel__preview-gradient--left js-carousel-module-preview-gradient-left is-hidden"></div>'}),a),data:a}))||0===o)&&(n+=o),n+='<div class="module--carousel__left js-carousel-module-left ddgsi ddgsi-left is-hidden"></div><div class="module--carousel__items js-carousel-module-items" data-testid="'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'-carousel-module-items"></div><div class="module--carousel__right js-carousel-module-right ddgsi ddgsi-right is-hidden" data-testid="carousel-next"></div>',((o=i.if.call(t,t&&t.showPreview,{hash:{},inverse:d.noop,fn:d.program(31,(function(e,t){return'<div class="module--carousel__preview-gradient module--carousel__preview-gradient--right js-carousel-module-preview-gradient-right"></div>'}),a),data:a}))||0===o)&&(n+=o),n+='</div><div class="js-carousel-module-more module__footer-carousel__container is-hidden"><a href="#" class="module__footer-carousel"><span class="module__footer-carousel__label">'+l(typeof(o=t&&t.moreText)===r?o.apply(t):o)+'<span class="module__footer-carousel__icon ddgsi ddgsi-right"></span></span></a></div>',o=i.if.call(t,t&&t.showMainSource,{hash:{},inverse:d.noop,fn:d.program(33,(function(e,t){var s,a="";return a+='<div class="module--carousel__main-source js-carousel-module-main-source">',((s=i.if.call(e,e&&e.isAffiliate,{hash:{},inverse:d.noop,fn:d.program(34,c,t),data:t}))||0===s)&&(a+=s),((s=i.moreAt.call(e,e&&e.meta,"none",{hash:{className:"zci__more-at js-carousel-module-more-at",dynamicMoreAtText:"0"},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module--carousel__footer-links js-carousel-module-footer-links is-hidden">',o=i.if.call(t,t&&t.sourceUrl,{hash:{},inverse:d.noop,fn:d.program(37,(function(e,t){var s,a="";return a+='<p class="module--carousel__attribution js-carousel-module-attribution">',((s=i.lp.call(e,"Instant Answer attribution","Source: %s%s%s",e&&e.openLinkTag,e&&e.sourceName,e&&e.closeLinkTag,{hash:{},data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.linkSeparator,{hash:{},inverse:d.noop,fn:d.program(38,p,t),data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.covid_19_cases=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){return'class="covid__table-row--match"'}return n+='<table class="covid__table"><tbody><tr><th class="covid__table-location">',((o=i.lp.call(t,"Covid 19 module","Location",{hash:{},data:a}))||0===o)&&(n+=o),n+="</th><th>",((o=i.lp.call(t,"Covid 19 module","Confirmed",{hash:{},data:a}))||0===o)&&(n+=o),n+="</th><th>",((o=i.lp.call(t,"Covid 19 module","Deaths",{hash:{},data:a}))||0===o)&&(n+=o),n+="</th><th>",((o=i.lp.call(t,"Covid 19 module","% Vaccinated",{hash:{},data:a}))||0===o)&&(n+=o),n+="</th><th>",((o=i.lp.call(t,"Covid 19 module","% Fully Vaccinated",{hash:{},data:a}))||0===o)&&(n+=o),n+="</th></tr>",o=i.each.call(t,t&&t.countries,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s,a="";return a+="<tr ",((s=i.if.call(e,e&&e.isCountryMatch,{hash:{},inverse:r.noop,fn:r.program(2,c,t),data:t}))||0===s)&&(a+=s),a+='><td class="covid__table-location">'+d(typeof(s=e&&e.location)===l?s.apply(e):s)+"</td><td>"+d(typeof(s=e&&e.cases)===l?s.apply(e):s)+"</td><td>"+d(typeof(s=e&&e.deaths)===l?s.apply(e):s)+"</td><td>"+d(typeof(s=e&&e.vaccinated)===l?s.apply(e):s)+"</td><td>"+d(typeof(s=e&&e.fully_vaccinated)===l?s.apply(e):s)+"</td></tr>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</tbody></table>"})),this.DDG.templates.covid_19=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i="";return i+="<li>"+l(typeof e===r?e.apply(e):e)+"</li>"}return n+='<div class="module ia-module-covid"><div class="module__title module__title__link">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</div><div class="module__nav"><div class="module__nav__item js-covid19-tab1" data-id="1">'+l(typeof(o=t&&t.tab1)===r?o.apply(t):o)+"</div>",o=i.if.call(t,t&&t.vaccines,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='<div class="module__nav__item js-covid19-tab5" data-id="5">'+l(typeof(i=e&&e.tab5)===r?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.symptoms,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<div class="module__nav__item js-covid19-tab3" data-id="3">'+l(typeof(i=e&&e.tab3)===r?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module__nav__item js-covid19-tab2" data-id="2">'+l(typeof(o=t&&t.tab2)===r?o.apply(t):o)+'</div><div class="module__nav__item js-covid19-tab4" data-id="4">'+l(typeof(o=t&&t.tab4)===r?o.apply(t):o)+'</div></div><div class="module__grey"><div class="js-covid19-overflow module__overflow" style="display: none;" /><div class="js-covid19-panel1 is-hidden"><div>'+l(typeof(o=t&&t.subtitle)===r?o.apply(t):o)+'</div><div class="covid__links">',o=i.each.call(t,t&&t.links,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var i,s="";return s+='<div><span class="covid__icon"><a href="'+l(typeof(i=e&&e.linkUrl)===r?i.apply(e):i)+'" title="'+l(typeof(i=e&&e.linkUrl)===r?i.apply(e):i)+'" class="js-covid19-link" rel="noopener"><img height="16" width="16" src="'+l(typeof(i=e&&e.iconURL)===r?i.apply(e):i)+'" class="covid_links--align"></a></span><a href="'+l(typeof(i=e&&e.linkUrl)===r?i.apply(e):i)+'" title="'+l(typeof(i=e&&e.linkUrl)===r?i.apply(e):i)+'" class="module__more-at js-covid19-link covid_links--align" rel="noopener">',((i=typeof(i=e&&e.linkText)===r?i.apply(e):i)||0===i)&&(s+=i),s+="</a></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="js-covid19-cases is-hidden" style="padding-top: 10px;"><div>'+l(typeof(o=t&&t.confirmed)===r?o.apply(t):o)+':</div><div class="covid__links"><div class="js-covid19-localrow is-hidden"><div class="flag-xs  flag-xs-'+l(typeof(o=t&&t.flagIcon)===r?o.apply(t):o)+'" style="display: inline-block;"></div><div style="display: inline-block; padding-left: 12px; vertical-align: text-bottom;"><span class="js-covid19-local"></span></div></div><div><div class="flag-xs  flag-xs-wt" style="display: inline-block;"></div><div style="display: inline-block; padding-left: 12px; vertical-align: text-bottom;"><span class="js-covid19-world"></span></div></div><a href="#" class="js-covid19-stats module__footer">'+l(typeof(o=t&&t.moreStatsText)===r?o.apply(t):o)+'</a></div></div></div><div class="covid__tips js-covid19-panel2 is-hidden"><div class="covid__tips"><div>'+l(typeof(o=null==(o=t&&t.tips)||!1===o?o:o.heading)===r?o.apply(t):o)+"</div><ul>",o=i.each.call(t,null==(o=t&&t.tips)||!1===o?o:o.items,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var i,s="";return s+="<li>",((i=typeof e===r?e.apply(e):e)||0===i)&&(s+=i),s+="</li>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</ul></div></div>",o=i.if.call(t,t&&t.vaccines,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var i,s="";return s+='<div class="js-covid19-panel5 is-hidden"><div class="covid__vaccines"><div>',((i=typeof(i=null==(i=e&&e.vaccines)||!1===i?i:i.text)===r?i.apply(e):i)||0===i)&&(s+=i),s+="</div></div></div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.symptoms,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var s,a="";return a+='<div class="js-covid19-panel3 is-hidden"><div class="covid__tips"><div>'+l(typeof(s=null==(s=e&&e.symptoms)||!1===s?s:s.heading)===r?s.apply(e):s)+"</div><ul>",((s=i.each.call(e,null==(s=e&&e.symptoms)||!1===s?s:s.items,{hash:{},inverse:d.noop,fn:d.program(12,c,t),data:t}))||0===s)&&(a+=s),a+="</ul></div></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="js-covid19-panel4 is-hidden covid__stats-panel"></div></div><div class="covid19__footer js-covid19-footer"><p>Updated <span class="js-covid19-updated" /> &#183; Source: <a href="https://en.wikipedia.org/wiki/Template:COVID-19_data/data" class="js-covid19-wiki">Wikipedia</a></p><p class="covid19__footer__separator js-covid19-footer-separator" style="display: none;">|</p><div class="js-covid19-feedback"></div></div><div class="module__toggle js-covid19-toggle" aria-hidden="true"><div class="module__toggle--more js-covid19-more"><span class="module__toggle__chevron">v</span></div><div class="module__toggle--less js-covid19-less"><span class="module__toggle__chevron module__toggle__chevron--collapse">v</span></div></div></div>'})),this.DDG.templates.custom_date_range_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="modal modal--popover  modal--popover--gray custom_date-modal"><a href="#" class="modal__overlay  js-modal-close"></a><div class="modal__wrap modal__wrap--custom_date"><div class="modal__box modal__box--custom_date modal__box--headed"><div class="js-custom_date-form"><div class="modal__box__content"><h6 class="custom_date__header">'+(0,this.escapeExpression)("function"==typeof(o=t&&t.header)?o.apply(t):o)+'</h6><a href="#" class="modal__close  js-modal-close">X</a><div class="custom_date__fields"><input class="frm__input custom_date__input js-custom-date-range-from" /><input class="frm__input custom_date__input js-custom-date-range-to" /></div><div class="js-custom-date-range-from-datepicker"></div><div class="js-custom-date-range-to-datepicker"></div><a href="#" class="btn btn--primary js-custom-date-range-apply">',((o=i.lp.call(t,"Custom date range filer","Apply",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></div></div></div></div></div>"})),this.DDG.templates.definitions=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<li class="module--definitions__definition">',((s=typeof(s=e&&e.text)===r?s.apply(e):s)||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.usage,{hash:{},inverse:d.noop,fn:d.program(11,h,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.related,{hash:{},inverse:d.noop,fn:d.program(13,p,t),data:t}))||0===s)&&(a+=s),a+="</li>"}function h(e,t){var i,s="";return s+=' <div class="module--definitions__usage">"',((i=typeof(i=e&&e.usage)===r?i.apply(e):i)||0===i)&&(s+=i),s+='"</div> '}function p(e,t){var s,a="";return a+=" ",((s=i.unless.call(e,e&&e.usage,{hash:{},inverse:d.noop,fn:d.program(14,u,t),data:t}))||0===s)&&(a+=s),a+=" Similar: ",((s=typeof(s=e&&e.related)===r?s.apply(e):s)||0===s)&&(a+=s),a+=" "}function u(e,t){return" <br> "}return n+='<div class="module ia-module--definitions has-content-height"><div class="module__content"><div class="module__title">'+l(typeof(o=t&&t.word)===r?o.apply(t):o)+" ",o=i.unless.call(t,t&&t.noPronunciation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='<span class="module--definitions__pronunciation js-definitions-pronunciation">',((i=typeof(i=e&&e.pronunciation)===r?i.apply(e):i)||0===i)&&(s+=i),s+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.unless.call(t,t&&t.noPronunciation,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i,s="";return s+='<span class="module--definitions__pronunciation-mobile js-definitions-pronunciation">',((i=typeof(i=e&&e.pronunciation)===r?i.apply(e):i)||0===i)&&(s+=i),s+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="module__audio">',((o=i.unless.call(t,t&&t.noAudio,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return'<span class="module--definitions__play js-definitions-play"></span>'}),a),data:a}))||0===o)&&(n+=o),n+="</div>",o=i.if.call(t,t&&t.pluralFormOf,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var i,s="";return s+='<p class="module--definitions__plural">Plural form of <span class="module--definitions__singular">'+l(typeof(i=e&&e.pluralFormOf)===r?i.apply(e):i)+"</span></p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.each.call(t,t&&t.collapsedDefinitionsByPartOfSpeech,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s,a="";return a+='<div class="module--definitions__collapsed-group"><h3 class="module--definitions__part-of-speech">'+l(typeof(s=e&&e.partOfSpeech)===r?s.apply(e):s)+"</h3><ol>",((s=i.each.call(e,e&&e.definitions,{hash:{},inverse:d.noop,fn:d.program(10,c,t),data:t}))||0===s)&&(a+=s),a+="</ol></div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.each.call(t,t&&t.definitionsByPartOfSpeech,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var s,a="";return a+='<div class="module--definitions__group"><h3 class="module--definitions__part-of-speech">'+l(typeof(s=e&&e.partOfSpeech)===r?s.apply(e):s)+"</h3><ol>",((s=i.each.call(e,e&&e.definitions,{hash:{},inverse:d.noop,fn:d.program(10,c,t),data:t}))||0===s)&&(a+=s),a+="</ol></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module--definitions__attribution"><div class="module--definitions__attribution-text">'+l(typeof(o=null==(o=t&&t.attribution)||!1===o?o:o.text)===r?o.apply(t):o)+'&nbsp;•&nbsp;<span class="module__attribution">More at <a href="'+l(typeof(o=null==(o=t&&t.attribution)||!1===o?o:o.url)===r?o.apply(t):o)+'" class="module__attribution-link js-definitions-link">Wordnik</a></span></div></div></div><div class="module__toggle js-definitions-toggle"><div class="module__toggle--more js-definitions-more"><span class="module__toggle__chevron">v</span></div><div class="module__toggle--less js-definitions-less"><span class="module__toggle__chevron module__toggle__chevron--collapse">v</span></div></div></div>'})),this.DDG.templates.directions_button=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){return' target="_blank" rel="noopener"'}function h(e,t){return"btn--primary"}return n+='<div class="dir-btn">',o=i.if.call(t,t&&t.showDirectionsIcon,{hash:{},inverse:d.program(4,(function(e,t){var s,a="";return a+='<a class="dir-btn__link btn ',((s=i.if.call(e,e&&e.isAddress,{hash:{},inverse:d.noop,fn:d.program(5,h,t),data:t}))||0===s)&&(a+=s),a+=' js-dir-btn-link" href="'+l(typeof(s=e&&e.directionsURL)===r?s.apply(e):s)+'" title="'+l(typeof(s=e&&e.directionsTitle)===r?s.apply(e):s)+'"',((s=i.if.call(e,null==(s=e&&e.answer)||!1===s?s:s.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+=">",((s=i.lp.call(e,"maps_places","Directions",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),fn:d.program(1,(function(e,t){var s,a="";return a+='<a class="js-dir-btn-link" href="'+l(typeof(s=e&&e.directionsURL)===r?s.apply(e):s)+'" title="'+l(typeof(s=e&&e.directionsTitle)===r?s.apply(e):s)+'"><div class="btn place-detail__cta-icon"></div><div class="place-detail__cta-text js-dir-btn-text" ',((s=i.if.call(e,null==(s=e&&e.answer)||!1===s?s:s.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+="><span>",((s=i.lp.call(e,"maps_places","Directions",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></div></a>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.directions_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="",r=this;function l(e,t){return"is-hidden"}return n+='<form class="module directions-module js-directions-module"><span class="is-hidden js-directions-module-privacy-link"><a class="feedback-prompt__link" target="_blank" href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"maps_places","Your actual location remains private",{hash:{},data:a}))||0===o)&&(n+=o),n+='</a>&nbsp;|&nbsp;</span><div class="directions-module__header ',((o=i.if.call(t,t&&t.canShowMap,{hash:{},inverse:r.noop,fn:r.program(1,l,a),data:a}))||0===o)&&(n+=o),n+='">',((o=i.lp.call(t,"directions","Directions",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="directions-module__search js-directions-module-search"></div><div class="directions-module__map ',((o=i.unless.call(t,t&&t.canShowMap,{hash:{},inverse:r.noop,fn:r.program(1,l,a),data:a}))||0===o)&&(n+=o),n+='"><div class="directions-module__map__inner js-directions-module-map"></div><span class="label mapkit-static__cta">',((o=i.l.call(t,"Open Map",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span></div><div class="directions-module__details js-directions-module-details"><div class="directions-module__cta dir-btn"><div class="dir-btn__link btn btn--primary is-disabled js-directions-module-cta">',((o=i.lp.call(t,"maps_maps_module","Get Directions",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div></div><div class="skeleton-loader js-directions-module-skeletonloader ',((o=i.unless.call(t,t&&t.canShowMap,{hash:{},inverse:r.noop,fn:r.program(1,l,a),data:a}))||0===o)&&(n+=o),n+='"><div class="skeleton-loader__row1"><div class="skeleton-loader__section4"><div class="skeleton-loader__box skeleton-loader__box2"></div></div><div class="skeleton-loader__section5"><div class="skeleton-loader__box skeleton-loader__box2"></div></div></div><div class="skeleton-loader__row2"><div class="skeleton-loader__section2"><div class="skeleton-loader__box skeleton-loader__box4"></div></div></div></div></div></form>'})),this.DDG.templates.directions_print_error_message=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="directions-print-error-message is-hidden"><div class="directions-print-error-message__logo"><img src="/assets/logo_print.svg" /></div><div class="directions-print-error-message__text">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"directions","To print directions:%sGo back to the map.%sSelect the route you want to print.%sClick the print icon.%s","<ol><li>","</li><li>","</li><li>","</li></ol>",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="directions-print-error-message__image"><img src="/assets/maps/directions-print.png" /></div></div>'})),this.DDG.templates.directions_print_preview=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="directions-print-preview modal modal--popover js-popover"><div class="directions-print-preview__overlay modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="directions-print-preview__wrap modal__box"><div class="directions-print-preview__close ddgsi ddgsi-close-bold js-modal-close"></div><div class="modal__box__content directions-print-preview__content"><div class="directions-print-preview__content__header"><h1 class="directions-print-preview__content__header__title">',((o=i.l.call(t,"Print Preview",{hash:{},data:a}))||0===o)&&(n+=o),n+='</h1></div><div class="directions-print-preview__content__body js-directions-print-preview-body"><div class="directions-print-preview__print-header"><div class="directions-print-preview__print-header__title"><div class="directions-print-title"><div class="directions-table"><div class="directions-col directions-col--icon"><span class="directions-col--icon__image directions-col--icon__image--'+l(typeof(o=null==(o=null==(o=null==(o=t&&t.model)||!1===o?o:o.directionsModel)||!1===o?o:o.currentTransportType)||!1===o?o:o.id)===r?o.apply(t):o)+'"></span></div><div class="directions-col directions-col--content"><div class="directions-route-overview__heading"><span class="directions-route-overview__heading__primary">'+l(typeof(o=null==(o=null==(o=null==(o=t&&t.model)||!1===o?o:o.directionsModel)||!1===o?o:o.currentTransportType)||!1===o?o:o.printDisplay)===r?o.apply(t):o)+'</span></div><div class="directions-route-overview__item">'+l(typeof(o=t&&t.start)===r?o.apply(t):o)+' <span class="ddgsi ddgsi-arrow-right"></span> '+l(typeof(o=t&&t.end)===r?o.apply(t):o)+'</div><div class="directions-route-overview__item">'+l(typeof(o=null==(o=t&&t.model)||!1===o?o:o.expectedTravelTimeFormatted)===r?o.apply(t):o)+" &middot; "+l(typeof(o=null==(o=t&&t.model)||!1===o?o:o.distanceFormatted)===r?o.apply(t):o)+'</div></div></div></div></div><div class="directions-print-preview__print-header__logo"><img src="/assets/logo_print.svg" /></div></div><div class="directions-print-preview__print-map js-directions-print-preview-map"></div><div class="directions-print-preview__print-steps js-directions-print-preview-steps"></div></div></div><div class="directions-print-preview__footer"><div class="directions-print-preview__footer__cta btn js-directions-print-preview-cta">',((o=i.lp.call(t,"directions","Print Directions",{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div></div></div></div>"})),this.DDG.templates.directions_results=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<div class="directions-results js-directions-results"><p class="directions-results__initial-message js-directions-results-initial-message ',((o=i.if.call(t,t&&t.isRouting,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"is-hidden"}),a),data:a}))||0===o)&&(n+=o),n+='">',((o=i.lp.call(t,"directions","Add a starting point and destination to find a route.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><div class="directions-results__external-provider is-hidden js-directions-results-external-provider"><a href="">',((o=i.lp.call(t,"directions","Navigate in",{hash:{},data:a}))||0===o)&&(n+=o),n+=" "+r("function"==typeof(o=t&&t.externalMapProviderDisplay)?o.apply(t):o)+"</a></div></div>"})),this.DDG.templates.directions_route_info=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="directions-route-info"><div><span class="directions-route-info__heading__primary ',((o=i.if.call(t,t&&t.hasResults,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"has-results"}),a),data:a}))||0===o)&&(n+=o),n+=' js-directions-module-traveltime">',o=i.if.call(t,t&&t.hasResults,{hash:{},inverse:d.program(5,(function(e,t){var s;return(s=i.lp.call(e,"directions","No Available Routes",{hash:{},data:t}))||0===s?s:""}),a),fn:d.program(3,(function(e,t){var i,s="";return s+=l(typeof(i=null==(i=e&&e.fastestRoute)||!1===i?i:i.expectedTravelTimeFormatted)===r?i.apply(e):i)+'<span class="directions-route-info__transport directions-route-info__transport--'+l(typeof(i=null==(i=e&&e.currentTransportType)||!1===i?i:i.id)===r?i.apply(e):i)+'"></span>'}),a),data:a}),(o||0===o)&&(n+=o),n+='</span></div><div class="directions-route-info__heading__secondary js-directions-module-traveldistance">',o=i.if.call(t,t&&t.hasResults,{hash:{},inverse:d.program(9,(function(e,t){var s;return(s=i.lp.call(e,"directions","No available routes between these locations",{hash:{},data:t}))||0===s?s:""}),a),fn:d.program(7,(function(e,t){var i;return l(typeof(i=null==(i=e&&e.fastestRoute)||!1===i?i:i.distanceFormatted)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.directions_route_line=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="directions-route-line js-directions-route-line"></div>'})),this.DDG.templates.directions_route_overview=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;return n+='<div class="directions-route-overview js-directions-route-overview ',((o=i.if.call(t,t&&t.isSelected,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"is-selected"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="directions-table"><div class="directions-col directions-col--icon"><span class="directions-col--icon__image directions-col--icon__image--'+d(typeof(o=null==(o=null==(o=t&&t.directionsModel)||!1===o?o:o.currentTransportType)||!1===o?o:o.id)===l?o.apply(t):o)+'"></span></div><div class="directions-col directions-col--content"><div class="directions-route-overview__heading"><span class="directions-route-overview__heading__primary">'+d(typeof(o=t&&t.expectedTravelTimeFormatted)===l?o.apply(t):o)+'</span><span class="directions-route-overview__heading__secondary">&nbsp;('+d(typeof(o=t&&t.distanceFormatted)===l?o.apply(t):o)+')</span></div><div class="directions-route-overview__item">',((o=i.lp.call(t,"directions","Via",{hash:{},data:a}))||0===o)&&(n+=o),n+=" "+d(typeof(o=t&&t.name)===l?o.apply(t):o),o=i.if.call(t,t&&t.isFastestRoute,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){var s,a="";return a+=" &middot; ",((s=i.lp.call(e,"directions","Fastest route",{hash:{},data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="directions-route-overview__toggle js-directions-route-overview-toggle"><div class="js-directions-route-overview-toggle-show"><svg class="directions-route-overview__icon" width="12" height="12" viewBox="0 0 11 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.153 9.75l1.392 1.393L10.688 6 5.545.857 4.153 2.25 7.903 6l-3.75 3.75z"/></svg>',((o=i.lp.call(t,"directions","Show Steps",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="js-directions-route-overview-toggle-hide is-hidden"><svg class="directions-route-overview__icon" width="12" height="12" viewBox="0 0 12 11"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 4.153L.857 5.545 6 10.688l5.143-5.143L9.75 4.153 6 7.903l-3.75-3.75z"/></svg>',((o=i.lp.call(t,"directions","Hide Steps",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div></div></div></div><div class="directions-route-overview__print js-directions-route-overview-print" ',((o=i.if.call(t,t&&t.isSelected,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){return'data-testid="print-directions-cta"'}),a),data:a}))||0===o)&&(n+=o),n+='><svg class="directions-route-overview__print__icon" width="16" height="16"><path d="M12.5 4.75h-.25V3.5a1.76 1.76 0 00-1.75-1.75h-5A1.76 1.76 0 003.75 3.5v1.25H3.5A1.76 1.76 0 001.75 6.5v4a1.76 1.76 0 001.75 1.75h.25v.25a1.76 1.76 0 001.75 1.75h5a1.76 1.76 0 001.75-1.75v-.25h.25a1.76 1.76 0 001.75-1.75v-4a1.76 1.76 0 00-1.75-1.75zM5.25 3.5a.25.25 0 01.25-.25h5a.25.25 0 01.25.25v1.25h-5.5V3.5zm5.5 9a.25.25 0 01-.25.25h-5a.25.25 0 01-.25-.25v-2a.25.25 0 01.25-.25h5a.25.25 0 01.25.25v2z"/></svg><span class="directions-route-overview__print__text">',((o=i.l.call(t,"Print",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></div></div>"})),this.DDG.templates.directions_route_step_list=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="directions-route-step-list js-directions-route-step-list ',((o=(i=this.merge(i,e.helpers)).unless.call(t,t&&t.isExpanded,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"is-hidden"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="directions-route-step-list__container js-directions-route-step-list-container"></div></div>'})),this.DDG.templates.directions_route_step=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l="function",d=this;return n+='<div class="directions-route-step directions-table js-directions-route-step"><div class="directions-col directions-col--icon">',o=i.if.call(t,t&&t.imageUrl,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s="";return s+='<img class="directions-col--icon__image" src="'+r(i.imageProxy.call(e,e&&e.imageUrl,{hash:{},data:t}))+'"/>'}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="directions-col directions-col--content"><div class="directions-route-step__heading">'+r(typeof(o=t&&t.stepHeader)===l?o.apply(t):o)+'</div><div class="directions-route-step__instructions">',o=i.if.call(t,t&&t.instructions,{hash:{},inverse:d.program(5,(function(e,t){return"&nbsp;"}),a),fn:d.program(3,(function(e,t){var i;return r(typeof(i=e&&e.instructions)===l?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+="</div></div></div>"})),this.DDG.templates.directions_route=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="directions-route js-directions-route"></div>'})),this.DDG.templates.directions_search=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="",r=this;function l(e,t){return"form"}function d(e,t){return"div"}return n+="<",((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.isMapExpanded,{hash:{},inverse:r.program(3,d,a),fn:r.program(1,l,a),data:a}))||0===o)&&(n+=o),n+=' class="directions-search js-directions-search"><div class="directions-search__mode"><div class="directions-search__mode__type directions-search__mode__type--drive js-directions-search-drive is-selected"><span class="btn directions-search__mode__type__icon directions-search__mode__type__icon--drive"></span><span class="directions-search__mode__type__text">',((o=i.lp.call(t,"directions","Driving",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span></div><div class="directions-search__mode__type directions-search__mode__type--walk js-directions-search-walk"><span class="btn directions-search__mode__type__icon directions-search__mode__type__icon--walk"></span><span class="directions-search__mode__type__text">',((o=i.lp.call(t,"directions","Walking",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span></div></div><div class="directions-search__input-container"><div class="directions-search__icons"><div class="directions-search__icon__start"></div><div class="directions-search__icon__route"><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div></div><div class="directions-search__icon__end"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.1917 0.910032C6.66239 0.910032 3.63672 3.43141 3.63672 7.21291C3.63672 11.4987 10.1917 18.5586 10.1917 18.5586C10.1917 18.5586 16.7468 11.4993 16.7468 7.21291C16.7468 3.43082 13.7211 0.910032 10.1917 0.910032ZM7.67034 7.41528C7.67034 6.00329 8.77975 4.89385 10.1917 4.89385C11.6037 4.89385 12.7131 6.00329 12.7131 7.41528C12.7131 8.82723 11.6037 9.93667 10.1917 9.93667C8.77975 9.93667 7.67034 8.82727 7.67034 7.41528Z"></path></svg></div></div><div class="directions-search__inputs js-directions-search-inputs"></div><div class="directions-search__reverse js-directions-search-reverse is-hidden"><a class="directions-search__reverse__button js-directions-search-reverse-cta" title="',((o=i.lp.call(t,"directions","Reverse origin and destination",{hash:{},data:a}))||0===o)&&(n+=o),n+='"><span class="directions-search__reverse__button__icon"></span><span class="simple-tooltip js-directions-search-reverse-tooltip" data-tooltip="below" data-tooltip-text="',((o=i.lp.call(t,"directions","Origin and destination reversed",{hash:{},data:a}))||0===o)&&(n+=o),n+='"/></a> </div></div></',((o=i.if.call(t,t&&t.isMapExpanded,{hash:{},inverse:r.program(3,d,a),fn:r.program(1,l,a),data:a}))||0===o)&&(n+=o),n+=">"})),this.DDG.templates.directions_sidebar_mobile=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class=\'js-vertical-map-sidebar-mobile\' data-testid="maps-vertical-sidebar-header"><div class="js-vertical-map-sidebar-mobile-header vertical--map__sidebar__header--mobile"><div class="js-vertical-map-sidebar-mobile-header-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-closebtn"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-sidebar-mobile-back" aria-label="back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a>\x3c!-- Searchbar gets appended here --\x3e</div></div><div class="vertical--map__mobile-toggle js-vertical-map-sidebar-mobile-toggle" data-testid="map-sidebar-toggle-mobile"><span class="vertical--map__mobile-toggle-icon vertical--map__mobile-toggle-icon--map js-vertical-map-sidebar-mobile-toggle-icon"></span><span class="vertical--map__mobile-toggle-text js-vertical-map-sidebar-mobile-toggle-text">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"directions","Show map",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></div></div>"})),this.DDG.templates.directions_sidebar=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="js-vertical-map-sidebar-header-wrapper" data-testid="maps-vertical-sidebar-header"><div class="vertical--map__type-container js-vertical-map-type-container"></div><div class="vertical--map__sidebar__header"><div class="js-vertical-map-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-closebtn"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-back" aria-label="back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a></div></div></div>'})),this.DDG.templates.directions_skeleton_loader=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="",r=this;return n+='<div class="skeleton-loader ',((o=(i=this.merge(i,e.helpers)).unless.call(t,t&&t.isRouting,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"is-hidden"}),a),data:a}))||0===o)&&(n+=o),n+='">',((o=i.each.call(t,t&&t.loadItems,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return'<div class="skeleton-loader__item"><div class="skeleton-loader__item__left"><div class="skeleton-loader__box skeleton-loader__box1"></div></div><div class="skeleton-loader__item__right"><div class="skeleton-loader__section1"><div class="skeleton-loader__box skeleton-loader__box2"></div></div><div class="skeleton-loader__section2"><div class="skeleton-loader__box skeleton-loader__box3"></div></div><div class="skeleton-loader__section3"><div class="skeleton-loader__box skeleton-loader__box4"></div></div></div></div>'}),a),data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.disclaimer_ads_tooltip=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+="<span>"+(0,this.escapeExpression)("function"==typeof(o=t&&t.text)?o.apply(t):o)+"</span>"})),this.DDG.templates.disinformation_warning=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){return'<span class="disinformation-warning--separator">|</span>'}return n+='<div class="disinformation-warning--wrapper"><div class="module ia-module--disinformation-warning"><div class="module__content"><div class="disinformation-warning--content"><div class="disinformation-warning--right-col"><img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2Fthumb%2F4%2F4f%2F2022_Russian_invasion_of_Ukraine.svg%2F600px-2022_Russian_invasion_of_Ukraine.svg.png" /></div><div class="module__text disinformation-warning--left-col"><div class="module__title">'+l(typeof(o=t&&t.title)===r?o.apply(t):o)+'</div>"'+l(typeof(o=t&&t.text)===r?o.apply(t):o)+'"&nbsp;<a class="module__link disinformation-warning--source js-disinformation-warning-source" href="'+l(typeof(o=t&&t.sourceLink)===r?o.apply(t):o)+'">'+l(typeof(o=t&&t.moreAtText)===r?o.apply(t):o)+"</a></div></div></div></div>",o=i.if.call(t,t&&t.showFooter,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="module__more-at-and-feedback js-disinformation-warning-feedbackContainer"><p class="module__more-at"><span class="zci__more-at"><a href="'+l(typeof(s=e&&e.sourceLink)===r?s.apply(e):s)+'" class="js-disinformation-warning-source">',((s=i.l.call(e,"More at %s ",e&&e.moreAtText,{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></span></p>",((s=i.if.call(e,e&&e.showSeparator,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.feedback_button=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="btn feedback-btn" data-testid="feedback-start"><a href="javascript:;" class="feedback-btn__send js-feedback-start">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"feedback form","Share Feedback",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a>",((o=i.unless.call(t,t&&t.noFaces,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return'<div class="feedback-btn__icon-wrap is-hidden js-feedback-icon-wrap"><a href="javascript:;" class="feedback-btn__icon ddgsi feedback-btn__icon--love js-feedback-love" aria-label="share positive feedback"></a><a href="javascript:;" class="feedback-btn__icon ddgsi feedback-btn__icon--nolove js-feedback-nolove" aria-label="share negative feedback"></a></div>'}),a),data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.feedback_issue_list=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression;return o=i.each.call(t,t&&t.issues,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<label class="feedback-modal__radio"><input class="js-feedback-radio feedback-modal__radio__input" type="radio" value="'+r(typeof(i=e&&e.val)===n?i.apply(e):i)+'" name="feedback-issues"/>'+r(typeof(i=e&&e.text)===n?i.apply(e):i)+"</label>"}),a),data:a}),o||0===o?o:""})),this.DDG.templates.feedback_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<option value="'+l(typeof(i=e&&e.val)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.text)===r?i.apply(e):i)+"</option>"}return n+='<div class="modal modal--popover  modal--popover--gray feedback-modal"><a href="#" class="modal__overlay  js-modal-close"></a><div class="modal__wrap modal__wrap--feedback"><div class="modal__box modal__box--feedback modal__box--headed"><div class="js-feedback-form" data-testid="feedback-form"><header class="modal__box__header modal__box__header--form">',o=i.if.call(t,t&&t.isDuckChat,{hash:{},inverse:d.program(3,(function(e,t){var s,a="";return a+="<h5>",((s=i.lp.call(e,"feedback form","Help DuckDuckGo%s improve searches like this","<br/>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</h5>"}),a),fn:d.program(1,(function(e,t){var s,a="";return a+="<h5>",((s=i.lp.call(e,"Title of feedback form","Help us make AI Chat better",{hash:{},data:t}))||0===s)&&(a+=s),a+="</h5>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</header><div class="modal__box__content">                    <div class="frm frm--feedback">',o=i.if.call(t,t&&t.defaultCategory,{hash:{},inverse:d.program(7,(function(e,t){var s,a="";return a+='<div class="frm__label feedback-modal__label js-feedback-suggestion-label"></div><div class="frm__select feedback-modal__input feedback-modal__input--dropdown"><select class="js-feedback-dropdown">',((s=i.each.call(e,e&&e.options,{hash:{},inverse:d.noop,fn:d.program(8,c,t),data:t}))||0===s)&&(a+=s),a+="</select></div>"}),a),fn:d.program(5,(function(e,t){var i,s="";return s+='<div class="frm__label feedback-modal__label feedback-modal__subtitle">'+l(typeof(i=e&&e.subtitleText)===r?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="js-feedback-issues is-invisible feedback-modal__issues is-invisible"></div>',((o=i.if.call(t,t&&t.isDuckAssist,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){return'<div class="js-feedback-positives is-invisible feedback-modal__issues is-invisible"></div><div class="feedback-modal__duckassist-settings-link">Visit <a href="/settings#aifeatures" aria-label="DuckAssist Settings" title="DuckAssist Settings">DuckAssist Settings</a> to adjust how this feature works or turn it off.</div>','<div class="js-feedback-positives is-invisible feedback-modal__issues is-invisible"></div><div class="feedback-modal__duckassist-settings-link">Visit <a href="/settings#aifeatures" aria-label="DuckAssist Settings" title="DuckAssist Settings">DuckAssist Settings</a> to adjust how this feature works or turn it off.</div>'}),a),data:a}))||0===o)&&(n+=o),n+='<textarea placeholder="',((o=i.l.call(t,"Feedback",{hash:{},data:a}))||0===o)&&(n+=o),n+='" class="frm__text is-hidden feedback-modal__input feedback-modal__input--text js-feedback-suggestion" maxlength="'+l(typeof(o=t&&t.textareaMax)===r?o.apply(t):o)+'"></textarea><a class="module__link is-hidden feedback-single-place-modal__manage js-feedback-manage" href="#" target="_blank" rel="noopener"></a><a href="#" data-testid="feedback-form-submit" class="feedback-modal__submit is-disabled btn btn--primary js-feedback-submit">',((o=i.l.call(t,"Submit",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a>",o=i.if.call(t,t&&t.singlePlaceDisclaimerText,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var i,s="";return s+='<div class="feedback-single-place-modal__disclaimer">'+l(typeof(i=e&&e.singlePlaceDisclaimerText)===r?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.isDuckChat,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var s,a="";return a+='<div class="feedback-duckchat-modal__disclaimer">',((s=i.lp.call(e,"Disclaimer text at the bottom of the feedback form.","DuckDuckGo AI Chat is in Beta, it may display inaccurate or offensive information.",{hash:{},data:t}))||0===s)&&(a+=s),a+="<hr/>",((s=i.lp.call(e,"Disclaimer text at the bottom of the feedback form.","If you have concerns about our chat providers or any particular chat response, you can also reach out directly to %s and %s support pages.",'<a class="feedback-external__link" href="https://openai.com/form/chat-model-feedback" rel="noopener" target="_blank">OpenAI</a>','<a class="feedback-external__link" href="https://support.anthropic.com/en/articles/8106465-our-approach-to-user-safety" rel="noopener" target="_blank">Anthropic</a>',{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<a href="#" class="modal__close  js-modal-close">X</a></div></div></div><div class="js-feedback-success" data-testid="feedback-success"><header class="modal__box__header modal__box__header--success"><h5>',((o=i.lp.call(t,"feedback form","Feedback Sent Successfully",{hash:{},data:a}))||0===o)&&(n+=o),n+='</h5></header><div class="modal__box__content">                    <p class="feedback-modal__message js-feedback-success-message">',((o=i.l.call(t,"Thank you!",{hash:{},data:a}))||0===o)&&(n+=o),n+=" ",((o=i.lp.call(t,"feedback form","We use feedback like this to improve DuckDuckGo.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><a href="#"  class="modal__close  js-modal-close">X</a></div></div></div></div></div>'})),this.DDG.templates.feedback_positive_list=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression;return o=i.each.call(t,t&&t.positives,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<label class="feedback-modal__radio"><input class="js-feedback-radio feedback-modal__radio__input" type="radio" value="'+r(typeof(i=e&&e.val)===n?i.apply(e):i)+'" name="feedback-positives"/>'+r(typeof(i=e&&e.text)===n?i.apply(e):i)+"</label>"}),a),data:a}),o||0===o?o:""})),this.DDG.templates.feedback_prompt=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression,l=this;function d(e,t){return'data-handled-by-react="true"'}function c(e,t){var s,a="";return a+='<p data-testid="feedback-prompt" class="feedback-prompt feedback-prompt__thumbs"><span>'+r(typeof(s=e&&e.promptText)===n?s.apply(e):s)+'</span><a href="#" class="js-feedback-prompt-yes feedback-prompt__thumb" ',((s=i.if.call(e,e&&e.disableNrl,{hash:{},inverse:l.noop,fn:l.program(6,h,t),data:t}))||0===s)&&(a+=s),a+='><svg style="color: #666666;" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.708 10.125h.386c.226 0 .374-.08.497-.222.142-.161.262-.42.352-.777.179-.716.182-1.605.182-2.282 0-.314.195-.517.342-.617.147-.1.315-.153.461-.182.299-.06.661-.052 1.01.028a2.2 2.2 0 0 1 1.039.537c.317.307.523.733.523 1.265 0 .241-.03.46-.086.658a2.835 2.835 0 0 0-.098.456c.041.006.1.01.184.01L16.3 9a1.497 1.497 0 0 1 1.34 2.166l-.058.116c.56.617.518 1.62-.177 2.177l-.011.009.01.02a1.5 1.5 0 0 1-.436 1.868l-.036.027.027.1a1.26 1.26 0 0 1-.167 1.03 1.678 1.678 0 0 1-1.62.733l-5.484-.737c-.21.435-.656.741-1.181.741H7.313A1.313 1.313 0 0 1 6 15.937v-4.874c0-.725.588-1.313 1.313-1.313h.477c.355 0 .68.142.918.375Zm2.326-.726c.189-.753.213-1.624.216-2.265.119-.01.274-.002.437.035.213.05.391.138.508.25.105.102.18.238.18.456 0 .146-.018.26-.044.353-.059.207-.11.417-.131.612-.021.19-.021.422.072.646.224.54.78.639 1.228.639h2.8a.372.372 0 0 1 .333.538l-.261.523c-.13.26-.04.578.208.73l.084.052c.221.136.24.45.038.613l-.366.292a.563.563 0 0 0-.152.691l.214.428a.375.375 0 0 1-.109.467l-.34.256a.562.562 0 0 0-.203.597l.128.467a.135.135 0 0 1-.018.11.553.553 0 0 1-.534.242l-5.57-.748-.608-4.134c.546-.013.98-.245 1.295-.606.307-.352.485-.805.595-1.244Zm-3.909 1.664c0-.104.084-.188.188-.188h.477c.093 0 .172.068.185.16l.717 4.875a.188.188 0 0 1-.185.215H7.313a.188.188 0 0 1-.188-.188v-4.874Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="#fff" style="fill:#fff;fill-opacity:1" transform="translate(6 6)" d="M0 0h12v12H0z"/></clipPath></defs></svg></a><a href="#" class="js-feedback-prompt-no feedback-prompt__thumb" ',((s=i.if.call(e,e&&e.disableNrl,{hash:{},inverse:l.noop,fn:l.program(6,h,t),data:t}))||0===s)&&(a+=s),a+='><svg style="color: #666666;" width="24" height="24"  fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.708 13.875h.386c.226 0 .374.08.497.222.142.161.262.42.352.777.179.716.182 1.605.182 2.282 0 .314.195.517.342.617.147.1.315.153.461.182.299.06.661.052 1.01-.028a2.2 2.2 0 0 0 1.039-.537c.317-.307.523-.733.523-1.265 0-.241-.03-.46-.086-.658a2.837 2.837 0 0 1-.098-.456c.041-.006.1-.011.184-.011h2.8a1.497 1.497 0 0 0 1.34-2.166l-.058-.116a1.501 1.501 0 0 0-.177-2.177l-.011-.009.01-.02a1.5 1.5 0 0 0-.436-1.868l-.036-.027.027-.1a1.26 1.26 0 0 0-.167-1.03 1.678 1.678 0 0 0-1.62-.733l-5.484.737a1.312 1.312 0 0 0-1.181-.741H7.313C6.588 6.75 6 7.338 6 8.063v4.874c0 .725.588 1.313 1.313 1.313h.477c.355 0 .68-.142.918-.375Zm2.326.726c.189.753.213 1.624.216 2.265.119.01.274.002.437-.035.213-.05.391-.138.508-.25a.59.59 0 0 0 .18-.456c0-.146-.018-.26-.044-.353a3.907 3.907 0 0 1-.131-.612 1.304 1.304 0 0 1 .072-.646c.224-.54.78-.639 1.228-.639h2.8a.372.372 0 0 0 .333-.538l-.261-.523a.563.563 0 0 1 .208-.73l.084-.052a.375.375 0 0 0 .038-.613l-.366-.292a.563.563 0 0 1-.152-.691l.214-.428a.375.375 0 0 0-.109-.467l-.34-.256a.562.562 0 0 1-.203-.597l.128-.467a.135.135 0 0 0-.018-.11.553.553 0 0 0-.534-.242l-5.57.748-.608 4.134c.546.013.98.245 1.295.606.307.351.485.805.595 1.244Zm-3.909-1.664c0 .104.084.188.188.188h.477a.188.188 0 0 0 .185-.16l.717-4.875a.187.187 0 0 0-.185-.215H7.313a.188.188 0 0 0-.188.188v4.874Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="#fff" style="fill:#fff;fill-opacity:1" transform="translate(6 6)" d="M0 0h12v12H0z"/></clipPath></defs></svg></a></p>'}function h(e,t){return' data-handled-by-react="true"'}function p(e,t){var s,a="";return a+='<p data-testid="feedback-prompt" class="feedback-prompt ',((s=i.if.call(e,e&&e.asButton,{hash:{},inverse:l.noop,fn:l.program(9,u,t),data:t}))||0===s)&&(a+=s),a+='"><a href="#" class="feedback-prompt__link js-feedback-prompt-generic" ',((s=i.if.call(e,e&&e.disableNrl,{hash:{},inverse:l.noop,fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),a+=">"+r(typeof(s=e&&e.promptText)===n?s.apply(e):s)+"</a></p>"}function u(e,t){return"btn"}return o=i.if.call(t,t&&t.showYesNo,{hash:{},inverse:l.program(4,(function(e,t){var s;return(s=i.if.call(e,e&&e.showThumbs,{hash:{},inverse:l.program(8,p,t),fn:l.program(5,c,t),data:t}))||0===s?s:""}),a),fn:l.program(1,(function(e,t){var s,a="";return a+='<p data-testid="feedback-prompt" class="feedback-prompt">'+r(typeof(s=e&&e.promptText)===n?s.apply(e):s)+'<a href="#" class="feedback-prompt__link js-feedback-prompt-yes" ',((s=i.if.call(e,e&&e.disableNrl,{hash:{},inverse:l.noop,fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),a+=">",((s=i.l.call(e,"Yes",{hash:{},data:t}))||0===s)&&(a+=s),a+='</a><a href="#" class="feedback-prompt__link js-feedback-prompt-no" ',((s=i.if.call(e,e&&e.disableNrl,{hash:{},inverse:l.noop,fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),a+=">",((s=i.l.call(e,"No",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></p>"}),a),data:a}),o||0===o?o:""})),this.DDG.templates.footer=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l=this;return n+='<div class="footer">\x3c!-- This only serves as container. Footer is now a React component --\x3e<div class="footer__addons">',o=i.if.call(t,t&&t.showPrivacySimplified,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var s,a="";return a+='<p class="footer__text js-footer-tagline">',((s=i.l.call(e,"Privacy, simplified.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="',o=i.if.call(t,t&&t.jsFooterFeedbackClassName,{hash:{},inverse:l.program(5,(function(e,t){return"js-footer-feedback-btn-wrap"}),a),fn:l.program(3,(function(e,t){var i;return r("function"==typeof(i=e&&e.jsFooterFeedbackClassName)?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"></div></div></div>'})),this.DDG.templates.forecast_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression,l=this;function d(e,t){var s,a="";return a+='<div class="module__warnings"><a href="'+r(typeof(s=null==(s=e&&e.weatherAlert)||!1===s?s:s.uri)===n?s.apply(e):s)+'" class="module__weather-warning module__weather-warning ',((s=i.unless.call(e,null==(s=e&&e.weatherAlert)||!1===s?s:s.isAdvisory,{hash:{},inverse:l.noop,fn:l.program(3,c,t),data:t}))||0===s)&&(a+=s),a+='" target="_blank"><svg class="module__weather-warning__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 4.75C9.75 5.30228 9.30229 5.75 8.75 5.75C8.19771 5.75 7.75 5.30228 7.75 4.75C7.75 4.19772 8.19771 3.75 8.75 3.75C9.30229 3.75 9.75 4.19772 9.75 4.75Z" fill="currentColor" /><path d="M8.99244 7.85607C9.05101 7.44602 8.76609 7.06612 8.35604 7.00754C7.94599 6.94896 7.56609 7.23389 7.50751 7.64394L7.00751 11.1439C6.94893 11.554 7.23386 11.9339 7.64391 11.9925C8.05396 12.051 8.43386 11.7661 8.49244 11.3561L8.99244 7.85607Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5Z" fill="currentColor" /></svg><div class="module__weather-warning__title">'+r(typeof(s=null==(s=e&&e.weatherAlert)||!1===s?s:s.title)===n?s.apply(e):s)+" — "+r(typeof(s=null==(s=e&&e.weatherAlert)||!1===s?s:s.source)===n?s.apply(e):s)+"</div></a></div>"}function c(e,t){return"module__weather-warning--red"}function h(e,t){return"has-alert"}function p(e,t){return"module__temperature-units--ie11"}function u(e,t){return"module__temperature-unit--on text--primary"}function m(e,t){var s,a="";return a+='<div data-item-index="'+r(typeof(s=null==t||!1===t?t:t.index)===n?s.apply(e):s)+'" class="label-'+r(typeof(s=null==t||!1===t?t:t.index)===n?s.apply(e):s)+' module__detail--hours__labels__item" title="'+r(typeof(s=e&&e.summary)===n?s.apply(e):s)+'"><div class="module__detail__hour-label">'+r(typeof(s=e&&e.hour)===n?s.apply(e):s)+"</div>",((s=i.if.call(e,e&&e.precipProbability,{hash:{},inverse:l.program(15,g,t),fn:l.program(12,_,t),data:t}))||0===s)&&(a+=s),a+='<div class="module__detail__temp-label">'+r(typeof(s=e&&e.temperature)===n?s.apply(e):s)+"</div></div>"}function _(e,t){var s,a="";return a+='<img alt="'+r(typeof(s=e&&e.summary)===n?s.apply(e):s)+'" class="module__forecast-icon-precip ',((s=i.if.call(e,e&&e.isIE11,{hash:{},inverse:l.noop,fn:l.program(13,f,t),data:t}))||0===s)&&(a+=s),a+='" src="'+r(typeof(s=e&&e.icon)===n?s.apply(e):s)+'" /><div class="module__detail__precip-label"><img class="module__detail__precip-label__icon" src="/assets/weather/icons/weatherkit/Precipitation-10.svg"><span>'+r(typeof(s=e&&e.precipProbability)===n?s.apply(e):s)+"%</span></div>"}function f(e,t){return"module__forecast-icon--ie11"}function g(e,t){var s,a="";return a+='<img alt="'+r(typeof(s=e&&e.summary)===n?s.apply(e):s)+'" class="module__forecast-icon ',((s=i.if.call(e,e&&e.isIE11,{hash:{},inverse:l.noop,fn:l.program(13,f,t),data:t}))||0===s)&&(a+=s),a+='" src="'+r(typeof(s=e&&e.icon)===n?s.apply(e):s)+'" />'}return o=i.with.call(t,t&&t.items,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.weatherAlert,{hash:{},inverse:l.noop,fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),a+='<div class="module__top js-forecast-module-detail-top ',((s=i.if.call(e,e&&e.weatherAlert,{hash:{},inverse:l.noop,fn:l.program(5,h,t),data:t}))||0===s)&&(a+=s),a+='"><div class="module__current-wrap"><div class="module__current" title="'+r(typeof(s=e&&e.summary)===n?s.apply(e):s)+'">'+r(typeof(s=e&&e.summary)===n?s.apply(e):s)+'</div><div class="module__temperature"><div class="module__temperature-units ',((s=i.if.call(e,e&&e.isIE11,{hash:{},inverse:l.noop,fn:l.program(7,p,t),data:t}))||0===s)&&(a+=s),a+='"><a href="#" data-unit="c" class="module__temperature-unit js-forecast-module-detail-unit ',((s=i.if.call(e,e&&e.isMetric,{hash:{},inverse:l.noop,fn:l.program(9,u,t),data:t}))||0===s)&&(a+=s),a+='">&deg;C</a><span class="module__temperature-unit-separator"></span><a href="#" data-unit="f" class="module__temperature-unit js-forecast-module-detail-unit ',((s=i.unless.call(e,e&&e.isMetric,{hash:{},inverse:l.noop,fn:l.program(9,u,t),data:t}))||0===s)&&(a+=s),a+='">&deg;F</a></div></div></div><div class="module__place text--primary">'+r(typeof(s=e&&e.location)===n?s.apply(e):s)+'</div></div><div class="module__bottom js-forecast-module-detail-bottom"><div class="module__detail--hours__labels module__detail--hours__labels--desktop hours__labels--day-'+r(typeof(s=e&&e.selected)===n?s.apply(e):s)+'">',((s=i.each.call(e,null==(s=e&&e.hours)||!1===s?s:s.labels,{hash:{},inverse:l.noop,fn:l.program(11,m,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="module__detail--hours__labels module__detail--hours__labels--mobile hours__labels--day-'+r(typeof(s=e&&e.selected)===n?s.apply(e):s)+'">',((s=i.each.call(e,null==(s=e&&e.hours)||!1===s?s:s.mobileLabels,{hash:{},inverse:l.noop,fn:l.program(11,m,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="module__detail__bottom tx-clr--slate"><span class="module__humidity">',((s=i.lp.call(e,"forecast","Humidity",{hash:{},data:t}))||0===s)&&(a+=s),a+=": <strong>"+r(typeof(s=e&&e.humidity)===n?s.apply(e):s)+'</strong>&#37;</span><span class="module__winds">',((s=i.lp.call(e,"forecast","Wind",{hash:{},data:t}))||0===s)&&(a+=s),a+=': <span class="module__winds module__winds--val"><strong>'+r(typeof(s=e&&e.wind)===n?s.apply(e):s)+"</strong></span></span></div></div>"}),a),data:a}),o||0===o?o:""})),this.DDG.templates.forecast_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="function",r=this.escapeExpression,l=this;function d(e,t){var s,a="";return a+='<div data-item-index="'+r(typeof(s=e&&e.index)===n?s.apply(e):s)+'"class="module__items-item js-forecast-module-item ',((s=i.if.call(e,e&&e.selected,{hash:{},inverse:l.noop,fn:l.program(3,c,t),data:t}))||0===s)&&(a+=s),a+=' align-days__item"><div class="module__items-day text-primary">'+r(typeof(s=e&&e.day)===n?s.apply(e):s)+"</div>",((s=i.if.call(e,e&&e.precipProbability,{hash:{},inverse:l.program(7,p,t),fn:l.program(5,h,t),data:t}))||0===s)&&(a+=s),a+='<div><span class="module__items-unit module__items-unit--on text-primary">'+r(typeof(s=e&&e.high)===n?s.apply(e):s)+'&deg;</span><span class="module__items-unit module__items-unit--low tx-clr--slate-light">'+r(typeof(s=e&&e.low)===n?s.apply(e):s)+"&deg;</span></div></div>"}function c(e,t){return"module__items-item--selected"}function h(e,t){var i,s="";return s+='<img class="module__items-icon-precip" src="'+r(typeof(i=e&&e.icon)===n?i.apply(e):i)+'" alt="'+r(typeof(i=e&&e.summary)===n?i.apply(e):i)+'"><div class="module__items-precip-label"><img class="module__items-precip-label__icon"src="/assets/weather/icons/weatherkit/Precipitation-10.svg"><span>'+r(typeof(i=e&&e.precipProbability)===n?i.apply(e):i)+"%</span></div>"}function p(e,t){var i,s="";return s+='<img class="module__items-icon" src="'+r(typeof(i=e&&e.icon)===n?i.apply(e):i)+'" alt="'+r(typeof(i=e&&e.summary)===n?i.apply(e):i)+'">'}return o=i.with.call(t,t&&t.items,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var s,a="";return a+='<div class="forecast-wrapper"><div class="module module--forecast module__container"><div class="js-forecast-module-detail"></div><div class="module__items align-days">',((s=i.each.call(e,e&&e.days,{hash:{},inverse:l.noop,fn:l.program(2,d,t),data:t}))||0===s)&&(a+=s),a+='</div></div><div class="module__more-at-and-feedback js-forecast-module-detail-moreatcontainer"><a class="module__weatherkit-link" href="'+r(typeof(s=e&&e.moreAtUrl)===n?s.apply(e):s)+'" target="_blank"><svg class="module__weatherkit-logo"xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 54 12"><title>Apple Weather</title><path d="M14.22 11.38h1.2l1.75-6.04h.07L19 11.38h1.2l2.2-8.07h-1.32l-1.5 6.28h-.06L17.8 3.31h-1.19l-1.7 6.28h-.07l-1.5-6.28h-1.32l2.2 8.07Zm22.54.06a3.55 3.55 0 0 0 .65-.06v-.96l-.2.02h-.23c-.3 0-.5-.07-.64-.2-.13-.14-.2-.37-.2-.69V6.31h1.27v-.96h-1.27V3.82h-1.25v1.53h-.94v.96h.94V9.8c0 .59.14 1 .44 1.26s.77.39 1.43.39Zm1.52-.06h1.22V7.85c0-.32.06-.6.18-.83a1.34 1.34 0 0 1 1.26-.74c.45 0 .79.12 1 .38.22.26.33.63.33 1.13v3.6h1.23V7.51c0-.48-.08-.89-.25-1.23-.17-.34-.4-.6-.72-.78-.32-.18-.7-.27-1.16-.27-.44 0-.81.09-1.12.28-.3.18-.52.44-.67.77h-.08V3h-1.22v8.37Zm12.35 0h1.23v-3.6c0-.29.07-.54.19-.75.12-.22.3-.39.53-.5.22-.12.49-.18.79-.18a2.38 2.38 0 0 1 .63.07V5.3a3.1 3.1 0 0 0-.5-.05c-.4 0-.73.09-1 .27-.27.18-.45.44-.56.77h-.08v-.94h-1.23v6.03ZM8.67 4.21c-.07.05-1.2.68-1.2 2.07a2.4 2.4 0 0 0 1.48 2.2c0 .04-.22.79-.75 1.55-.47.67-.96 1.34-1.71 1.34s-.94-.43-1.8-.43c-.85 0-1.15.44-1.83.44-.68 0-1.16-.62-1.71-1.38A6.62 6.62 0 0 1 0 6.4c0-2.12 1.39-3.24 2.76-3.24.73 0 1.33.47 1.79.47.43 0 1.11-.5 1.94-.5.31 0 1.44.03 2.18 1.08ZM6.09 2.23c.35-.4.59-.95.59-1.51 0-.08 0-.16-.02-.22a2.47 2.47 0 0 0-2.23 2.3l.02.2.15.01c.5 0 1.13-.33 1.5-.78Z"/><path fill-rule="evenodd" d="M25.1 11.5c.38 0 .72-.05 1.02-.15.3-.1.57-.23.78-.4a1.99 1.99 0 0 0 .8-1.17v-.05h-1.17l-.02.05c-.05.11-.13.23-.25.34a1.8 1.8 0 0 1-1.14.39c-.34 0-.63-.08-.88-.23a1.48 1.48 0 0 1-.58-.64c-.13-.27-.2-.58-.2-.95h4.32v-.43c0-.6-.11-1.13-.34-1.58a2.43 2.43 0 0 0-.94-1.06c-.41-.26-.9-.38-1.47-.38s-1.07.13-1.49.4c-.42.25-.74.62-.97 1.09a3.71 3.71 0 0 0-.34 1.65c0 .64.11 1.2.34 1.66.23.47.56.83.98 1.08.43.25.95.38 1.54.38Zm-.87-5.05a1.5 1.5 0 0 0-.57.65c-.1.2-.16.44-.19.72h3.1a2.2 2.2 0 0 0-.19-.74c-.13-.29-.31-.5-.55-.64-.23-.14-.5-.2-.8-.2-.3 0-.57.06-.8.2Zm6.07 5.04c.26 0 .51-.04.74-.12a1.99 1.99 0 0 0 1.07-.87h.08v.88h1.22V7.25a2 2 0 0 0-.28-1.07 1.8 1.8 0 0 0-.83-.7 3.1 3.1 0 0 0-1.3-.24c-.47 0-.88.07-1.24.21-.35.15-.64.34-.86.6-.21.25-.34.54-.39.87v.05h1.17l.01-.02c.07-.22.21-.4.43-.52.21-.12.5-.19.84-.19.4 0 .7.1.91.27.21.18.32.43.32.76v.52l-1.65.1c-.72.04-1.28.21-1.68.52-.4.3-.6.72-.6 1.26v.01a1.74 1.74 0 0 0 .98 1.59c.31.14.66.22 1.05.22Zm1.69-1.65c.13-.2.2-.43.2-.7v-.5l-1.49.1c-.4.02-.7.1-.9.26-.2.15-.3.36-.3.63 0 .28.1.5.31.66.21.15.48.23.81.23.3 0 .57-.06.8-.18.24-.13.43-.3.57-.5Zm15.14 1.66c.39 0 .73-.05 1.03-.15.3-.1.57-.23.78-.4a1.99 1.99 0 0 0 .8-1.17l.01-.05h-1.18l-.02.05c-.05.11-.13.23-.25.34a1.8 1.8 0 0 1-1.14.39c-.34 0-.63-.08-.88-.23a1.48 1.48 0 0 1-.58-.64c-.13-.27-.2-.58-.2-.95h4.32v-.43c0-.6-.11-1.13-.34-1.58a2.37 2.37 0 0 0-.94-1.06c-.41-.26-.9-.38-1.47-.38s-1.06.13-1.49.4c-.41.25-.74.62-.97 1.09a3.71 3.71 0 0 0-.34 1.65c0 .64.11 1.2.34 1.66.23.47.56.83.99 1.08.42.25.94.38 1.53.38Zm-.86-5.05a1.5 1.5 0 0 0-.57.65c-.1.2-.16.44-.19.72h3.1a2.19 2.19 0 0 0-.19-.74c-.13-.29-.31-.5-.55-.64-.23-.14-.5-.2-.8-.2-.3 0-.56.06-.8.2Z" clip-rule="evenodd"/></svg></a></div><div class="clear"></div></div>'}),a),data:a}),o||0===o?o:""})),this.DDG.templates.free_listings_badge=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<span class="free-listings-badge js-free-listings-badge ddgsi ddgsi-info"></span>'})),this.DDG.templates.free_listings_tooltip=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+="<span>",((o=(i=this.merge(i,e.helpers)).l.call(t,"Items are ranked based on relevance to your search terms and are delivered through Microsoft's Ad Network. Clicks lead directly to merchant landing pages and unlike ads, DuckDuckGo is not compensated for these results.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span>"})),this.DDG.templates.images_module_thumbnails=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n=this,r="function",l=this.escapeExpression;function d(e,t){return"is-last"}return o=i.each.call(t,t,{hash:{},inverse:n.noop,fn:n.program(1,(function(e,t){var s,a="";return a+='<div class="module--images__thumbnails__tile ',((s=i.if.call(e,e&&e.lastOfRow,{hash:{},inverse:n.noop,fn:n.program(2,d,t),data:t}))||0===s)&&(a+=s),a+=' js-images-link" style="height:'+l(typeof(s=e&&e.divHeight)===r?s.apply(e):s)+"px;width:"+l(typeof(s=e&&e.divWidth)===r?s.apply(e):s)+'px;" data-id="'+l(typeof(s=e&&e.id)===r?s.apply(e):s)+'"><a href="/?q=',((s=typeof(s=e&&e.rq)===r?s.apply(e):s)||0===s)&&(a+=s),a+="&iax=images&ia=images&iai="+l(typeof(s=e&&e.id)===r?s.apply(e):s)+l(typeof(s=e&&e.kurl)===r?s.apply(e):s)+'" class="module--images__thumbnails__link"><img src="'+l(typeof(s=e&&e.moduleThumbnail)===r?s.apply(e):s)+'" alt="'+l(typeof(s=e&&e.title)===r?s.apply(e):s)+'" width="'+l(typeof(s=e&&e.scaledWidth)===r?s.apply(e):s)+'" height="'+l(typeof(s=e&&e.scaledHeight)===r?s.apply(e):s)+'" class="module--images__thumbnails__image"></a></div>'}),a),data:a}),o||0===o?o:""})),this.DDG.templates.images_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="module module--images"><div class="module__header module__header--link js-images-show-more">',o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.icon_template,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var s,a="";return a+='<span class="module__header__icon">',((s=i.include.call(e,e&&e.icon_template,{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="<span>",((o=i.l.call(t,"Images for %s%s%s","<b>",t&&t.displayQuery,"</b>",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span></div><div class="module--images__thumbnails js-images-thumbnails"></div><div class="js-images-show-more module__footer-carousel__container"><a href="#" class="module__footer-carousel"><span class="module__footer-carousel__label">',((o=i.l.call(t,"More Images",{hash:{},data:a}))||0===o)&&(n+=o),n+='<span class="module__footer-carousel__icon ddgsi ddgsi-right"></span></span></a></div></div>'})),this.DDG.templates.keep_extension_alert=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this;function l(e,t){return"keep-extension-alert--centered"}function d(e,t){return"keep-extension-alert--inverted"}function c(e,t){return"keep-extension-alert--connector-offseted"}function h(e,t){var s;return(s=i.if.call(e,e&&e.isDeviceDarkTheme,{hash:{},inverse:r.program(17,u,t),fn:r.program(15,p,t),data:t}))||0===s?s:""}function p(e,t){return'<img src="/assets/chrome-counter/counter-windows-dark.svg" alt="Choose to keep the extension" width="484" height="111"/>'}function u(e,t){return'<img src="/assets/chrome-counter/counter-windows-light.svg" alt="Choose to keep the extension" width="484" height="111"/>'}function m(e,t){var s;return(s=i.if.call(e,e&&e.isDeviceDarkTheme,{hash:{},inverse:r.program(22,f,t),fn:r.program(20,_,t),data:t}))||0===s?s:""}function _(e,t){return'<img src="/assets/chrome-counter/counter-mac-dark.svg" alt="Choose to keep the extension" width="484" height="111"/>'}function f(e,t){return'<img src="/assets/chrome-counter/counter-mac-light.svg" alt="Choose to keep the extension" width="484" height="111"/>'}return n+='<div class="keep-extension-alert--',((o=i.if.call(t,t&&t.isInExperiment,{hash:{},inverse:r.program(3,(function(e,t){return"control"}),a),fn:r.program(1,(function(e,t){return"experiment"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="keep-extension-alert__blur ',((o=i.if.call(t,t&&t.invertColors,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){return"keep-extension-alert__blur--inverted"}),a),data:a}))||0===o)&&(n+=o),n+='"></div>',o=i.if.call(t,t&&t.isInExperiment,{hash:{},inverse:r.program(24,(function(e,t){var s,a="";return a+='<aside class="keep-extension-alert ',((s=i.if.call(e,e&&e.isNativeDialogueCentered,{hash:{},inverse:r.noop,fn:r.program(8,l,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.invertColors,{hash:{},inverse:r.noop,fn:r.program(10,d,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.isConnectorOffsetted,{hash:{},inverse:r.noop,fn:r.program(12,c,t),data:t}))||0===s)&&(a+=s),a+='"}><img src="/assets/common/dax-logo.svg" alt="DuckDuckGo Dax Logo"><header>',((s=i.l.call(e,"Hold on! Changing it back will disable the DuckDuckGo extension and you'll lose our privacy protection.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</header><p>",((s=i.l.call(e,"Choose %skeep it%s to continue protecting your privacy.","<strong>","</strong>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p></aside>"}),a),fn:r.program(7,(function(e,t){var s,a="";return a+='<aside class="keep-extension-alert ',((s=i.if.call(e,e&&e.isNativeDialogueCentered,{hash:{},inverse:r.noop,fn:r.program(8,l,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.invertColors,{hash:{},inverse:r.noop,fn:r.program(10,d,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.isConnectorOffsetted,{hash:{},inverse:r.noop,fn:r.program(12,c,t),data:t}))||0===s)&&(a+=s),a+='"><div class="keep-extension-alert__inner"><div class="keep-extension-alert__content"><img class="keep-extension-alert__logo" src="/assets/common/dax-logo.svg" alt="DuckDuckGo Dax Logo"><header>Hold on! Changing it back will disable the DuckDuckGo extension and all its privacy protections. </header>',((s=i.if.call(e,e&&e.isWindows,{hash:{},inverse:r.program(19,m,t),fn:r.program(14,h,t),data:t}))||0===s)&&(a+=s),a+='<p>                   Choose <strong>Keep it</strong> to block trackers and search more privately.</p><div class="is-hidden">',((s=i.l.call(e,"Hold on! Changing it back will disable the DuckDuckGo extension and you'll lose our privacy protection.",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><div class="is-hidden">',((s=i.l.call(e,"Choose %skeep it%s to continue protecting your privacy.","<strong>","</strong>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div></div></div></aside>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.keep_extension_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+="<aside class='keep-extension-modal'><button class=\"ddgsi js-keep-extension-modal-close\" aria-label=\"Close\">×</button><div class='keep-extension-modal__wrapper'>        <div class='keep-extension-modal__body'><header><h2>Sorry to see you go…</h2><p>You have chosen to disable DuckDuckGo Privacy Essentials.</p><p>You can always enable it again.</p>        </header><ol><li>",((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.isWindows,{hash:{},inverse:this.program(3,(function(e,t){return'<p>Go to Extensions from Window menu</p><img src="/assets/add-to-browser/install-chrome/osx-extension-instructions.svg" alt="Screenshot of Extension menu entry on Mac OS" width="438" height="263"/>'}),a),fn:this.program(1,(function(e,t){return'<p>At the top right, click&nbsp;⋮&nbsp;➝&nbsp;More tools&nbsp;➝&nbsp;Extensions</p><img src="/assets/add-to-browser/install-chrome/windows-extension-instructions.svg" alt="Screenshot of Extension menu entry on Windows" width="484" height="314"/>'}),a),data:a}))||0===o)&&(n+=o),n+='</li><li><p>Turn on the toggle for DuckDuckGo Privacy Essentials</p><div><img src="/assets/add-to-browser/install-chrome/toggle-extension.svg" alt="Screenshot of the extension management UI with an emphasis on activating the extension through a toggle control" width="814" height="464"/></div></li>        </ol><button class="js-keep-extension-modal-close">Go Back</button>            </div></div></aside>'})),this.DDG.templates.location_badge_tooltip=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+="<span>",o=i.if.call(t,t&&t.pulEnabled,{hash:{},inverse:this.program(3,(function(e,t){var s,a="";return a+='<p><strong>Your location is always private to DuckDuckGo</strong></p><p>Enabling anonymous location gives more accurate results but still keeps your searches and exact location private to DuckDuckGo.<br><a class="tooltip-link" href="'+l(typeof(s=e&&e.helpPageURL)===r?s.apply(e):s)+'" target="_blank">',((s=i.lp.call(e,"precise_user_location","Learn how we keep your location private",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></p>"}),a),fn:this.program(1,(function(e,t){var s,a="";return a+="<p><strong>Anonymous Location Enabled</strong></p><p>",((s=i.lp.call(e,"precise_user_location","Location information is stored only on your device.",{hash:{},data:t}))||0===s)&&(a+=s),a+='<br><a class="tooltip-link" href="'+l(typeof(s=e&&e.helpPageURL)===r?s.apply(e):s)+'" target="_blank">',((s=i.lp.call(e,"precise_user_location","Learn how we keep your location private",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></p>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</span>"})),this.DDG.templates.location_badge=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<span class="badge--location-wrap badge--location-wrap--'+l(typeof(o=t&&t.context)===r?o.apply(t):o)+'" aria-describedby="'+l(typeof(o=t&&t.tooltipId)===r?o.apply(t):o)+'" data-testid="ad-badge-'+l(typeof(o=t&&t.tooltipId)===r?o.apply(t):o)+'"><span class="badge--location js-badge--location"><svg class="location-badge-i" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#Info-16_svg__a)"><path d="M8.483 3.645c-.743 0-1.196.598-1.196 1.152 0 .67.51.89.963.89.831 0 1.181-.628 1.181-1.138 0-.642-.51-.904-.948-.904m.43 2.901-1.827.295c-.055.442-.136.89-.218 1.343-.157.877-.32 1.78-.32 2.723 0 .937.56 1.448 1.447 1.448 1.011 0 1.185-.635 1.224-1.21-.839.121-1.023-.257-.886-1.148.137-.891.58-3.451.58-3.451"/><path fill-rule="evenodd" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M1.5 8a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0" clip-rule="evenodd"/></g><defs><clipPath id="Info-16_svg__a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg></span></span>'})),this.DDG.templates.lyrics_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div class="module module--lyrics js-lyrics-module"><div class="module__content js-lyrics-module-content"><div class="module__title" aria-label="Song title"><span class="module__title__link">'+l(typeof(o=t&&t.songTitle)===r?o.apply(t):o)+'</span></div><div class="module--lyrics__subtitle-box"><div aria-label="Artist">'+l(typeof(o=t&&t.artist)===r?o.apply(t):o)+"</div>",o=i.if.call(t,t&&t.isExplicit,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<span class="module--lyrics__explicit-tag">',((s=i.lp.call(e,"lyrics_module","Explicit",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div aria-label="Song lyrics">',((o=typeof(o=t&&t.lyrics)===r?o.apply(t):o)||0===o)&&(n+=o),n+='</div></div><div class="module--lyrics__footer js-lyrics-module-footer"><div class="module__inner-toggle js-lyrics-module-toggle"  aria-hidden="true"><span class="module__inner-toggle--chevron"></span></div><div class="module--lyrics__infobox" aria-label="Additional information">',o=i.if.call(t,t&&t.writers,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<p class="js-lyrics-module-writers"><span class="module--lyrics__infobox--key">',((s=i.lp.call(e,"lyrics_module","Written by",{hash:{},data:t}))||0===s)&&(a+=s),a+=":</span> "+l(typeof(s=e&&e.writers)===r?s.apply(e):s)+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.albumTitle,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var s,a="";return a+='<p class="js-lyrics-module-album"><span class="module--lyrics__infobox--key">',((s=i.lp.call(e,"lyrics_module","Album",{hash:{},data:t}))||0===s)&&(a+=s),a+=":</span> "+l(typeof(s=e&&e.albumTitle)===r?s.apply(e):s)+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.albumReleaseYear,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){var s,a="";return a+='<p class="js-lyrics-module-released"><span class="module--lyrics__infobox--key">',((s=i.lp.call(e,"lyrics_module","Released",{hash:{},data:t}))||0===s)&&(a+=s),a+=":</span> "+l(typeof(s=e&&e.albumReleaseYear)===r?s.apply(e):s)+"</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div aria-label="Source">',((o=i.lp.call(t,"lyrics_module","Lyrics provided by",{hash:{},data:a}))||0===o)&&(n+=o),n+=' <a class="js-lyrics-module-link module__link" href='+l(typeof(o=t&&t.providerUrl)===r?o.apply(t):o)+">Musixmatch</a></div></div></div>"})),this.DDG.templates.manual_user_location_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="modal modal--popover modal--popover--dark manual-user-location-modal js-popover"><div class="modal__overlay manual-user-location-modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box manual-user-location-modal__content"><div class="manual-user-location-modal__content-wrapper"><div class="manual-user-location-modal__map js-manual-user-location-map"><div class="map-controls map-controls--topright js-manual-user-location-map-controls"><div class="map-control map-control__close"><button class="js-manual-user-location-close btn btn--mapbox ddgsi map-control__btn ',((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.isDarkMap,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"map-control__btn--darkmap "}),a),data:a}))||0===o)&&(n+=o),n+=' js-modal-close" type="button" aria-label="',((o=i.l.call(t,"Click to collapse",{hash:{},data:a}))||0===o)&&(n+=o),n+='" title="',((o=i.l.call(t,"Click to collapse",{hash:{},data:a}))||0===o)&&(n+=o),n+='">&#215;</button></div></div></div><div class="manual-user-location-modal__tools"><div class="manual-user-location-modal__msg">',((o=i.lp.call(t,"precise_user_location","Move map to set current location",{hash:{},data:a}))||0===o)&&(n+=o),n+='</div><div class="btn btn--primary js-manual-user-location-done-btn is-disabled">',((o=i.lp.call(t,"precise_user_location","Done",{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div></div></div></div></div>"})),this.DDG.templates.map_example_searches=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="vertical--map__search-examples"><h4 class="vertical--map__search-examples__title">',((o=i.lp.call(t,"map","Search this area for...",{hash:{},data:a}))||0===o)&&(n+=o),n+='</h4><ul class="vertical--map__search-examples__list">',o=i.each.call(t,t&&t.categories,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<li class="vertical--map__search-examples__item"><button class="vertical--map__search-examples__button module__button js-example-search-button" data-category="'+l(typeof(i=e&&e.query)===r?i.apply(e):i)+'"><img src="/assets/maps/'+l(typeof(i=e&&e.iconUrl)===r?i.apply(e):i)+'" class="vertical--map__search-examples__icon" />'+l(typeof(i=e&&e.query)===r?i.apply(e):i)+"</button></li>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</ul></div><div class="vertical--map__search-web"><a href="'+l(typeof(o=t&&t.webSearchUrl)===r?o.apply(t):o)+'" class="module__link">',((o=i.lp.call(t,"noresults","Show Web Results",{hash:{},data:a}))||0===o)&&(n+=o),n+='<span class="ddgsi ddgsi-next"></span></a></div>'})),this.DDG.templates.map_searchbar=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;return n+='<div class="map-searchbar vertical--map__sidebar__header__search  ',((o=i.if.call(t,t&&t.isIPhone,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return" is-iphone"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.hideSearchButton,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return" hide-search-button"}),a),data:a}))||0===o)&&(n+=o),n+=" map-searchbar--",((o=i.if.call(t,t&&t.directionsModel,{hash:{},inverse:r.program(7,(function(e,t){return"maps"}),a),fn:r.program(5,(function(e,t){return"directions"}),a),data:a}))||0===o)&&(n+=o),n+='">',((o=i.if.call(t,t&&t.directionsModel,{hash:{},inverse:r.program(11,(function(e,t){return"<form"}),a),fn:r.program(9,(function(e,t){return"<div"}),a),data:a}))||0===o)&&(n+=o),n+=' id="search_form" data-testid="maps-search-form" class="js-vertical-map-search search--adv search--header has-text"><input type="text" class="js-vertical-map-search-input search__input--adv search__input--maps" value="" tabindex="1" placeholder="'+d(typeof(o=null==(o=t&&t.model)||!1===o?o:o.searchFormPlaceholder)===l?o.apply(t):o)+'" role="combobox" aria-controls="',((o=typeof(o=t&&t.listBoxId)===l?o.apply(t):o)||0===o)&&(n+=o),n+='" aria-haspopup="listbox"><input class="search__button js-vertical-map-search-button" tabindex="2" value="S" type="submit" aria-label="search"><input class="search__clear empty js-vertical-map-search-clear" tabindex="3" value="X" type="button" aria-label="clear">',((o=i.if.call(t,t&&t.directionsModel,{hash:{},inverse:r.program(15,(function(e,t){return"</form>"}),a),fn:r.program(13,(function(e,t){return"</div>"}),a),data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.map_sidebar_footer=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="map-sidebar-footer map-sidebar-footer--'+(0,this.escapeExpression)("function"==typeof(o=null==(o=t&&t.model)||!1===o?o:o.sidebarLayout)?o.apply(t):o)+" ",((o=i.if.call(t,t&&t.offsetted,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"map-sidebar-footer--offsetted"}),a),data:a}))||0===o)&&(n+=o),n+='"></div>'})),this.DDG.templates.map_sidebar_mobile=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class=\'js-vertical-map-sidebar-mobile\' data-testid="maps-vertical-sidebar-header"><div class="js-vertical-map-sidebar-mobile-header vertical--map__sidebar__header--mobile"><div class="js-vertical-map-sidebar-mobile-header-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-sidebar-mobile-close-directions"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-sidebar-mobile-back" aria-label="back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a>\x3c!-- Searchbar gets appended here --\x3e</div></div><div class="vertical--map__mobile-toggle js-vertical-map-sidebar-mobile-toggle" data-testid="map-sidebar-toggle-mobile"><span class="vertical--map__mobile-toggle-icon vertical--map__mobile-toggle-icon--map js-vertical-map-sidebar-mobile-toggle-icon"></span><span class="vertical--map__mobile-toggle-text js-vertical-map-sidebar-mobile-toggle-text">Show Map</span></div></div>'})),this.DDG.templates.map_sidebar=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="js-vertical-map-sidebar-header-wrapper" data-testid="maps-vertical-sidebar-header"><div class="vertical--map__user-loc-container js-vertical-map-user-loc-container"></div><div class="vertical--map__type-container js-vertical-map-type-container"></div><div class="vertical--map__sidebar__header"><div class="js-vertical-map-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-close-directions"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-back" aria-label="back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a></div></div></div>'})),this.DDG.templates.map_type_select=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="",r=this;return n+='<button class="map-type-select ',((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.small,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"map-type-select--small"}),a),data:a}))||0===o)&&(n+=o),n+=' map-type-select--satellite js-map-type-select-button">',((o=i.unless.call(t,t&&t.small,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return'<span class="map-type-select__label js-map-type-select-label">Satellite</span>'}),a),data:a}))||0===o)&&(n+=o),n+="</button>"})),this.DDG.templates.mapkit_map=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="",r=this;return n+='<div class="mapkit-map ',((o=(i=this.merge(i,e.helpers)).unless.call(t,null==(o=t&&t.model)||!1===o?o:o.canShowMap,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"is-loading"}),a),data:a}))||0===o)&&(n+=o),n+=" is-mapkit-map ",((o=i.if.call(t,t&&t.isFrozen,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return"mapkit-map--frozen"}),a),data:a}))||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.isFrozen,{hash:{},inverse:r.noop,fn:r.program(5,(function(e,t){var s,a="";return a+='<div class="mapkit-map__click-overlay js-mapkit-map-click-overlay"></div><span class="label mapkit-map__open-cta">',((s=i.l.call(e,"Open Map",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.mapkit_marker=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="mgl-marker mgl-marker--'+l(typeof(o=t&&t.markerType)===r?o.apply(t):o)+'">',o=i.if.call(t,t&&t.number,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<span class="mgl-marker__num">'+l(typeof(i=e&&e.number)===r?i.apply(e):i)+"</span>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.mapkit_position_picker=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="mapkit-map mapkit-position-picker js-mapkit-position-picker"><div class="mapkit-position-picker__marker mgl-marker js-mapkit-position-picker-marker"></div><div class="mapbox-gl__map mapkit-position-picker__map is-loading js-mapkit-position-picker-map"></div></div>'})),this.DDG.templates.mapkit_static_map=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l=this.escapeExpression,d="function";return n+='<div class="mapkit-static ',((o=i.if.call(t,t&&t.showCTA,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){return"has-cta"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="mapkit-static__map" style="background-image:url(\''+l(i.imageProxy.call(t,t&&t.url,{hash:{},data:a}))+'\');"><img class="mapkit-static__img" width="'+l(typeof(o=t&&t.width)===d?o.apply(t):o)+'" height="'+l(typeof(o=t&&t.height)===d?o.apply(t):o)+'" src="'+l(i.imageProxy.call(t,t&&t.url,{hash:{},data:a}))+'" /></div>',((o=i.if.call(t,t&&t.showCTA,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){return'<div class="mapkit-static__cta"><svg class="label label--inverse label--icon" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#3969EF" d="M9.3335 1.75c0-.41421.33578-.75.75-.75h4.25c1.1046 0 2 .89543 2 2v3.25c0 .41421-.3358.75-.75.75s-.75-.33579-.75-.75V3.48244l-4.0156 3.39778c-.3162.26756-.7894.22812-1.05696-.08809-.26756-.3162-.22812-.78943.08808-1.05699L13.6724 2.5h-3.5889c-.41422 0-.75-.33579-.75-.75ZM6.40602 9.63091c.26756.31621.22812.78949-.08808 1.05699L2.99456 13.5H6.5835c.41421 0 .75.3358.75.75s-.33579.75-.75.75h-4.25c-1.10457 0-2.000004-.8954-2.000004-2V9.75c0-.41421.335786-.75.750004-.75.41421 0 .75.33579.75.75v2.7675l3.51552-2.97467c.31621-.26756.78944-.22812 1.057.08808Z"/></svg></div>'}),a),data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.mapkit_user_location_control=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="map-control"><button class="btn ddgsi map-control__btn"><span class="map-control__icon"></span>',((o=(i=this.merge(i,e.helpers)).include.call(t,"spinner",{hash:{className:"map-control__spinner"},data:a}))||0===o)&&(n+=o),n+="</button></div>"})),this.DDG.templates.mapkit_user_location=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="mgl-user-loc"></div>'})),this.DDG.templates.maps_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="module module--map js-module--'+(0,this.escapeExpression)("function"==typeof(o=t&&t.id)?o.apply(t):o)+'"><div class="module__map js-maps-module-map"><div class="map-controls map-controls--topright js-maps-module-control-topright"></div></div><div class="module__address-detail js-maps-module-detailview"></div></div>'})),this.DDG.templates.module_container=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div id="m'+l(typeof(o=t&&t.slot)===r?o.apply(t):o)+"-"+l(typeof(o=t&&t.count)===r?o.apply(t):o)+'" class="module-slot"></div>'})),this.DDG.templates.module_image_header=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<a class="module__header__image__link" href="',((s=i.if.call(e,e&&e.imagesModel,{hash:{},inverse:d.program(7,p,t),fn:d.program(5,h,t),data:t}))||0===s)&&(a+=s),a+='" ',((s=i.unless.call(e,e&&e.hideTitle,{hash:{},inverse:d.noop,fn:d.program(9,u,t),data:t}))||0===s)&&(a+=s),a+=' target="_blank" rel="noopener"</a>'}function h(e,t){var i;return l(typeof(i=e&&e.imageIAURL)===r?i.apply(e):i)}function p(e,t){var i;return l(typeof(i=e&&e.imageURL)===r?i.apply(e):i)}function u(e,t){var i,s="";return s+='title="'+l(typeof(i=e&&e.morePhotosText)===r?i.apply(e):i)+'"'}function m(e,t){var i,s="";return s+='<a class="module__header__image__link" href="'+l(typeof(i=e&&e.imageURL)===r?i.apply(e):i)+'" title="'+l(typeof(i=e&&e.morePhotosText)===r?i.apply(e):i)+'"</a>'}function _(e,t){var s;return(s=i.unless.call(e,e&&e.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(14,f,t),data:t}))||0===s?s:""}function f(e,t){var s,a="";return a+='<div class="image-tiles__col--blur">',((s=i.include.call(e,"module_image_header_item",{hash:{image:(s=e&&e.images,null==s||!1===s?s:s[0]),className:"module__header__image--big module__header__image--blur"},data:t}))||0===s)&&(a+=s),a+='<span class="module__header__image__no-more">',((s=i.l.call(e,"No More Photos",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></div>"}function g(e,t){var s;return(s=i.if.call(e,null==(s=e&&e.layout)||!1===s?s:s.layout_4,{hash:{},inverse:d.program(24,k,t),fn:d.program(17,v,t),data:t}))||0===s?s:""}function v(e,t){var s,a="";return a+='<div class="image-tiles__col--wrap"><div class="image-tiles__col__cell">',((s=i.if.call(e,null==(s=null==(s=e&&e.images)||!1===s?s:s[1])||!1===s?s:s.url,{hash:{},inverse:d.noop,fn:d.program(18,w,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="image-tiles__col__cell">',((s=i.if.call(e,null==(s=null==(s=e&&e.images)||!1===s?s:s[2])||!1===s?s:s.url,{hash:{},inverse:d.noop,fn:d.program(20,y,t),data:t}))||0===s)&&(a+=s),a+='</div></div><div class="image-tiles__col">',((s=i.if.call(e,null==(s=null==(s=e&&e.images)||!1===s?s:s[3])||!1===s?s:s.url,{hash:{},inverse:d.noop,fn:d.program(22,b,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function w(e,t){var s;return(s=i.include.call(e,"module_image_header_item",{hash:{image:(s=e&&e.images,null==s||!1===s?s:s[1]),className:"module__header__image--small"},data:t}))||0===s?s:""}function y(e,t){var s;return(s=i.include.call(e,"module_image_header_item",{hash:{image:(s=e&&e.images,null==s||!1===s?s:s[2]),className:"module__header__image--small"},data:t}))||0===s?s:""}function b(e,t){var s;return(s=i.include.call(e,"module_image_header_item",{hash:{image:(s=e&&e.images,null==s||!1===s?s:s[3]),className:"module__header__image--big"},data:t}))||0===s?s:""}function k(e,t){var s,a="";return((s=i.if.call(e,null==(s=null==(s=e&&e.images)||!1===s?s:s[1])||!1===s?s:s.url,{hash:{},inverse:d.noop,fn:d.program(25,S,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,null==(s=null==(s=e&&e.images)||!1===s?s:s[2])||!1===s?s:s.url,{hash:{},inverse:d.noop,fn:d.program(27,x,t),data:t}))||0===s)&&(a+=s),a}function S(e,t){var s,a="";return a+='<div class="image-tiles__col">',((s=i.include.call(e,"module_image_header_item",{hash:{image:(s=e&&e.images,null==s||!1===s?s:s[1]),className:"module__header__image--big"},data:t}))||0===s)&&(a+=s),a+="</div>"}function x(e,t){var s,a="";return a+='<div class="image-tiles__col">',((s=i.include.call(e,"module_image_header_item",{hash:{image:(s=e&&e.images,null==s||!1===s?s:s[2]),className:"module__header__image--big"},data:t}))||0===s)&&(a+=s),a+="</div>"}function D(e,t){var s;return(s=i.unless.call(e,e&&e.hideTitle,{hash:{},inverse:d.noop,fn:d.program(30,C,t),data:t}))||0===s?s:""}function C(e,t){var i,s="";return s+='<span class="label module__header__image__more">'+l(typeof(i=e&&e.morePhotosText)===r?i.apply(e):i)+"</span>"}return n+='<div class="module__header ',((o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"module__header--with-image"}),a),data:a}))||0===o)&&(n+=o),n+=' module__header--map js-place-header-map">',o=i.if.call(t,t&&t.layout,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.isMapExpanded,{hash:{},inverse:d.program(11,m,t),fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='<div class="module__header__image module__header__image--full js-place-header-map-link"><div class="image-tiles"><div class="image-tiles__col">',((s=i.include.call(e,"module_image_header_item",{hash:{className:"module__header__image--big",image:(s=e&&e.images,null==s||!1===s?s:s[0])},data:t}))||0===s)&&(a+=s),a+="</div>",((s=i.if.call(e,null==(s=e&&e.layout)||!1===s?s:s.layout_1,{hash:{},inverse:d.program(16,g,t),fn:d.program(13,_,t),data:t}))||0===s)&&(a+=s),a+="</div>",((s=i.unless.call(e,null==(s=e&&e.layout)||!1===s?s:s.layout_1,{hash:{},inverse:d.noop,fn:d.program(29,D,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.no_directions_results=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<div class="no-results t-m is-hidden"><p class="no-results__title">',((o=i.lp.call(t,"directions","No results found.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><div class="no-results__tips"><p class="no-results__tips-title">',((o=i.lp.call(t,"directions","Suggestions:",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><ul class="no-results__tips-list"><li>',((o=i.lp.call(t,"directions","Make sure your search is spelled correctly.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"directions","Try adding a city, state, or postal code.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</li></ul></div><p class="no-results__web"><a class="no-results__link js-no-map-results-web-search" href="'+r("function"==typeof(o=t&&t.webSearchUrl)?o.apply(t):o)+'">',((o=i.lp.call(t,"noresults","Show Web Results",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></p></div>"})),this.DDG.templates.no_map_results=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="no-results t-m" ',o=i.if.call(t,t&&t.minHeight,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='style="min-height:'+l(typeof(i=e&&e.minHeight)===r?i.apply(e):i)+'px;"'}),a),data:a}),(o||0===o)&&(n+=o),n+='><p class="no-results__title">',((o=i.lp.call(t,"noresults","No %s found for %s%s%s.",t&&t.resultType,t&&t.openWrapQueryTag,t&&t.query,t&&t.closeWrapQueryTag,{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><div class="no-results__tips"><p class="no-results__tips-title">',((o=i.lp.call(t,"noresults","Suggestions:",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><ul class="no-results__tips-list"><li>',((o=i.lp.call(t,"noresults","Make sure all words are spelled correctly.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"noresults","Try different keywords.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"noresults","Try more general keywords.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"noresults","Try fewer keywords.",{hash:{},data:a}))||0===o)&&(n+=o),n+='</li></ul></div><p class="no-results__web"><a class="no-results__link js-no-map-results-web-search" href="'+l(typeof(o=t&&t.webSearchUrl)===r?o.apply(t):o)+'">',((o=i.lp.call(t,"noresults","Show Web Results",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></p></div>"})),this.DDG.templates.no_more_results=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="no-results no-results--bottom t-m"><p class="no-results__title">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"noresults","No more results found for %s%s%s.",t&&t.openWrapQueryTag,t&&t.query,t&&t.closeWrapQueryTag,{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><div class="no-results__tips"><p class="no-results__tips-title">',((o=i.lp.call(t,"noresults","Suggestions:",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><ul class="no-results__tips-list"><li>',((o=i.lp.call(t,"noresults","Make sure all words are spelled correctly.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"noresults","Try different keywords.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"noresults","Try more general keywords.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"noresults","Try fewer keywords.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li></ul></div></div>"})),this.DDG.templates.no_results=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l=this;function d(e,t){var s,a="";return a+='<p class="no-results__retry">',((s=i.lp.call(e,"noresults","%sReset filters %s",'<a class="no-results__link js-no-results-retry" href="#">',"</a>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}function c(e,t){var s;return(s=i.if.call(e,e&&e.showWebLink,{hash:{},inverse:l.program(11,p,t),fn:l.program(9,h,t),data:t}))||0===s?s:""}function h(e,t){var s,a="";return a+='<p class="no-results__web"><a class="no-results__link js-no-results-web" href="#">',((s=i.lp.call(e,"noresults","Show Web Results",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></p>"}function p(e,t){var s,a="";return a+='<div class="no-results__tips"><p class="no-results__tips-title">',((s=i.lp.call(e,"noresults","Suggestions:",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><ul class="no-results__tips-list"><li>',((s=i.lp.call(e,"noresults","Make sure all words are spelled correctly.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</li><li>",((s=i.lp.call(e,"noresults","Try different keywords.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</li><li>",((s=i.lp.call(e,"noresults","Try more general keywords.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</li><li>",((s=i.lp.call(e,"noresults","Try fewer keywords.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</li></ul></div>",((s=i.if.call(e,e&&e.showRetryMessage,{hash:{},inverse:l.noop,fn:l.program(12,u,t),data:t}))||0===s)&&(a+=s),a}function u(e,t){var s,a="";return a+='<p class="no-results__retry">',((s=i.lp.call(e,"noresults","%sClick here%s to try again, if you think there should be results for this search.",e&&e.openClickHereWrapperTag,e&&e.closeClickHereWrapperTag,{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}return n+='<div data-testid="no-results-message" class="no-results t-m" ',o=i.if.call(t,t&&t.minHeight,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){var i,s="";return s+='style="min-height:'+r("function"==typeof(i=e&&e.minHeight)?i.apply(e):i)+'px;"'}),a),data:a}),(o||0===o)&&(n+=o),n+=">",o=i.if.call(t,t&&t.is506,{hash:{},inverse:l.program(5,(function(e,t){var s,a="";return a+='<p class="no-results__title">',((s=i.lp.call(e,"noresults","No %s found for %s%s%s.",e&&e.resultType,e&&e.openWrapQueryTag,e&&e.query,e&&e.closeWrapQueryTag,{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>",((s=i.if.call(e,e&&e.resetFilters,{hash:{},inverse:l.program(8,c,t),fn:l.program(6,d,t),data:t}))||0===s)&&(a+=s),a}),a),fn:l.program(3,(function(e,t){var s,a="";return a+='<p class="no-results__retry no-results__retry--506">',((s=i.lp.call(e,"noresults","Sorry, we ran into an error displaying these results. %sClick here%s to try again.",e&&e.openClickHere506WrapperTag,e&&e.closeClickHere506WrapperTag,{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.open_in_app=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="open-in-app js-open-in-app"><a class="open-in-app__deep-link js-open-in-app-link" href="#" aria-describedby="open-in-app-info">',((o=(i=this.merge(i,e.helpers)).l.call(t,"App",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></div>"})),this.DDG.templates.place_detail_hotel_ad_label=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<span class="place-detail__hotel-offers__ad js-hotel-offers-ad">Ads</span>'})),this.DDG.templates.place_detail=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=this.merge(s,e.partials),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return((s=i.if.call(e,e&&e.ddg_category,{hash:{},inverse:d.noop,fn:d.program(11,h,t),data:t}))||0===s)&&(a+=s),a+=" "+l(typeof(s=e&&e.formattedLocation)===r?s.apply(e):s)}function h(e,t){return"in"}function p(e,t){var i,s="";return s+='<p class="place-detail__description">'+l(typeof(i=e&&e.description)===r?i.apply(e):i)+"</p>"}function u(e,t){return'target="_blank" rel="noopener"'}function m(e,t){var s="";return s+='<div class="module__column__item"><img class="place-detail__themed-svg js-place-detail-ta-logo" src="/assets/maps/logo-ta-owl.svg" /><img height="15" src="'+l(i.imageProxy.call(e,e&&e.ratingImage,{hash:{},data:t}))+'" /></div>'}function _(e,t){var s;return(s=i.if.call(e,e&&e.ratingClass,{hash:{},inverse:d.noop,fn:d.program(22,f,t),data:t}))||0===s?s:""}function f(e,t){var s,a="";return a+='<div class="module__column__item">',((s=i.renderStars.call(e,e&&e.ratingClass,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}function g(e,t){var s,a="";return a+='<div class="module__column__item place-detail__review-count">'+l(typeof(s=e&&e.numberOfReviews)===r?s.apply(e):s)+" ",((s=i.lp.call(e,"maps_places","Reviews",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}function v(e,t){var i;return l(typeof(i=null==(i=e&&e.hoursStatus)||!1===i?i:i.textHour)===r?i.apply(e):i)}function w(e,t){var s,a="";return a+='<div class="module__column__item">',((s=i.if.call(e,null==(s=e&&e.hoursStatus)||!1===s?s:s.textHour,{hash:{},inverse:d.noop,fn:d.program(27,v,t),data:t}))||0===s)&&(a+=s),a+="</div>"}function y(e,t){return' target="_blank"'}function b(e,t){return"place-detail__icon-list"}function k(e,t){var s,a="";return a+='<img class="place-detail__icon-list__icon" src="/assets/maps/icon-phone.svg" alt="',((s=i.lp.call(e,"maps_places","Phone",{hash:{},data:t}))||0===s)&&(a+=s),a+='"/>'}function S(e,t){var i,s="";return s+='<a class="place-detail__icon-list__descr is-subtle-link js-place-detail-phone" href="tel:'+l(typeof(i=e&&e.phone)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.displayPhone)===r?i.apply(e):i)+"</a>"}function x(e,t){var s,a="";return a+='<span class="place-detail__link-list ',((s=i.unless.call(e,e&&e.phone,{hash:{},inverse:d.noop,fn:d.program(50,D,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.each.call(e,e&&e.socialMedia,{hash:{},inverse:d.noop,fn:d.programWithDepth(52,C,t,e),data:t}))||0===s)&&(a+=s),a+="</span>"}function D(e,t){return"place-detail__link-list--extra-margin"}function C(e,t,s){var a,o="";return((a=i.if.call(e,s&&s.phone,{hash:{},inverse:d.program(55,E,t),fn:d.program(53,T,t),data:t}))||0===a)&&(o+=a),o+='<span class="place-detail__link-list__item"><a class="js-place-detail-social" href="'+l(typeof(a=e&&e.base_url)===r?a.apply(e):a)+l(typeof(a=e&&e.id)===r?a.apply(e):a)+'" target="_blank" rel="noopener"><img class="place-detail__icon" src="/assets/maps/icon-'+l(typeof(a=e&&e.platform)===r?a.apply(e):a)+'.svg" alt="'+l(typeof(a=e&&e.platform)===r?a.apply(e):a)+'" /></a></span>'}function T(e,t){return"&vert;"}function E(e,t){var s;return(s=i.unless.call(e,null==t||!1===t?t:t.first,{hash:{},inverse:d.noop,fn:d.program(53,T,t),data:t}))||0===s?s:""}function I(e,t){var a,o="";return((a=d.invokePartial(s.place_reviews,"place_reviews",e,i,s,t))||0===a)&&(o+=a),o}function M(e,t){var s,a="";return a+='<p class="place-detail__item place-detail__attribution ',((s=i.if.call(e,e&&e.canExpand,{hash:{},inverse:d.noop,fn:d.program(66,A,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.favicon.call(e,e&&e.url,{hash:{},data:t}))||0===s)&&(a+=s),a+='<a class="module__link" href="'+l(typeof(s=e&&e.url)===r?s.apply(e):s)+'" rel="noopener" ',((s=i.if.call(e,e&&e.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(69,R,t),data:t}))||0===s)&&(a+=s),a+=">"+l(typeof(s=e&&e.moreAtExternalServiceText)===r?s.apply(e):s)+"</a></p>"}function A(e,t){var s;return(s=i.unless.call(e,e&&e.expanded,{hash:{},inverse:d.noop,fn:d.program(67,L,t),data:t}))||0===s?s:""}function L(e,t){return" is-hidden"}function R(e,t){return'target="_blank"'}function P(e,t){var a,o="";return o+='<div class="module__section place-detail__section place-detail__reviews-info">',((a=d.invokePartial(s.place_reviews,"place_reviews",e,i,s,t))||0===a)&&(o+=a),o+="</div>"}return n+='<div class="place-detail ',((o=i.if.call(t,t&&t.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"place-detail--map"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="module__section place-detail__section',((o=i.if.call(t,t&&t.canExpand,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return" module__section--minimized"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="place-detail__item place-detail__header-row"><h2 class="module__title place-detail__name">',o=i.if.call(t,t&&t.isMapExpanded,{hash:{},inverse:d.program(7,(function(e,t){var i,s="";return s+='<span class="module__title__link js-place-detail-title">'+l(typeof(i=e&&e.name)===r?i.apply(e):i)+"</span>"}),a),fn:d.program(5,(function(e,t){var i,s="";return s+='<a class="module__title__link" href="'+l(typeof(i=e&&e.titleUrl)===r?i.apply(e):i)+'" title="'+l(typeof(i=e&&e.viewOnExternalServiceText)===r?i.apply(e):i)+'" target="_blank" rel="noopener">'+l(typeof(i=e&&e.name)===r?i.apply(e):i)+"</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</h2></div>",o=i.if.call(t,t&&t.canDisplaySubheader,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s,a="";return a+='<p class="place-detail__item place-detail__subheader-row">'+l(typeof(s=e&&e.ddg_category)===r?s.apply(e):s)+" ",((s=i.if.call(e,e&&e.formattedLocation,{hash:{},inverse:d.noop,fn:d.program(10,c,t),data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.description,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var s;return(s=i.unless.call(e,e&&e.isMobile,{hash:{},inverse:d.noop,fn:d.program(14,p,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="place-detail__item"><ul class="module__row place-detail__item__review-hour-price">',o=i.if.call(t,t&&t.reviewsURL,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var s,a="";return a+='<li class="module__column"><a class="is-subtle-link" href="'+l(typeof(s=e&&e.reviewsURL)===r?s.apply(e):s)+'" ',((s=i.if.call(e,e&&e.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(17,u,t),data:t}))||0===s)&&(a+=s),a+=">",((s=i.if.call(e,e&&e.ratingImage,{hash:{},inverse:d.program(21,_,t),fn:d.program(19,m,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.numberOfReviews,{hash:{},inverse:d.noop,fn:d.program(24,g,t),data:t}))||0===s)&&(a+=s),a+="</a></li>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.hoursStatus,{hash:{},inverse:d.noop,fn:d.program(26,(function(e,t){var s,a="";return a+='<li class="module__column"><div class="module__column__item"><div class="place-detail__status place-detail__status--'+l(typeof(s=null==(s=e&&e.hoursStatus)||!1===s?s:s.style)===r?s.apply(e):s)+'">'+l(typeof(s=null==(s=e&&e.hoursStatus)||!1===s?s:s.textStatus)===r?s.apply(e):s)+" ",((s=i.if.call(e,e&&e.isMobile,{hash:{},inverse:d.noop,fn:d.program(27,v,t),data:t}))||0===s)&&(a+=s),a+="</div></div>",((s=i.unless.call(e,e&&e.isMobile,{hash:{},inverse:d.noop,fn:d.program(29,w,t),data:t}))||0===s)&&(a+=s),a+="                         </li>"}),a),data:a}),(o||0===o)&&(n+=o),((o=i.if.call(t,t&&t.price,{hash:{},inverse:d.noop,fn:d.program(31,(function(e,t){return'<li class="module__column"><div class="js-place-detail-price-range"></div></li>'}),a),data:a}))||0===o)&&(n+=o),n+='</ul></div></div><div class="module__section place-detail__section place-detail__section--main-cta"><ul class="place-detail__cta-block">',o=i.if.call(t,t&&t.website,{hash:{},inverse:d.noop,fn:d.program(33,(function(e,t){var s,a="";return a+='<li class="place-detail__cta-item place-detail__cta-item--website"><a class="js-place-detail-website" href="'+l(typeof(s=e&&e.website)===r?s.apply(e):s)+'" rel="noopener"',((s=i.if.call(e,e&&e.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(34,y,t),data:t}))||0===s)&&(a+=s),a+='><div class="place-detail__cta-icon"></div><span class="place-detail__cta-text">',((s=i.lp.call(e,"maps_places","Website",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></a></li>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<li class="place-detail__cta-item place-detail__cta-item--directions js-place-detail-directions"><div class="place-detail__cta-icon"></div><span class="place-detail__cta-text">',((o=i.lp.call(t,"maps_places","Directions",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></li>",o=i.if.call(t,t&&t.phone,{hash:{},inverse:d.noop,fn:d.program(36,(function(e,t){var s,a="";return a+='<li class="place-detail__cta-item place-detail__cta-item--call"><a class="js-place-detail-call" href="tel:'+l(typeof(s=e&&e.phone)===r?s.apply(e):s)+'"><div class="place-detail__cta-icon"></div><span class="place-detail__cta-text">',((s=i.lp.call(e,"maps_places","Call",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></a></li>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.showMapCta,{hash:{},inverse:d.noop,fn:d.program(38,(function(e,t){var s,a="";return a+='<li class="place-detail__cta-item place-detail__cta-item--map"><div class="js-place-detail-map"><div class="place-detail__cta-icon"></div><span class="place-detail__cta-text">',((s=i.l.call(e,"Map",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></div></li>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</ul></div><div class="module__section place-detail__section place-detail__main-info">',o=i.if.call(t,t&&t.address,{hash:{},inverse:d.noop,fn:d.program(40,(function(e,t){var s,a="";return a+='<p class="place-detail__item place-detail__icon-list"><img class="place-detail__icon-list__icon" src="/assets/maps/icon-map.svg" alt="',((s=i.lp.call(e,"maps_places","Address",{hash:{},data:t}))||0===s)&&(a+=s),a+='"/><span class="place-detail__icon-list__descr">'+l(typeof(s=e&&e.address)===r?s.apply(e):s)+"</span></p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.canDisplayPhoneAndSocialMediaLine,{hash:{},inverse:d.noop,fn:d.program(42,(function(e,t){var s,a="";return a+='<p class="place-detail__item ',((s=i.if.call(e,e&&e.phone,{hash:{},inverse:d.noop,fn:d.program(43,b,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.if.call(e,e&&e.phone,{hash:{},inverse:d.noop,fn:d.program(45,k,t),data:t}))||0===s)&&(a+=s),a+="<span>",((s=i.if.call(e,e&&e.phone,{hash:{},inverse:d.noop,fn:d.program(47,S,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.socialMedia,{hash:{},inverse:d.noop,fn:d.program(49,x,t),data:t}))||0===s)&&(a+=s),a+="</span></p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.openHoursDisplayToday,{hash:{},inverse:d.noop,fn:d.program(57,(function(e,t){var s,a="";return a+='<p class="place-detail__item place-detail__icon-list"><img class="place-detail__icon-list__icon" src="/assets/maps/icon-clock.svg" alt="',((s=i.lp.call(e,"maps_places","Hours",{hash:{},data:t}))||0===s)&&(a+=s),a+='"/><span class="place-detail__icon-list__descr place-detail__hours-toggle js-place-detail-hours-toggle"><strong class="place-detail__hours-toggle__weekday place-hours__item__day">'+l(typeof(s=null==(s=e&&e.openHoursDisplayToday)||!1===s?s:s.weekDay)===r?s.apply(e):s)+'</strong><strong class="place-hours__item__hours">'+l(typeof(s=null==(s=e&&e.openHoursDisplayToday)||!1===s?s:s.hours)===r?s.apply(e):s)+'</strong><i class="place-detail__toggle__icon chevron--down js-place-detail-hours-toggle-icon"></i></span></p><div class="js-place-detail-hours"></div>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.popularHoursData,{hash:{},inverse:d.noop,fn:d.program(59,(function(e,t){var s,a="";return a+='<div class="place-detail__item place-detail__icon-list"><img class="place-detail__icon-list__icon" src="/assets/maps/icon-stocks.svg" alt="',((s=i.lp.call(e,"maps_places","Hours",{hash:{},data:t}))||0===s)&&(a+=s),a+='"/><span class="place-detail__icon-list__descr">'+l(typeof(s=e&&e.popularHoursOnWeekday)===r?s.apply(e):s)+'</span></div><div class="js-place-detail-popular-hours"></div>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.reviews,{hash:{},inverse:d.program(64,(function(e,t){var s;return(s=i.if.call(e,e&&e.showAttribution,{hash:{},inverse:d.noop,fn:d.program(65,M,t),data:t}))||0===s?s:""}),a),fn:d.program(61,(function(e,t){var s;return(s=i.if.call(e,e&&e.isMobile,{hash:{},inverse:d.noop,fn:d.program(62,I,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="js-hotel-offers"></div>',o=i.unless.call(t,t&&t.isMobile,{hash:{},inverse:d.noop,fn:d.program(71,(function(e,t){var s;return(s=i.if.call(e,e&&e.reviews,{hash:{},inverse:d.noop,fn:d.program(72,P,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.place_details_hotel_ads_tooltip=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<span>Viewing ads is privacy protected by DuckDuckGo. Ad clicks are managed by Tripadvisor\'s ad network. <a class="tooltip-link" href="https://duckduckgo.com/duckduckgo-help-pages/company/ads-by-tripadvisor-on-duckduckgo-private-search">More info</a></span>'})),this.DDG.templates.place_header=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<div class="module__header__image__more"><span class="label">'+l(typeof(i=e&&e.morePhotosText)===r?i.apply(e):i)+"</span></div>"}return n+='<div class="module__header ',((o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"module__header--with-image"}),a),data:a}))||0===o)&&(n+=o),n+=" module__header--"+l(typeof(o=t&&t.sourceId)===r?o.apply(t):o)+' js-place-header">',o=i.if.call(t,t&&t.image,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return a+='<a class="module__header__image js-place-header-image" href="'+l(typeof(s=e&&e.imageURL)===r?s.apply(e):s)+'" title="'+l(typeof(s=e&&e.morePhotosText)===r?s.apply(e):s)+'"style="background-image: url(\''+l(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'\')"><img class="module__header__image__img" src="'+l(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'" />',((s=i.unless.call(e,e&&e.isScrapedImage,{hash:{},inverse:d.noop,fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+="</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module__header__map js-place-header-map"></div><div class="module__header__shadow"></div></div>'})),this.DDG.templates.place_hours=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){var s,a="";return a+='<tr class="place-hours__item"><td class="place-hours__item__day">'+d(typeof(s=e&&e.weekDay)===l?s.apply(e):s)+'</td><td class="place-hours__item__hours">',((s=i.if.call(e,e&&e.hours,{hash:{},inverse:r.noop,fn:r.program(3,h,t),data:t}))||0===s)&&(a+=s),a+="</td></tr>"}function h(e,t){var s,a="";return a+="<span",((s=i.unless.call(e,e&&e.isOpen,{hash:{},inverse:r.noop,fn:r.program(4,p,t),data:t}))||0===s)&&(a+=s),a+=">"+d(typeof(s=e&&e.hours)===l?s.apply(e):s)+"</span>"}function p(e,t){return' class="place-detail__status--off"'}return n+='<div class="place-hours is-hidden"><table><tbody>',o=i.each.call(t,t&&t.openHoursDisplay,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s;return(s=i.unless.call(e,e&&e.isToday,{hash:{},inverse:r.noop,fn:r.program(2,c,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</tbody></table></div>"})),this.DDG.templates.place_list_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){return"multiple-ctas"}function h(e,t){var s="";return s+='<img class="review__rating-stars place-list-item__rating__image" src="'+d(i.imageProxy.call(e,e&&e.ratingImage,{hash:{},data:t}))+'" />'}function p(e,t){var s;return(s=i.if.call(e,e&&e.ratingClass,{hash:{},inverse:r.noop,fn:r.program(10,u,t),data:t}))||0===s?s:""}function u(e,t){var s;return(s=i.renderStars.call(e,e&&e.ratingClass,{hash:{},data:t}))||0===s?s:""}function m(e,t){var i,s="";return s+=d(typeof(i=e&&e.source)===l?i.apply(e):i)+" ("+d(typeof(i=e&&e.numberOfReviews)===l?i.apply(e):i)+")"}function _(e,t){var s,a="";return((s=i.if.call(e,e&&e.priceSymbol,{hash:{},inverse:r.noop,fn:r.program(15,f,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.categories,{hash:{},inverse:r.noop,fn:r.program(18,v,t),data:t}))||0===s)&&(a+=s),a}function f(e,t){var s,a="";return((s=i.if.call(e,e&&e.numberOfReviews,{hash:{},inverse:r.noop,fn:r.program(16,g,t),data:t}))||0===s)&&(a+=s),a+=d(typeof(s=e&&e.priceSymbol)===l?s.apply(e):s)}function g(e,t){return"&nbsp;&middot;&nbsp;"}function v(e,t){var i,s="";return s+="&nbsp;&middot;&nbsp;"+d(typeof(i=e&&e.categories)===l?i.apply(e):i)}function w(e,t){var s,a="";return a+='<li class="place-list-item__info__item">',((s=i.if.call(e,e&&e.priceSymbol,{hash:{},inverse:r.noop,fn:r.program(22,y,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.categories,{hash:{},inverse:r.noop,fn:r.program(24,b,t),data:t}))||0===s)&&(a+=s),a+="</li>"}function y(e,t){var i;return d(typeof(i=e&&e.priceSymbol)===l?i.apply(e):i)}function b(e,t){var s,a="";return((s=i.if.call(e,e&&e.priceSymbol,{hash:{},inverse:r.noop,fn:r.program(16,g,t),data:t}))||0===s)&&(a+=s),a+=d(typeof(s=e&&e.categories)===l?s.apply(e):s)}function k(e,t){var i,s="";return s+=" · "+d(typeof(i=e&&e.distanceStr)===l?i.apply(e):i)}function S(e,t){var i,s="";return s+="&nbsp;&middot;&nbsp;"+d(typeof(i=null==(i=e&&e.hoursStatus)||!1===i?i:i.textHour)===l?i.apply(e):i)}function x(e,t){var s,a="";return a+='<a class="place-list-item__cta-item place-list-item__cta-item--'+d(typeof(s=e&&e.id)===l?s.apply(e):s)+" js-place-list-item-"+d(typeof(s=e&&e.id)===l?s.apply(e):s)+'" rel="noopener" ',((s=i.if.call(e,e&&e.href,{hash:{},inverse:r.noop,fn:r.program(36,D,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=i.if.call(e,e&&e.isMapExpanded,{hash:{},inverse:r.noop,fn:r.program(38,C,t),data:t}))||0===s)&&(a+=s),a+='><div class="place-list-item__cta-item__button" ><span class="place-list-item__cta-item__icon"></span><span class="place-list-item__cta-item__text">'+d(typeof(s=e&&e.text)===l?s.apply(e):s)+"</span></div></a>"}function D(e,t){var i,s="";return s+=" href="+d(typeof(i=e&&e.href)===l?i.apply(e):i)}function C(e,t){return' target="_blank"'}function T(e,t){var s="";return s+='<div class="place-list-item__image js-place-list-item-image"style="background-image: url(\''+d(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'\')"><img class="place-list-item__image__img" src="'+d(i.imageProxy.call(e,e&&e.image,{hash:{},data:t}))+'" /></div>'}return n+='<div class="module__section place-list-item js-place-list-item ',o=i.if.call(t,null==(o=t&&t.answer)||!1===o?o:o.isFunctionalLayout,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s,a="";return a+="functional-layout ",((s=i.if.call(e,e&&e.hasMultipleCtas,{hash:{},inverse:r.noop,fn:r.program(2,c,t),data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='"> <div class="place-list-item__details js-place-list-item-details"><h2 class="place-list-item__title">',o=i.if.call(t,t&&t.number,{hash:{},inverse:r.noop,fn:r.program(4,(function(e,t){var i,s="";return s+=d(typeof(i=e&&e.number)===l?i.apply(e):i)+". "}),a),data:a}),(o||0===o)&&(n+=o),n+=d(typeof(o=t&&t.name)===l?o.apply(t):o)+"</h2>",o=i.if.call(t,t&&t.rating,{hash:{},inverse:r.noop,fn:r.program(6,(function(e,t){var s,a="";return a+='<p class="place-list-item__rating place-list-item__rating--'+d(typeof(s=e&&e.sourceId)===l?s.apply(e):s)+'">',((s=i.if.call(e,e&&e.ratingImage,{hash:{},inverse:r.program(9,p,t),fn:r.program(7,h,t),data:t}))||0===s)&&(a+=s),a+='<span class="review__count place-list-item__rating__count">',((s=i.if.call(e,e&&e.numberOfReviews,{hash:{},inverse:r.noop,fn:r.program(12,m,t),data:t}))||0===s)&&(a+=s),((s=i.unless.call(e,e&&e.showPriceCategoryNewLine,{hash:{},inverse:r.noop,fn:r.program(14,_,t),data:t}))||0===s)&&(a+=s),a+="</span></p>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<ul class="place-list-item__info">',o=i.if.call(t,t&&t.showPriceCategoryNewLine,{hash:{},inverse:r.noop,fn:r.program(20,(function(e,t){var s;return(s=i.if.call(e,e&&e.hasPriceOrCategory,{hash:{},inverse:r.noop,fn:r.program(21,w,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.shortAddress,{hash:{},inverse:r.noop,fn:r.program(26,(function(e,t){var s,a="";return a+='<li class="place-list-item__info__item">'+d(typeof(s=e&&e.shortAddress)===l?s.apply(e):s),((s=i.if.call(e,e&&e.distanceStr,{hash:{},inverse:r.noop,fn:r.program(27,k,t),data:t}))||0===s)&&(a+=s),a+="</li>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.addressLine2,{hash:{},inverse:r.noop,fn:r.program(29,(function(e,t){var i,s="";return s+='<li class="place-list-item__info__item">'+d(typeof(i=e&&e.addressLine2)===l?i.apply(e):i)+"</li>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.hoursToday,{hash:{},inverse:r.noop,fn:r.program(31,(function(e,t){var s,a="";return a+='<li class="place-list-item__info__item"><span class="place-detail__status place-detail__status--'+d(typeof(s=null==(s=e&&e.hoursStatus)||!1===s?s:s.style)===l?s.apply(e):s)+'">'+d(typeof(s=null==(s=e&&e.hoursStatus)||!1===s?s:s.textStatus)===l?s.apply(e):s)+"</span>",((s=i.if.call(e,null==(s=e&&e.hoursStatus)||!1===s?s:s.textHour,{hash:{},inverse:r.noop,fn:r.program(32,S,t),data:t}))||0===s)&&(a+=s),a+="</li>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</ul></div>",o=i.if.call(t,null==(o=t&&t.answer)||!1===o?o:o.isFunctionalLayout,{hash:{},inverse:r.program(40,(function(e,t){var s;return(s=i.if.call(e,e&&e.image,{hash:{},inverse:r.noop,fn:r.program(41,T,t),data:t}))||0===s?s:""}),a),fn:r.program(34,(function(e,t){var s,a="";return a+='<div class="place-list-item__cta-block">',((s=i.each.call(e,e&&e.functionalLayoutOptions,{hash:{},inverse:r.noop,fn:r.program(35,x,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.place_popular_hours=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="place-popular-hours"></div>'})),this.DDG.templates.place_price_range=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this;function l(e,t){return"is-filled"}return n+='<div class="place-price-range">',o=i.each.call(t,t&&t.priceSymbolList,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s,a="";return a+='<span class="place-price-range__item ',((s=i.if.call(e,e&&e.isFilled,{hash:{},inverse:r.noop,fn:r.program(2,l,t),data:t}))||0===s)&&(a+=s),a+='">$</span>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.place_snippet=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<a href="#" class="module__link place-snippet__link js-place-snippet-trigger">'+l(typeof(i=e&&e.title)===r?i.apply(e):i)+"</a>"}function h(e,t){var i;return l(typeof(i=e&&e.title)===r?i.apply(e):i)}return n+='<div class="module place-snippet"><h2 class="place-snippet__header module__title__link">',o=i.if.call(t,t&&t.url,{hash:{},inverse:d.program(3,(function(e,t){var s;return(s=i.if.call(e,e&&e.action,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s?s:""}),a),fn:d.program(1,(function(e,t){var i,s="";return s+='<a href="'+l(typeof(i=e&&e.url)===r?i.apply(e):i)+'" class="module__link place-snippet__link">'+l(typeof(i=e&&e.title)===r?i.apply(e):i)+"</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</h2><p class="place-snippet__subtitle module__title__sub"><a href="#" class="place-snippet__subtitle-name js-place-snippet-subtitle-name">'+l(typeof(o=t&&t.name)===r?o.apply(t):o)+"</a>"+l(typeof(o=t&&t.infoType)===r?o.apply(t):o)+"</p></div>"})),this.DDG.templates.places_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){return'<a class="js-places-module-location change-location-ghost-link"><span class="location-icon"><svg class="module--places-map-ghost-icon" height="16" fill="#1A0DAB" viewBox="0 0 16 16"xmlns="http://www.w3.org/2000/svg"><path d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4" /><path fill-rule="evenodd"d="M8 0a6 6 0 0 0-5.885 7.17c.237 1.19.88 2.23 1.616 3.044a23.086 23.086 0 0 1 2.791 3.784c.282.483.48.872.606 1.136a8.997 8.997 0 0 1 .166.372l.007.015v.002a.75.75 0 0 0 1.417-.056l.005-.015.023-.068c.022-.064.058-.162.11-.291a11.8 11.8 0 0 1 .525-1.116c.505-.95 1.344-2.272 2.672-3.72.68-.743 1.584-1.843 1.832-3.086A6 6 0 0 0 8 0m.056 13.273-.105.202A24.58 24.58 0 0 0 4.845 9.21c-.614-.682-1.09-1.485-1.259-2.333a4.5 4.5 0 1 1 8.828 0c-.158.794-.786 1.623-1.467 2.365-1.422 1.552-2.333 2.98-2.89 4.03"clip-rule="evenodd" /></svg></span>Update Location</a>'}function h(e,t){return'<a class="js-places-module-location change-location-link"><span class="location-icon"><svg class="module--places-map-icon" height="16" fill="#1A0DAB" viewBox="0 0 16 16"xmlns="http://www.w3.org/2000/svg"><path d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4" /><path fill-rule="evenodd"d="M8 0a6 6 0 0 0-5.885 7.17c.237 1.19.88 2.23 1.616 3.044a23.086 23.086 0 0 1 2.791 3.784c.282.483.48.872.606 1.136a8.997 8.997 0 0 1 .166.372l.007.015v.002a.75.75 0 0 0 1.417-.056l.005-.015.023-.068c.022-.064.058-.162.11-.291a11.8 11.8 0 0 1 .525-1.116c.505-.95 1.344-2.272 2.672-3.72.68-.743 1.584-1.843 1.832-3.086A6 6 0 0 0 8 0m.056 13.273-.105.202A24.58 24.58 0 0 0 4.845 9.21c-.614-.682-1.09-1.485-1.259-2.333a4.5 4.5 0 1 1 8.828 0c-.158.794-.786 1.623-1.467 2.365-1.422 1.552-2.333 2.98-2.89 4.03"clip-rule="evenodd" /></svg></span>Change Location</a>'}return n+='<div class="module--places-wrapper">',o=i.if.call(t,t&&t.location_info,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="module--places-location"><div class="module--places-location-desc">',((s=i.lp.call(e,"precise_user_location","Results near",{hash:{},data:t}))||0===s)&&(a+=s),a+=' <span class="location-name">'+l(typeof(s=e&&e.location_info)===r?s.apply(e):s)+"</span>",((s=i.if.call(e,e&&e.pul,{hash:{},inverse:d.program(4,h,t),fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="module--places-badge js-places-module-badge"></div></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="module module--places ',((o=i.if.call(t,t&&t.isSingle,{hash:{},inverse:d.program(8,(function(e,t){return"is-multiple"}),a),fn:d.program(6,(function(e,t){return"is-single"}),a),data:a}))||0===o)&&(n+=o),n+=" js-module--"+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'"><span class="is-hidden js-places-module-privacy-link places-module-privacy-link"><a class="feedback-prompt__link" target="_blank"href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/">',((o=i.lp.call(t,"maps_places","Your actual location remains private",{hash:{},data:a}))||0===o)&&(n+=o),n+='</a>&nbsp;|&nbsp;</span><div class="js-places-module-content"></div>',((o=i.if.call(t,t&&t.isSingle,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){return'<div class="module__toggle module__toggle--map js-places-module-map"><span class="btn module__toggle__chevron--alt">></span><div class="module__toggle__text">Show More</div></div>'}),a),data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.places_multiple=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="module--places-multiple js-places-multiple"><div class=\'module__places-multiple__top-left js-places-multiple-top-left\'></div><div class=\'module__places-multiple__top-right js-places-multiple-top-right\'></div><div class="module__header"><div class="module__header__map js-places-multiple-map" /><div class="module__header__shadow"></div></div><div class="module__place-list js-places-multiple-list"></div>',o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.isMobile,{hash:{},inverse:this.program(3,(function(e,t){var s,a="";return a+='<div class="module__places-more module__section"><span class="module__link module__link--blue module__places-more__link--more-places js-places-multiple-expand">',((s=i.l.call(e,"More Places",{hash:{},data:t}))||0===s)&&(a+=s),a+="</span></div>"}),a),fn:this.program(1,(function(e,t){var s,a="";return a+='<div class="module__toggle module__toggle--map js-places-multiple-expand"><span class="btn module__toggle__chevron--alt">></span><div class="module__toggle__text">',((s=i.l.call(e,"More Places",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.places_single_map=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="places-single-map">',((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.showPlaceholder,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return'<div class="places-single-map__placeholder"></div>'}),a),data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.places_single=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},'<div class="js-places-module-content js-places-single"></div>'})),this.DDG.templates.privacy_message=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="module--carousel__privacy-message"><a href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/" target="_blank"><span class="text">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"maps_places","Your actual location remains private",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></a></div>"})),this.DDG.templates.privacy_reminder_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+="<div class='modal modal--dropdown modal--popout modal--dropdown--privacy-reminder has-header js-dropdown-popout'><div class='modal__overlay js-modal-close'></div><div class='modal__wrap'><div class='modal__box privacy-reminder__modal__inner'><ol class='privacy-reminder__model__list'><div class='text--primary privacy-reminder__upper-section'>",((o=(i=this.merge(i,e.helpers)).lp.call(t,"Appears in the tooltip of the privacy reminder that may appear in the search filter bar","DuckDuckGo never tracks your searches.",{hash:{},data:a}))||0===o)&&(n+=o),n+="<br /><a class='privacy-reminder__modal-link privacy-reminder__modal-learnmore js-privacyreminder__modal-learnmore'href='https://duckduckgo.com/duckduckgo-help-pages/search-privacy/'target='_blank'rel='noopener'>",((o=i.l.call(t,"Learn %sMore%s","","",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></div><li class='privacy-reminder__modal__list__divider'></li><div class='privacy-reminder__modal-hide'>",((o=i.l.call(t,"You can hide this reminder in %sSearch Settings%s",t&&t.openLinkTag,t&&t.closeLinkTag,{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></ol></div></div></div>"})),this.DDG.templates.privacy_reminder=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+="<div class='dropdown dropdown--region privacy-reminder dropdown'><div class='dropdown__button js-dropdown-button privacy-reminder__inner'><div class='js-privacy-reminder-icon privacy-reminder__icon'><div class='privacy-reminder__icon-inner privacy-reminder__icon-circle'></div><div class='privacy-reminder__icon-inner privacy-reminder__icon-shield'></div><div class='privacy-reminder__icon-inner privacy-reminder__icon-check'></div></div><span class='privacy-reminder__text'>",((o=(i=this.merge(i,e.helpers)).l.call(t,"Always private",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></div></div>"})),this.DDG.templates.react_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+='<div class="react-module" data-hide-untill-css-vars-polyfilled="true" data-react-module-id="'+(0,this.escapeExpression)("function"==typeof(o=t&&t.id)?o.apply(t):o)+'"></div>'})),this.DDG.templates.region_filter_modal_items=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){return'<li class="modal__list__divider"></li>'}function h(e,t){return"is-selected"}return o=i.if.call(t,t&&t.showListHeader,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s,a="";return a+='<div class="modal__list__header">',((s=i.lp.call(e,"region filter","Recent:",{hash:{},data:t}))||0===s)&&(a+=s),a+='<a class="modal__list__clear js-region-filter-clear no-visited" href="#">',((s=i.l.call(e,"Clear",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a></div>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.each.call(t,t&&t.regions,{hash:{},inverse:r.noop,fn:r.program(3,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.showDivider,{hash:{},inverse:r.noop,fn:r.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='<li class="modal__list__item"><a class="modal__list__link  ',((s=i.if.call(e,e&&e.selected,{hash:{},inverse:r.noop,fn:r.program(6,h,t),data:t}))||0===s)&&(a+=s),a+=' js-region-filter-link" data-id="'+d(typeof(s=e&&e.id)===l?s.apply(e):s)+'" data-index="'+d(typeof(s=null==t||!1===t?t:t.index)===l?s.apply(e):s)+'"><span class="region-flag__wrap region-flag__wrap--small has-region"><span class="flag-xs  flag-xs-'+d(typeof(s=e&&e.countryCode)===l?s.apply(e):s)+'"></span></span>'+d(typeof(s=e&&e.name)===l?s.apply(e):s)+"</a></li>"}),a),data:a}),(o||0===o)&&(n+=o),n})),this.DDG.templates.region_filter_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this;function l(e,t){var s,a="";return a+='<a class="modal__header__clear sep--before js-region-filter-clear">',((s=i.l.call(e,"Clear All",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}return n+='<div class="modal modal--dropdown ',((o=i.if.call(t,t&&t.isPopover,{hash:{},inverse:r.program(3,(function(e,t){return"modal--popout"}),a),fn:r.program(1,(function(e,t){return"modal--popover modal--popover--gray"}),a),data:a}))||0===o)&&(n+=o),n+=' modal--dropdown--region has-header js-dropdown-popout"><div class="modal__overlay  js-modal-close"></div><div class="modal__wrap"><div class="modal__box">',o=i.if.call(t,t&&t.isPopover,{hash:{},inverse:r.program(7,(function(e,t){var s,a="";return a+='<div class="modal__header"><input class="frm__input  js-region-filter-input" placeholder="',((s=i.l.call(e,"Search",{hash:{},data:t}))||0===s)&&(a+=s),a+='" />',((s=i.if.call(e,e&&e.hasRegionOrSuggested,{hash:{},inverse:r.noop,fn:r.program(8,l,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),fn:r.program(5,(function(e,t){var s,a="";return a+='<div class="modal__header"><span class="modal__header__title">',((s=i.l.call(e,"Filter by Region",{hash:{},data:t}))||0===s)&&(a+=s),a+='</span><a href="#"  class="modal__close  js-modal-close">X</a></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="modal__body">',o=i.if.call(t,t&&t.isPopover,{hash:{},inverse:r.noop,fn:r.program(10,(function(e,t){var s,a="";return a+='<div class="modal__body__input"><input class="frm__input  js-region-filter-input" placeholder="',((s=i.l.call(e,"Search",{hash:{},data:t}))||0===s)&&(a+=s),a+='" /></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<ol class="modal__list  js-region-filter-list"></ol></div></div></div></div>'})),this.DDG.templates.region_filter=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l=this.escapeExpression;function d(e,t){return"has-inactive-region"}function c(e,t){return"is-on"}return n+='<div class="dropdown dropdown--region ',o=i.if.call(t,t&&t.hasRegion,{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s,a="";return a+="is-active ",((s=i.if.call(e,e&&e.hasActiveRegion,{hash:{},inverse:r.program(2,d,t),fn:r.noop,data:t}))||0===s)&&(a+=s),a}),a),data:a}),(o||0===o)&&(n+=o),n+='">',o=i.if.call(t,t&&t.hasRegion,{hash:{},inverse:r.noop,fn:r.program(4,(function(e,t){var s,a="";return a+='<div class="dropdown__switch switch js-region-filter-switch ',((s=i.if.call(e,e&&e.hasActiveRegion,{hash:{},inverse:r.noop,fn:r.program(5,c,t),data:t}))||0===s)&&(a+=s),a+='"><span class="switch__knob"></span></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+='<a data-testid="region-filter-label" class="dropdown__button dropdown__button js-dropdown-button ',((o=i.if.call(t,t&&t.isAllRegion,{hash:{},inverse:r.noop,fn:r.program(7,(function(e,t){return"all"}),a),data:a}))||0===o)&&(n+=o),n+='">'+l("function"==typeof(o=t&&t.regionName)?o.apply(t):o)+"</a></div>"})),this.DDG.templates.related_searches_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<li class="related-searches__item"><a class="result__a related-searches__link js-related-searches-link" href="'+l(typeof(i=e&&e.web_search_url)===r?i.apply(e):i)+'"><span class="related-searches__item-text"><span>',((i=typeof(i=e&&e.display_text)===r?i.apply(e):i)||0===i)&&(s+=i),s+="&ZeroWidthSpace;</span></span></a></li>"}return((o=i.if.call(t,t&&t.isAtBottom,{hash:{},inverse:d.program(3,(function(e,t){return'<div class="related-searches t-m">'}),a),fn:d.program(1,(function(e,t){return'<div class="related-searches t-m at-bottom">'}),a),data:a}))||0===o)&&(n+=o),n+='<p class="related-searches__title-long">',((o=i.l.call(t,"Searches related to <b>%s</b>",t&&t.query,{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><p class="related-searches__title-short">',((o=i.l.call(t,"Related Searches",{hash:{},data:a}))||0===o)&&(n+=o),n+='</p><div class="related-searches__lists"><ol class="related-searches__list related-searches__list--first">',((o=i.each.call(t,t&&t.firstHalf,{hash:{},inverse:d.noop,fn:d.program(5,c,a),data:a}))||0===o)&&(n+=o),n+='</ol><ol class="related-searches__list">',((o=i.each.call(t,t&&t.secondHalf,{hash:{},inverse:d.noop,fn:d.program(5,c,a),data:a}))||0===o)&&(n+=o),n+="</ol></div></div>"})),this.DDG.templates.report_ads_button=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="report-ad"><span class="report-ad__start js-report-ad-start"><i class="ddgsi-comment ddgsi"></i><a href="#" class="report-ad__link">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"ads","Report Ad",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></span></div>"})),this.DDG.templates.report_image_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="modal modal--popover  modal--popover--gray feedback-modal"><a href="#" class="modal__overlay js-modal-close"></a><div class="modal__wrap modal__wrap--feedback"><div class="modal__box modal__box--feedback"><div class="modal__box__content js-feedback-form"><h5 class="feedback-modal__heading"><span class="feedback-modal__heading__main">',((o=i.lp.call(t,"Report image modal","Report this image",{hash:{},data:a}))||0===o)&&(n+=o),n+='</span><a href="#" class="feedback-modal__close modal__close js-modal-close">X</a></h5><div class="frm frm--feedback"><div class="feedback-modal__image"><img src="'+l(i.imageProxy.call(t,t&&t.thumbnail,{hash:{},data:a}))+'"></div><div class="frm__select feedback-modal__input feedback-modal__input--dropdown"><select class="js-feedback-dropdown">',o=i.each.call(t,t&&t.options,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+='<option value="'+l(typeof(i=e&&e.val)===r?i.apply(e):i)+'">'+l(typeof(i=e&&e.text)===r?i.apply(e):i)+"</option>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</select></div><textarea class="frm__text feedback-modal__input feedback-modal__input--text js-feedback-comment"></textarea><a href="#" class="feedback-modal__submit is-disabled btn btn--primary--alt js-feedback-submit">',((o=i.l.call(t,"Submit",{hash:{},data:a}))||0===o)&&(n+=o),n+='</a></div></div><div class="modal__box__content js-feedback-success"><h5 class="feedback-modal__heading feedback-modal__heading--success">',((o=i.lp.call(t,"feedback form","Feedback Sent",{hash:{},data:a}))||0===o)&&(n+=o),n+='<a href="#" class="feedback-modal__close modal__close js-modal-close">X</a></h5><p class="feedback-modal__message">',((o=i.l.call(t,"Thank you!",{hash:{},data:a}))||0===o)&&(n+=o),n+=" ",((o=i.lp.call(t,"feedback form","We use feedback like this to improve DuckDuckGo.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</p></div></div></div></div>"})),this.DDG.templates.spelling_dym=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div data-testid="spelling-message" id="did_you_mean" class="msg  msg--result  msg--spelling">',((o=(i=this.merge(i,e.helpers)).l.call(t,"Did you mean %s?",t&&t.spellingSuggestionLink,{hash:{},data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.spelling_irf=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div data-testid="spelling-message" id="did_you_mean" class="msg  msg--result  msg--spelling"><div class="msg__wrap"><span class="msg__line">',((o=(i=this.merge(i,e.helpers)).l.call(t,"Including results for %s",t&&t.spellingSuggestionLink,{hash:{},data:a}))||0===o)&&(n+=o),n+='</span><span class="msg__line  msg__line--small">',((o=i.l.call(t,"Search only for %s?",t&&t.spellingRecourseLink,{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></div></div>"})),this.DDG.templates.spelling_nmrc=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div data-testid="spelling-message" id="did_you_mean" class="msg  msg--result  msg--spelling"><div class="msg__wrap"><span class="msg__line">',((o=(i=this.merge(i,e.helpers)).l.call(t,"Not many results contain %s",t&&t.spellingSuggestionSlot,{hash:{},data:a}))||0===o)&&(n+=o),n+='</span><span class="msg__line  msg__line--small">',((o=i.l.call(t,"Search only for %s?",t&&t.spellingRecourseLink,{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></div></div>"})),this.DDG.templates.spread_cta=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="module ia-module--spread-cta ',((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.hasTopMargin,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"spread-cta--has-top-margin"}),a),data:a}))||0===o)&&(n+=o),n+='"><div class="module__content"><a href="/spread" class="spread-cta--link js-spread-cta-link"></a><img class="spread-cta--icon" src="/assets/icons/spread.svg" aria-hidden="true" /><p class="spread-cta--title">Help Spread DuckDuckGo!</p><p class="spread-cta--cta">Help your friends take back their privacy.</p></div></div>'})),this.DDG.templates.stocks=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<span class="stocks-module__timePeriod js-stocks-module-timePeriod"><span class="stocks-module__timePeriodDesktop">'+l(typeof(s=e&&e.label)===r?s.apply(e):s)+'</span><span class="stocks-module__timePeriodMobile">',((s=i.if.call(e,e&&e.mobileLabel,{hash:{},inverse:d.program(5,p,t),fn:d.program(3,h,t),data:t}))||0===s)&&(a+=s),a+="</span></span>"}function h(e,t){var i;return l(typeof(i=e&&e.mobileLabel)===r?i.apply(e):i)}function p(e,t){var i;return l(typeof(i=e&&e.label)===r?i.apply(e):i)}function u(e,t){var s,a="";return a+='<div class="stocks-module__stats"><div class="stocks-module__stat-col"><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","Open",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-open">'+l(typeof(s=e&&e.open)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__desktop-only stocks-module__no-border-desktop"><label>',((s=i.lp.call(e,"Stocks module","Prev Close",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.prevCloseFormatted)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only"><label>',((s=i.lp.call(e,"Stocks module","High",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-high">'+l(typeof(s=e&&e.high)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only stocks-module__no-border-mobile"><label>',((s=i.lp.call(e,"Stocks module","Low",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-low">'+l(typeof(s=e&&e.low)===r?s.apply(e):s)+'</p></div></div><div class="stocks-module__stat-col"><div class="stocks-module__stat stocks-module__desktop-only"><label>',((s=i.lp.call(e,"Stocks module","High",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-high">'+l(typeof(s=e&&e.high)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__no-border-desktop stocks-module__desktop-only"><label>',((s=i.lp.call(e,"Stocks module","Low",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-low">'+l(typeof(s=e&&e.low)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only"><label>',((s=i.lp.call(e,"Stocks module","52wk High",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.week52High)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only"><label>',((s=i.lp.call(e,"Stocks module","52wk Low",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.week52Low)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only stocks-module__no-border-mobile"><label>',((s=i.lp.call(e,"Stocks module","Prev Close",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.prevCloseFormatted)===r?s.apply(e):s)+'</p></div></div><div class="stocks-module__stat-col stocks-module__desktop-only"><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","52wk High",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.week52High)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__no-border-desktop"><label>',((s=i.lp.call(e,"Stocks module","52wk Low",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.week52Low)===r?s.apply(e):s)+"</p></div></div></div>"}function m(e,t){var s,a="";return a+='<div class="stocks-module__stats"><div class="stocks-module__stat-col"><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","Open",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-open">'+l(typeof(s=e&&e.open)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","High",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-high">'+l(typeof(s=e&&e.high)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__no-border-desktop"><label>',((s=i.lp.call(e,"Stocks module","Low",{hash:{},data:t}))||0===s)&&(a+=s),a+='</label><p class="js-stocks-module-low">'+l(typeof(s=e&&e.low)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only stocks-module__no-border-mobile"><label>',((s=i.lp.call(e,"Stocks module","P/E",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.peRatio)===r?s.apply(e):s)+'</p></div></div><div class="stocks-module__stat-col"><div class="stocks-module__stat stocks-module__desktop-only"><label>',((s=i.lp.call(e,"Stocks module","P/E",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.peRatio)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only"><label>',((s=i.lp.call(e,"Stocks module","Avg Vol",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.volumeString)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","52wk High",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.week52High)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__no-border-desktop"><label>',((s=i.lp.call(e,"Stocks module","52wk Low",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.week52Low)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__mobile-only stocks-module__no-border-mobile"><label>',((s=i.lp.call(e,"Stocks module","Mkt Cap",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.marketCapString)===r?s.apply(e):s)+"</p></div>",((s=i.ifEquals.call(e,e&&e.upstream,"refinitiv",{hash:{},inverse:d.noop,fn:d.program(10,_,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="stocks-module__stat-col stocks-module__desktop-only"><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","Avg Vol",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.volumeString)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat"><label>',((s=i.lp.call(e,"Stocks module","Prev Close",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.prevCloseFormatted)===r?s.apply(e):s)+'</p></div><div class="stocks-module__stat stocks-module__no-border-desktop"><label>',((s=i.lp.call(e,"Stocks module","Mkt Cap",{hash:{},data:t}))||0===s)&&(a+=s),a+="</label><p>"+l(typeof(s=e&&e.marketCapString)===r?s.apply(e):s)+"</p></div>",((s=i.ifEquals.call(e,e&&e.upstream,"refinitiv",{hash:{},inverse:d.noop,fn:d.program(12,f,t),data:t}))||0===s)&&(a+=s),a+="</div></div>"}function _(e,t){var s,a="";return a+='<p class="stocks-module__stat-disclaimer stocks-module__mobile-only">',((s=i.lp.call(e,"Stocks module","At Prev Close",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}function f(e,t){var s,a="";return a+='<p class="stocks-module__stat-disclaimer stocks-module__desktop-only">',((s=i.lp.call(e,"Stocks module","At Prev Close",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}function g(e,t){var s;return(s=i.lp.call(e,"Stocks module","Source: Refinitiv",{hash:{},data:t}))||0===s?s:""}function v(e,t){var s;return(s=i.lp.call(e,"Stocks module","Source: IEX Cloud",{hash:{},data:t}))||0===s?s:""}return n+='<div class="module ia-module--stocks"><div class="module__content">',o=i.with.call(t,t&&t.data,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<div class="stocks-module__header"><div><div class="module__title">'+l(typeof(s=null==(s=null==(s=e&&e.results)||!1===s?s:s.quote)||!1===s?s:s.companyName)===r?s.apply(e):s)+'</div><div class="stocks-module__latestUpdate">',((s=i.lp.call(e,"Stocks module","As of",{hash:{},data:t}))||0===s)&&(a+=s),a+="&nbsp;"+l(typeof(s=e&&e.latestUpdateString)===r?s.apply(e):s)+'</div></div><div class="stocks-module__exchange">'+l(typeof(s=e&&e.stockExchange)===r?s.apply(e):s)+": "+l(typeof(s=e&&e.symbol)===r?s.apply(e):s)+'</div></div><div class="stocks-module__currentPriceInfo"><div class="stocks-module__priceInfo"><span class="stocks-module__currentPrice">'+l(typeof(s=e&&e.latestPrice)===r?s.apply(e):s)+'</span><span class="stocks-module__currency">'+l(typeof(s=null==(s=null==(s=e&&e.results)||!1===s?s:s.quote)||!1===s?s:s.currency)===r?s.apply(e):s)+'</span></div><div class="stocks-module__changeInfo"><span class="stocks-module__change js-stocks-module-change color-coded">'+l(typeof(s=e&&e.change)===r?s.apply(e):s)+'</span><span class="js-stocks-module-changePercent color-coded">('+l(typeof(s=e&&e.percentChangeString)===r?s.apply(e):s)+'%)</span><span class="stocks-module__arrow color-coded"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 3.25C9 2.83579 8.66421 2.5 8.25 2.5C7.83579 2.5 7.5 2.83579 7.5 3.25V11.7495L4.26403 8.70385C3.9624 8.41996 3.48774 8.43435 3.20385 8.73598C2.91996 9.03761 2.93435 9.51226 3.23598 9.79615L7.48598 13.7962C7.77477 14.068 8.22524 14.068 8.51403 13.7962L12.764 9.79615C13.0657 9.51226 13.08 9.03761 12.7962 8.73598C12.5123 8.43435 12.0376 8.41996 11.736 8.70385L9 11.2789V3.25Z" /></svg</span></div></div><div class="stocks-module__tabbedChart"><div class="stocks-module__range-wrapper"><div class="stocks-module__range"><div class="stocks-module__range-content">',((s=i.each.call(e,e&&e.timePeriods,{hash:{},inverse:d.noop,fn:d.program(2,c,t),data:t}))||0===s)&&(a+=s),a+='</div></div><div class="stocks-module__range-fade"></div></div><div class="stocks-module__chart-area js-stocks-module-chartArea"><div class="stocks-module__hover-label-container js-stocks-module-hoverLabelContainer"></div><div class="stocks-module__chart-area-row"><div class="stocks-module__vertical-labels js-stocks-module-verticalLabels"></div><div class="stocks-module__chart js-stocks-module-chart"></div></div><div class="stocks-module__horizontal-labels js-stocks-module-horizontalLabels"></div><div class="stocks-module__chart-placeholder js-stocks-module-chartPlaceholder"><div class="stocks-module__hover-label-container"></div><div class="stocks-module__chart-area-row"><div class="stocks-module__vertical-labels"><div class="stocks-module__label-placeholder"></div><div class="stocks-module__label-placeholder"></div><div class="stocks-module__label-placeholder"></div><div class="stocks-module__label-placeholder"></div></div><div class="stocks-module__chart"><div class="stocks-module__placeholder-box"></div><div class="stocks-module__placeholder-message">',((s=i.lp.call(e,"Stocks module","Historical prices not available",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div></div></div><div class="stocks-module__horizontal-labels"><div class="stocks-module__label-placeholder"></div><div class="stocks-module__label-placeholder"></div><div class="stocks-module__label-placeholder"></div></div></div></div></div><div class="stocks-module__stats-wrapper">',((s=i.ifEquals.call(e,e&&e.assetType,"index",{hash:{},inverse:d.program(9,m,t),fn:d.program(7,u,t),data:t}))||0===s)&&(a+=s),a+='</div><div class="stocks-module__footer"><span class="stocks-module__disclaimer">',((s=i.lp.call(e,"Stocks module","15 minutes delayed",{hash:{},data:t}))||0===s)&&(a+=s),a+='</span><span> • </span><a class="stocks-module__attribution js-stocks-module-attribution"href="https://duckduckgo.com/duckduckgo-help-pages/features/finance/">',((s=i.ifEquals.call(e,e&&e.upstream,"refinitiv",{hash:{},inverse:d.program(16,v,t),fn:d.program(14,g,t),data:t}))||0===s)&&(a+=s),a+="</a></div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><div class="module__more-at-and-feedback js-stocks-module-feedbackContainer"></div></div>'})),this.DDG.templates.tooltip=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;return n+='<div role="tooltip" ',o=i.if.call(t,t&&t.tooltipId,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,s="";return s+='id="'+l(typeof(i=e&&e.tooltipId)===r?i.apply(e):i)+'"'}),a),data:a}),(o||0===o)&&(n+=o),n+=' class="tooltip is-hidden js-tooltip',((o=i.if.call(t,t&&t.isAlignedLeft,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return" is-aligned-left"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.darkerBackgroundDarkTheme,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return" has-darker-background-dark-theme"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.tooltipHoverable,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){return" is-hoverable"}),a),data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.extraClass,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var i,s="";return s+=" "+l(typeof(i=e&&e.extraClass)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+='"><div class="tooltip__triangle-outer js-tooltip-triangle-outer"></div><div class="tooltip__triangle-inner js-tooltip-triangle-inner"></div></div>'})),this.DDG.templates.translation_select_modal=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+="modal--popout--"+l(typeof(i=e&&e.position)===r?i.apply(e):i)}function h(e,t){return"modal--popout--bottom"}function p(e,t){return'<a class="modal__close  js-modal-close">X</a>'}function u(e,t){var s;return(s=i.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(15,m,t),data:t}))||0===s?s:""}function m(e,t){var s;return(s=i.if.call(e,e&&e.visible,{hash:{},inverse:d.noop,fn:d.program(16,_,t),data:t}))||0===s?s:""}function _(e,t){var i,s="";return s+='<li><a data-value="'+l(typeof(i=e&&e.id)===r?i.apply(e):i)+'"class="modal__list__link is-selected is-before-divider js-dropdown-items">'+l(typeof(i=e&&e.name)===r?i.apply(e):i)+"</a></li>"}function f(e,t){var s;return(s=i.if.call(e,e&&e.pinned,{hash:{},inverse:d.noop,fn:d.program(19,g,t),data:t}))||0===s?s:""}function g(e,t){var s;return(s=i.if.call(e,e&&e.visible,{hash:{},inverse:d.noop,fn:d.program(20,v,t),data:t}))||0===s?s:""}function v(e,t){var i,s="";return s+='<li><a data-value="'+l(typeof(i=e&&e.id)===r?i.apply(e):i)+'" class="modal__list__link is-before-divider js-dropdown-items">'+l(typeof(i=e&&e.name)===r?i.apply(e):i)+"</a></li>"}function w(e,t){var s;return(s=i.unless.call(e,e&&e.pinned,{hash:{},inverse:d.noop,fn:d.program(24,y,t),data:t}))||0===s?s:""}function y(e,t){var s;return(s=i.if.call(e,e&&e.visible,{hash:{},inverse:d.noop,fn:d.program(25,b,t),data:t}))||0===s?s:""}function b(e,t){var s,a="";return a+='<li><a data-value="'+l(typeof(s=e&&e.id)===r?s.apply(e):s)+'" class="modal__list__link ',((s=i.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(26,k,t),data:t}))||0===s)&&(a+=s),a+=' js-dropdown-items">'+l(typeof(s=e&&e.name)===r?s.apply(e):s)+"</a></li>"}function k(e,t){return"is-selected"}return n+='<div class="modal--dropdown modal--dropdown--'+l(typeof(o=t&&t.key)===r?o.apply(t):o)+" modal--dropdown--"+l(typeof(o=t&&t.name)===r?o.apply(t):o)+" modal--dropdown--filter modal ",o=i.if.call(t,t&&t.isPopover,{hash:{},inverse:d.program(3,(function(e,t){var s,a="";return a+="modal--popout ",((s=i.if.call(e,e&&e.position,{hash:{},inverse:d.program(6,h,t),fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a}),a),fn:d.program(1,(function(e,t){return"modal--popover modal--popover--gray"}),a),data:a}),(o||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.header,{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return"has-header"}),a),data:a}))||0===o)&&(n+=o),n+=' js-dropdown-popout"><div class="modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box">',o=i.if.call(t,t&&t.header,{hash:{},inverse:d.noop,fn:d.program(10,(function(e,t){var s,a="";return a+='<div class="modal__header"><span class="modal__header__title">'+l(typeof(s=e&&e.header)===r?s.apply(e):s)+"</span>",((s=i.if.call(e,e&&e.isPopover,{hash:{},inverse:d.noop,fn:d.program(11,p,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<div class="modal__body"><div class="modal__list__filter"><input class="js-dropdown-filter" type="search" placeholder="',((o=i.lp.call(t,"translations_module","Search languages",{hash:{},data:a}))||0===o)&&(n+=o),n+='" /></div><ol class="modal__list">',o=i.if.call(t,t&&t.selected,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var s,a="";return((s=i.each.call(e,e&&e.values,{hash:{},inverse:d.noop,fn:d.program(14,u,t),data:t}))||0===s)&&(a+=s),((s=i.each.call(e,e&&e.values,{hash:{},inverse:d.noop,fn:d.program(18,f,t),data:t}))||0===s)&&(a+=s),a+='<li class="modal__list__divider js-dropdown-divider"></li>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.each.call(t,t&&t.values,{hash:{},inverse:d.noop,fn:d.program(22,(function(e,t){var s;return(s=i.unless.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(23,w,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+="</ol></div></div></div></div>"})),this.DDG.templates.translation_select=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div class="dropdown dropdown--translation-select"><a class="dropdown__button js-dropdown-button">',o=i.if.call(t,t&&t.buttonContent,{hash:{},inverse:this.program(3,(function(e,t){var i;return l(typeof(i=e&&e.displayName)===r?i.apply(e):i)}),a),fn:this.program(1,(function(e,t){var i;return l(typeof(i=e&&e.buttonContent)===r?i.apply(e):i)}),a),data:a}),(o||0===o)&&(n+=o),n+="</a></div>"})),this.DDG.templates.translations_module=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var s,a="";return a+='<div class="module--translations-translatedtext js-module--translations-translatedtext">'+l(typeof(s=e&&e.translated_text)===r?s.apply(e):s)+'</div><a class="module--translations-copy js-module--translations-copy" title="',((s=i.lp.call(e,"translations_module","Copy translation",{hash:{},data:t}))||0===s)&&(a+=s),a+='"></a>'}function h(e,t){var s,a="";return a+='<div class="module--translations-translatedtext js-module--translations-translatedtext is-placeholder">',((s=i.lp.call(e,"translations_module","Translation",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}return n+='<div class="translations-wrapper"><div class="module module--translations module__container"><div class="module--translations-section module--translations-original js-module--translations-original ',((o=i.if.call(t,t&&t.error,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"has-error"}),a),data:a}))||0===o)&&(n+=o),n+='"><textarea placeholder="',((o=i.lp.call(t,"translations_module","Enter text",{hash:{},data:a}))||0===o)&&(n+=o),n+='">'+l(typeof(o=t&&t.original_text)===r?o.apply(t):o)+"</textarea>",((o=i.if.call(t,t&&t.error,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<span class="module--translations-length js-module--translations-length"></span>'}),a),data:a}))||0===o)&&(n+=o),n+='<a class="module--translations-clear js-module--translations-clear" title="',((o=i.lp.call(t,"translations_module","Clear source text",{hash:{},data:a}))||0===o)&&(n+=o),n+='"></a></div><div class="module--translations-section module--translations-translated js-module--translations-translated">',o=i.if.call(t,t&&t.error,{hash:{},inverse:d.program(7,(function(e,t){var s;return(s=i.if.call(e,e&&e.translated_text,{hash:{},inverse:d.program(10,h,t),fn:d.program(8,c,t),data:t}))||0===s?s:""}),a),fn:d.program(5,(function(e,t){var i,s="";return s+='<div class="module--translations-translatedtext js-module--translations-translatedtext module--translations-error js-module--translations-error">'+l(typeof(i=e&&e.error)===r?i.apply(e):i)+"</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='</div><a class="module--translations-swap js-module--translations-swap" title="',((o=i.lp.call(t,"translations_module","Swap languages",{hash:{},data:a}))||0===o)&&(n+=o),n+='"><svg class="module--translations-swap-svg" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4.806 2.194a.788.788 0 0 0-1.112 0l-2.75 2.75a.788.788 0 0 0 0 1.112.788.788 0 0 0 1.112 0l1.453-1.454v8.648a.74.74 0 1 0 1.482 0V4.602l1.453 1.454a.788.788 0 0 0 1.112 0 .788.788 0 0 0 0-1.112l-2.75-2.75zM8.444 11.056l2.75 2.75a.788.788 0 0 0 1.112 0l2.75-2.75a.786.786 0 0 0-1.111-1.112L12.5 11.39V2.75a.75.75 0 0 0-1.5 0v8.639L9.556 9.944a.788.788 0 0 0-1.112 0 .788.788 0 0 0 0 1.112z"></path></svg></a><div class="clear"></div></div><div class="module--translations-footer js-module--translations-footer"><p><a href="https://duckduckgo.com/duckduckgo-help-pages/results/translation/" class="tx-clr--grey-light" target="_blank">',((o=i.l.call(t,"Learn %sMore%s","","",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a></p></div></div>"})),this.DDG.templates.user_location_badge=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},"<div class='user-loc-badge js-user-loc-badge'><div class='user-loc-badge__btn user-loc-badge__btn--loc js-user-loc-badge-btn-loc'><span class='js-user-loc-badge-btn-loc-icon ddgsi ddgsi-location'></span></div><div class='user-loc-badge__btn user-loc-badge__btn--close js-user-loc-badge-btn-close is-hidden'><span><svg class=\"user-loc-badge-close-button\"  viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13.28 3.78a.75.75 0 0 0-1.06-1.06L8 6.94 3.78 2.72a.75.75 0 0 0-1.06 1.06L6.94 8l-4.22 4.22a.75.75 0 1 0 1.06 1.06L8 9.06l4.22 4.22a.75.75 0 1 0 1.06-1.06L9.06 8l4.22-4.22Z\"/></svg></span></div><div class='js-user-loc-badge-desc user-loc-badge__desc'></div></div>"})),this.DDG.templates.user_location_button=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this;function l(e,t){return"btn--primary"}function d(e,t){return"update"}function c(e,t){return"enable"}function h(e,t){var s;return(s=i.if.call(e,e&&e.problemUpdatingLocation,{hash:{},inverse:r.program(13,u,t),fn:r.program(11,p,t),data:t}))||0===s?s:""}function p(e,t){var s;return(s=i.lp.call(e,"precise_user_location","Set Manually",{hash:{},data:t}))||0===s?s:""}function u(e,t){var s;return(s=i.lp.call(e,"precise_user_location","Update Location",{hash:{},data:t}))||0===s?s:""}function m(e,t){var s;return(s=i.lp.call(e,"precise_user_location","Enable Location",{hash:{},data:t}))||0===s?s:""}function _(e,t){var s,a="";return a+='<a class="btn user-loc-btn__btn js-user-loc-btn-clear">',((s=i.lp.call(e,"precise_user_location","Clear Location",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}function f(e,t){var s,a="";return a+='<a class="btn ',((s=i.if.call(e,e&&e.highlightManualLocationButton,{hash:{},inverse:r.noop,fn:r.program(4,l,t),data:t}))||0===s)&&(a+=s),a+=' user-loc-btn__btn js-user-loc-btn-manual">',((s=i.lp.call(e,"precise_user_location","Set Manually",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}return n+='<div class="user-loc-btn">',o=i.if.call(t,t&&t.waiting,{hash:{},inverse:r.program(3,(function(e,t){var s,a="";return a+='<a class="btn ',((s=i.unless.call(e,e&&e.highlightManualLocationButton,{hash:{},inverse:r.noop,fn:r.program(4,l,t),data:t}))||0===s)&&(a+=s),a+=" user-loc-btn__btn user-loc-btn__btn--first js-user-loc-btn-",((s=i.if.call(e,e&&e.update,{hash:{},inverse:r.program(8,c,t),fn:r.program(6,d,t),data:t}))||0===s)&&(a+=s),a+='">',((s=i.if.call(e,e&&e.update,{hash:{},inverse:r.program(15,m,t),fn:r.program(10,h,t),data:t}))||0===s)&&(a+=s),a+="</a>",((s=i.if.call(e,e&&e.update,{hash:{},inverse:r.noop,fn:r.program(17,_,t),data:t}))||0===s)&&(a+=s),((s=i.if.call(e,e&&e.showManualLocationButton,{hash:{},inverse:r.noop,fn:r.program(19,f,t),data:t}))||0===s)&&(a+=s),a}),a),fn:r.program(1,(function(e,t){var s,a="";return a+='<a class="btn btn--primary user-loc-btn__btn user-loc-btn__btn--waiting user-loc-btn__btn--first">',((s=i.include.call(e,"spinner",{hash:{className:"user-loc-btn__spinner spinner--dark"},data:t}))||0===s)&&(a+=s),a+="<span>",((s=i.lp.call(e,"precise_user_location","Waiting for Location...",{hash:{},data:t}))||0===s)&&(a+=s),a+='</span></a><a class="btn user-loc-btn__btn js-user-loc-btn-cancel">',((s=i.lp.call(e,"precise_user_location","Cancel",{hash:{},data:t}))||0===s)&&(a+=s),a+="</a>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.user_location_content=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this,l="function",d=this.escapeExpression;function c(e,t){var s,a="";return a+="<button type='button' class='btn btn--default js-user-loc-content-btn-cancel'>",((s=i.lp.call(e,"precise_user_location","Cancel",{hash:{},data:t}))||0===s)&&(a+=s),a+="</button>"}function h(e,t){var s,a="";return a+="<button type='button'class='btn btn--primary js-user-loc-content-btn-enable'>",((s=i.lp.call(e,"precise_user_location","Use Location",{hash:{},data:t}))||0===s)&&(a+=s),a+="</button>"}function p(e,t){return"is-disabled"}function u(e,t){var s,a="";return a+="<button type='button' class='btn btn--secondary js-user-loc-content-btn-clear'>",((s=i.lp.call(e,"precise_user_location","Clear & Disable",{hash:{},data:t}))||0===s)&&(a+=s),a+="</button>"}function m(e,t){var s,a="";return a+="<button type='button' class='btn btn--secondary js-user-loc-content-btn-cancel'>",((s=i.lp.call(e,"precise_user_location","Cancel",{hash:{},data:t}))||0===s)&&(a+=s),a+="</button>"}function _(e,t){var s,a="";return a+="<a class='js-user-loc-content-alt-precise'><div><div class='user-loc-content__addl-opts__title'>",((s=i.lp.call(e,"precise_user_location","Use Anonymous Location",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div><div class='user-loc-content__addl-opts__subtitle'>",((s=i.lp.call(e,"precise_user_location","Private to us and secured on your device",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div></div>"}function f(e,t){var s,a="";return a+="<a class='js-user-loc-content-alt-manual'><div class='user-loc-content__addl-opts__title'>",((s=i.lp.call(e,"precise_user_location","Set New Location on Map",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}function g(e,t){var s,a="";return a+="<div>",((s=i.lp.call(e,"precise_user_location","Set your location manually, or ensure Location Services is enabled.",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}function v(e,t){var i,s="";return s+="<li>",((i=typeof e===l?e.apply(e):e)||0===i)&&(s+=i),s+="</li>"}return n+="<div class='user-loc-content js-user-loc-content'>",o=i.ifEquals.call(t,t&&t.state,"locUnset",{hash:{},inverse:r.noop,fn:r.program(1,(function(e,t){var s,a="";return a+="<section><div class='user-loc-content__header js-user-loc-content-header'><div class='user-loc-content__icon'><div class='ddgsi ddgsi-location'></div></div><div class='user-loc-content__copy js-user-loc-content-copy'><div class='user-loc-content__desc_title'>",((s=i.lp.call(e,"precise_user_location","Find results closer to you",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div><div class='user-loc-content__desc'>",((s=i.lp.call(e,"precise_user_location","We can anonymize%s your location%s to show you more accurate results.","<wbr>","<wbr>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div></div></div><div class='user-loc-content__btn'>",((s=i.if.call(e,e&&e.waiting,{hash:{},inverse:r.program(4,h,t),fn:r.program(2,c,t),data:t}))||0===s)&&(a+=s),a+="</div></section><section class='user-loc-content__addl-opts js-user-loc-content-addl-opts'><a class='js-user-loc-content-alt-manual'><div class='user-loc-content__addl-opts__title'>",((s=i.lp.call(e,"precise_user_location","Set Location on Map",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><span><svg class="user-loc-chevron" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.47 3.22a.75.75 0 0 0 0 1.06L9.19 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06L6.53 3.22a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/></svg></span></a><a href=\'https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results\' rel=\'noopener\' target=\'_blank\'><div class=\'user-loc-content__addl-opts__title\'>',((s=i.lp.call(e,"precise_user_location","How We Keep Your Location Private",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><span><svg class="user-loc-chevron" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.47 3.22a.75.75 0 0 0 0 1.06L9.19 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06L6.53 3.22a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/></svg></span></a></section>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.ifEquals.call(t,t&&t.state,"locSet",{hash:{},inverse:r.noop,fn:r.program(6,(function(e,t){var s,a="";return a+="<section><div class='user-loc-content__header js-user-loc-content-header'><div class='user-loc-content__copy js-user-loc-content-copy'><div class='user-loc-content__desc_title_location_set'>",((s=i.lp.call(e,"precise_user_location","Anonymizing your location in",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><div class=\'user-loc-content__desc_location_set\'> <svg class="user-loc-content__desc_icon" height="16" viewBox="0 0 16 16"xmlns="http://www.w3.org/2000/svg"><path d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4" /><path fill-rule="evenodd"d="M8 0a6 6 0 0 0-5.885 7.17c.237 1.19.88 2.23 1.616 3.044a23.086 23.086 0 0 1 2.791 3.784c.282.483.48.872.606 1.136a8.997 8.997 0 0 1 .166.372l.007.015v.002a.75.75 0 0 0 1.417-.056l.005-.015.023-.068c.022-.064.058-.162.11-.291a11.8 11.8 0 0 1 .525-1.116c.505-.95 1.344-2.272 2.672-3.72.68-.743 1.584-1.843 1.832-3.086A6 6 0 0 0 8 0m.056 13.273-.105.202A24.58 24.58 0 0 0 4.845 9.21c-.614-.682-1.09-1.485-1.259-2.333a4.5 4.5 0 1 1 8.828 0c-.158.794-.786 1.623-1.467 2.365-1.422 1.552-2.333 2.98-2.89 4.03"clip-rule="evenodd" /></svg>'+d(typeof(s=e&&e.desc)===l?s.apply(e):s)+"</div></div><div class='user-loc-content__btns js-user-loc-content-btns'><button type='button'class='btn btn--primary ",((s=i.if.call(e,e&&e.waiting,{hash:{},inverse:r.noop,fn:r.program(7,p,t),data:t}))||0===s)&&(a+=s),a+=" js-user-loc-content-btn-update'>",((s=i.lp.call(e,"precise_user_location","Refresh Location",{hash:{},data:t}))||0===s)&&(a+=s),a+="</button>",((s=i.unless.call(e,e&&e.waiting,{hash:{},inverse:r.program(11,m,t),fn:r.program(9,u,t),data:t}))||0===s)&&(a+=s),a+="</div></div></section><section class='user-loc-content__addl-opts js-user-loc-content-addl-opts'>",((s=i.ifEquals.call(e,e&&e.locType,"manual",{hash:{},inverse:r.noop,fn:r.program(13,_,t),data:t}))||0===s)&&(a+=s),((s=i.ifEquals.call(e,e&&e.locType,"precise",{hash:{},inverse:r.noop,fn:r.program(15,f,t),data:t}))||0===s)&&(a+=s),a+='<span><svg class="user-loc-chevron" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.47 3.22a.75.75 0 0 0 0 1.06L9.19 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06L6.53 3.22a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/></svg></span></a><a href=\'https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results\' rel=\'noopener\' target=\'_blank\'><div class=\'user-loc-content__addl-opts__title\'>',((s=i.lp.call(e,"precise_user_location","How We Keep Your Location Private",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><span><svg class="user-loc-chevron" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.47 3.22a.75.75 0 0 0 0 1.06L9.19 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06L6.53 3.22a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/></svg></span></a></section>'}),a),data:a}),(o||0===o)&&(n+=o),o=i.ifEquals.call(t,t&&t.state,"locError",{hash:{},inverse:r.noop,fn:r.program(17,(function(e,t){var s,a="";return a+="<section class=\"user-loc-error\"><div class='user-loc-content__header js-user-loc-content-header'><div class='user-loc-content__icon--error'><div class='ddgsi ddgsi-location'></div><div class='user-loc-content__icon__switch'><div name='slider'></div></div></div><div class='user-loc-content__copy js-user-loc-content-copy '><div class=\"user-loc-content__desc_title\">",((s=i.lp.call(e,"precise_user_location","Enable Location",{hash:{},data:t}))||0===s)&&(a+=s),a+="</div></div>",((s=i.if.call(e,e&&e.isBrowserTroubleshoot,{hash:{},inverse:r.noop,fn:r.program(18,g,t),data:t}))||0===s)&&(a+=s),a+="</div></section><section class=\"user-loc-instructions\"><ol class='user-loc-content__err__fix'>",((s=i.each.call(e,e&&e.list,{hash:{},inverse:r.noop,fn:r.program(20,v,t),data:t}))||0===s)&&(a+=s),a+="</ol></section><section><div class='user-loc-content__btn js-user-loc-content-btns'><button type='button' class='btn btn--primary js-user-loc-content-btn-dismiss'>",((s=i.lp.call(e,"precise_user_location","Got It",{hash:{},data:t}))||0===s)&&(a+=s),a+="</button></div></section><section class='user-loc-content__addl-opts js-user-loc-content-addl-opts'><a class='js-user-loc-content-alt-manual'><div class='user-loc-content__addl-opts__title'>",((s=i.lp.call(e,"precise_user_location","Set Location on Map",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><span><svg class="user-loc-chevron" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.47 3.22a.75.75 0 0 0 0 1.06L9.19 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06L6.53 3.22a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/></svg></span></a><a href=\'https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results\' rel=\'noopener\' target=\'_blank\'><div class=\'user-loc-content__addl-opts__title\'>',((s=i.lp.call(e,"precise_user_location","How We Keep Your Location Private",{hash:{},data:t}))||0===s)&&(a+=s),a+='</div><span><svg class="user-loc-chevron" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.47 3.22a.75.75 0 0 0 0 1.06L9.19 8l-3.72 3.72a.75.75 0 1 0 1.06 1.06l4.25-4.25a.75.75 0 0 0 0-1.06L6.53 3.22a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/></svg></span></a></section>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.user_location_dropdown=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},"<div class='user-loc-dropdown js-user-loc-dropdown modal--dropdown modal__box'></div>"})),this.DDG.templates.user_location_info=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<p class="user-loc-extra-info">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"precise_user_location","DuckDuckGo is private by design. When you enable location, it is stored on your local device only. When you search, your device then sends it to us, we use it to improve results for that search, and then we promptly throw it away, such that you remain anonymous. %sLearn more about how we designed this technology to protect your privacy%s.",'<a href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",{hash:{},data:a}))||0===o)&&(n+=o),n+="</p>"})),this.DDG.templates.user_location_notification=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+="<div class='is-hidden user-location-notification js-user-location-notification'><div>",((o=(i=this.merge(i,e.helpers)).lp.call(t,"precise_user_location","We only use your anonymous location to deliver better results, closer to you. You can always change your mind later.",{hash:{},data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.user_location_tile=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="";return n+="<div class='user-loc-tile__container js-user-loc-tile'><div class='user-loc-tile js-user-loc-tile-button simple-tooltip' data-tooltip='"+(0,this.escapeExpression)("function"==typeof(o=t&&t.position)?o.apply(t):o)+" 250' data-tooltip-text='",((o=i.lp.call(t,"precise_user_location","Find results closer to you",{hash:{},data:a}))||0===o)&&(n+=o),n+="'><div class='user-loc-tile__icons js-user-loc-tile-icons'><span class='js-user-loc-tile-marker ddgsi ddgsi-marker'></span><span class='js-user-loc-tile-down ddgsi ddgsi-down'></span></div></div></div>"})),this.DDG.templates.user_location_tooltip_content=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+="<div class='user-loc-tooltip__address'><span class='ddgsi ddgsi-marker'></span><span> "+l(typeof(i=e&&e.desc)===r?i.apply(e):i)+"</span></div>"}function h(e,t){var i,s="";return s+="<li>",((i=typeof e===r?e.apply(e):e)||0===i)&&(s+=i),s+="</li>"}return n+="<div class='js-user-loc-content'><div class='js-user-loc-content-copy'>",o=i.if.call(t,t&&t.locUnset,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+='<p class="user-loc-tooltip__title">',((s=i.lp.call(e,"precise_user_location","Find results closer to you.",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><p class="user-loc-tooltip__subtitle">',((s=i.lp.call(e,"precise_user_location","Try enabling anonymous location for more accurate results.",{hash:{},data:t}))||0===s)&&(a+=s),a+="<br>",((s=i.lp.call(e,"precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.locSet,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.desc,{hash:{},inverse:d.noop,fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='<p class="user-loc-tooltip__title">',((s=i.lp.call(e,"precise_user_location","Anonymous Location Enabled",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><p class="user-loc-tooltip__subtitle">',((s=i.lp.call(e,"precise_user_location","Location information is stored only on your device.",{hash:{},data:t}))||0===s)&&(a+=s),a+="<br>",((s=i.lp.call(e,"precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.locError,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var s,a="";return a+="<div class='user-loc-tooltip__err-img-container'><div class='js-user-loc-content-err-img'></div></div><p class='user-loc-tooltip__title user-loc-tooltip__title--error'>",((s=i.lp.call(e,"precise_user_location","Browser Location Unavailable",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><p class="user-loc-tooltip__subtitle">',((s=i.lp.call(e,"precise_user_location","Set your location manually, or ensure Location Services is enabled.",{hash:{},data:t}))||0===s)&&(a+=s),a+='<br><a class="user-loc-tooltip__link js-user-loc-content-help" href="https://duckduckgo.com/duckduckgo-help-pages/results/local-results/" target="_blank" rel="noopener">',((s=i.lp.call(e,"precise_user_location","Help",{hash:{},data:t}))||0===s)&&(a+=s),a+='</a></p><ol class="user-loc-tooltip__error-fix">',((s=i.each.call(e,e&&e.instructions,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===s)&&(a+=s),a+="</ol>"}),a),data:a}),(o||0===o)&&(n+=o),o=i.if.call(t,t&&t.locUpdProblem,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.desc,{hash:{},inverse:d.noop,fn:d.program(4,c,t),data:t}))||0===s)&&(a+=s),a+='<p class="user-loc-tooltip__title">',((s=i.lp.call(e,"precise_user_location","Not getting nearby results?",{hash:{},data:t}))||0===s)&&(a+=s),a+='</p><p class="user-loc-tooltip__subtitle">',((s=i.lp.call(e,"precise_user_location","Try setting your location manually.",{hash:{},data:t}))||0===s)&&(a+=s),a+="<br>",((s=i.lp.call(e,"precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",{hash:{},data:t}))||0===s)&&(a+=s),a+="</p>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div><div class='js-user-loc-content-buttons user-loc-tooltip__buttons'></div></div>"})),this.DDG.templates.user_location_tooltip=Handlebars.template((function(e,t,i,s,a){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{},"<div class='user-loc-tooltip js-user-loc-tooltip'><div class='user-loc-tooltip__triangle-outer'></div><div class='user-loc-tooltip__triangle-inner js-user-loc-tooltip-triangle-inner'></div><div class='user-loc-tooltip__inner js-user-loc-tooltip-inner'><span class='user-loc-tooltip__dismiss ddgsi js-user-loc-tooltip-dismiss'>×</span></div></div>"})),this.DDG.templates.vertical_link_item=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression,l=this,d="function";function c(e,t){var s;return(s=i.if.call(e,e&&e.isIE,{hash:{},inverse:l.program(13,p,t),fn:l.program(11,h,t),data:t}))||0===s?s:""}function h(e,t){var s,a="";return a+='<div class="result__image__img" style="background-image:url(\''+r(i.imageProxy.call(e,null==(s=e&&e.model)||!1===s?s:s.image,null==(s=e&&e.model)||!1===s?s:s.imageProxyOps,{hash:{},data:t}))+"')\"></div>"}function p(e,t){var s,a="";return((s=i.if.call(e,e&&e.isNews,{hash:{},inverse:l.noop,fn:l.program(14,u,t),data:t}))||0===s)&&(a+=s),a+='<img class="result__image__img js-result-image" src="'+r(i.imageProxy.call(e,null==(s=e&&e.model)||!1===s?s:s.image,null==(s=e&&e.model)||!1===s?s:s.imageProxyOps,{hash:{},data:t}))+'" />'}function u(e,t){return'<div class="result__image__plc ddgsi ddgsi-news js-result-img-placeholder"></div>'}function m(e,t){var s;return(s=i.if.call(e,null==(s=e&&e.model)||!1===s?s:s.fetch_image,{hash:{},inverse:l.noop,fn:l.program(14,u,t),data:t}))||0===s?s:""}function _(e,t){return' target="_blank"'}function f(e,t){var s,a="";return a+='<div class="result__snippet">',((s=i.ellipsis.call(e,null==(s=e&&e.model)||!1===s?s:s.excerpt,600,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}function g(e,t){return"is-hidden"}function v(e,t){var i,s="";return s+='<span class="result__extras__time"><span class="result__extras__sep">|</span><span class="result__timestamp">'+r(typeof(i=null==(i=e&&e.model)||!1===i?i:i.relative_time)===d?i.apply(e):i)+"</span></span>"}function w(e,t){var i,s="";return s+='<span class="result__extras__sep">|</span><span class="result__timestamp">'+r(typeof(i=null==(i=e&&e.model)||!1===i?i:i.relative_time)===d?i.apply(e):i)+"</span>"}return n+='<div class="result result--'+r(typeof(o=null==(o=t&&t.answer)||!1===o?o:o.id)===d?o.apply(t):o)+" ",((o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.highlighted,{hash:{},inverse:l.noop,fn:l.program(1,(function(e,t){return" highlight"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.showImage,{hash:{},inverse:l.noop,fn:l.program(3,(function(e,t){return" result--img"}),a),data:a}))||0===o)&&(n+=o),((o=i.if.call(t,t&&t.urlAboveSnippet,{hash:{},inverse:l.noop,fn:l.program(5,(function(e,t){return" result--url-above-snippet"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.noExcerpt,{hash:{},inverse:l.noop,fn:l.program(7,(function(e,t){return"result--no-excerpt"}),a),data:a}))||0===o)&&(n+=o),n+='" data-link="'+r(typeof(o=null==(o=t&&t.model)||!1===o?o:o.url)===d?o.apply(t):o)+'"><div class="result__body">',o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.showImage,{hash:{},inverse:l.noop,fn:l.program(9,(function(e,t){var s,a="";return a+='<div class="result__image js-result-image-wrapper">',((s=i.if.call(e,null==(s=e&&e.model)||!1===s?s:s.image,{hash:{},inverse:l.program(16,m,t),fn:l.program(10,c,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+='<h2 class="result__title"><a class="result__a" rel="noopener" href="'+r(typeof(o=null==(o=t&&t.model)||!1===o?o:o.url)===d?o.apply(t):o)+'"',((o=i.if.call(t,t&&t.targetBlank,{hash:{},inverse:l.noop,fn:l.program(18,_,a),data:a}))||0===o)&&(n+=o),n+=">",((o=typeof(o=null==(o=t&&t.model)||!1===o?o:o.title)===d?o.apply(t):o)||0===o)&&(n+=o),n+='</a><a class="result__check" rel="noopener" href="'+r(typeof(o=null==(o=t&&t.model)||!1===o?o:o.url)===d?o.apply(t):o)+'"><span class="result__check__tt">',((o=i.l.call(t,"Your browser indicates if you've visited this link",{hash:{},data:a}))||0===o)&&(n+=o),n+="</span></a></h2>",((o=i.if.call(t,t&&t.urlAboveSnippet,{hash:{},inverse:l.program(20,f,a),fn:l.noop,data:a}))||0===o)&&(n+=o),o=i.if.call(t,t&&t.isNews,{hash:{},inverse:l.program(27,(function(e,t){var s,a="";return a+='<div class="result__extras"><div class="result__extras__url"><span class="result__icon ',((s=i.if.call(e,e&&e.favicons,{hash:{},inverse:l.program(23,g,t),fn:l.noop,data:t}))||0===s)&&(a+=s),a+='">',((s=i.favicon.call(e,null==(s=e&&e.model)||!1===s?s:s.favicon_url,{hash:{},data:t}))||0===s)&&(a+=s),a+='</span><a class="result__url" href="'+r(typeof(s=null==(s=e&&e.model)||!1===s?s:s.url)===d?s.apply(e):s)+'" rel="noopener"',((s=i.if.call(e,e&&e.targetBlank,{hash:{},inverse:l.noop,fn:l.program(18,_,t),data:t}))||0===s)&&(a+=s),a+=">",((s=typeof(s=null==(s=e&&e.model)||!1===s?s:s.source)===d?s.apply(e):s)||0===s)&&(a+=s),a+="</a>",((s=i.if.call(e,null==(s=e&&e.model)||!1===s?s:s.relative_time,{hash:{},inverse:l.noop,fn:l.program(28,w,t),data:t}))||0===s)&&(a+=s),a+="</div></div>"}),a),fn:l.program(22,(function(e,t){var s,a="";return a+='<div class="result__extras"><span class="result__extras__url"><span class="result__icon ',((s=i.if.call(e,e&&e.favicons,{hash:{},inverse:l.program(23,g,t),fn:l.noop,data:t}))||0===s)&&(a+=s),a+='">',((s=i.favicon.call(e,null==(s=e&&e.model)||!1===s?s:s.favicon_url,{hash:{},data:t}))||0===s)&&(a+=s),a+='</span><a class="result__url" href="'+r(typeof(s=null==(s=e&&e.model)||!1===s?s:s.url)===d?s.apply(e):s)+'" rel="noopener"',((s=i.if.call(e,e&&e.targetBlank,{hash:{},inverse:l.noop,fn:l.program(18,_,t),data:t}))||0===s)&&(a+=s),a+=">",((s=typeof(s=null==(s=e&&e.model)||!1===s?s:s.source)===d?s.apply(e):s)||0===s)&&(a+=s),a+="</a></span>",((s=i.if.call(e,null==(s=e&&e.model)||!1===s?s:s.relative_time,{hash:{},inverse:l.noop,fn:l.program(25,v,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),((o=i.if.call(t,t&&t.urlAboveSnippet,{hash:{},inverse:l.noop,fn:l.program(20,f,a),data:a}))||0===o)&&(n+=o),n+="</div></div>"})),this.DDG.templates.vertical_links=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression;return n+='<div data-testid="'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+'-vertical" class="vertical vertical--'+l(typeof(o=t&&t.id)===r?o.apply(t):o)+' is-hidden"><div class="serp__top-right js-vertical-top-right"></div><div class="serp__bottom-right js-vertical-bottom-right"></div><div class="cw"><div class="serp__results"><div class="results--main"><div class="search-filters-wrap"><div class="search-filters js-vertical-filters"></div></div><div class="results--message"></div><div class="results js-vertical-results"></div></div><div class="results--sidebar js-vertical-sidebar"><div class="sidebar-modules js-vertical-sidebar-modules"></div><div class="sidebar-slotted-modules js-vertical-sidebar-slotted-modules"></div></div></div></div></div>'})),this.DDG.templates.vertical_load_more=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="result result--more js-result-more"><a class="result--more__btn btn btn--full">',((o=(i=this.merge(i,e.helpers)).l.call(t,"Load More",{hash:{},data:a}))||0===o)&&(n+=o),n+="</a>",((o=i.loader.call(t,{hash:{},data:a}))||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.vertical_map=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){return"is-hidden"}function h(e,t){var i,s="";return s+="vertical--map--sidebar-"+l(typeof(i=null==(i=e&&e.model)||!1===i?i:i.sidebarLayout)===r?i.apply(e):i)}function p(e,t){return"has-directions"}function u(e,t){var s;return(s=i.unless.call(e,null==(s=e&&e.model)||!1===s?s:s.sourceUrl,{hash:{},inverse:d.noop,fn:d.program(1,c,t),data:t}))||0===s?s:""}return n+='<div data-testid="maps-vertical" class="vertical vertical--map ',((o=i.unless.call(t,null==(o=t&&t.model)||!1===o?o:o.isMapExpanded,{hash:{},inverse:d.noop,fn:d.program(1,c,a),data:a}))||0===o)&&(n+=o),n+=" ",o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.isMapSidebarVisible,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var s;return(s=i.if.call(e,null==(s=e&&e.model)||!1===s?s:s.sidebarLayout,{hash:{},inverse:d.noop,fn:d.program(4,h,t),data:t}))||0===s?s:""}),a),data:a}),(o||0===o)&&(n+=o),n+=" vertical--map--"+l(typeof(o=null==(o=t&&t.model)||!1===o?o:o.nameId)===r?o.apply(t):o)+' js-vertical-map"><div class="vertical--map__map js-vertical-map-map"><div class="map-controls map-controls--topleft js-vertical-map-control-topleft"></div><div class="map-controls map-controls--topcenter js-vertical-map-controls-topcenter"><button class="btn vertical--map__search-this-area is-hidden js-vertical-map-requery">Search this area</button></div><div class="map-controls map-controls--topright js-vertical-map-control-topright"></div></div>',o=i.if.call(t,null==(o=t&&t.model)||!1===o?o:o.isMapSidebarVisible,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var s,a="";return a+='<div data-testid="maps-vertical-sidebar" class="vertical--map__sidebar js-vertical-map-sidebar ',((s=i.if.call(e,null==(s=e&&e.model)||!1===s?s:s.isDirectionsActive,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(a+=s),a+='"><div class="vertical--map__sidebar__wrapper"><div class="vertical--map__sidebar__inner js-vertical-map-sidebar-inner"><div class="vertical--map__sidebar__results js-vertical-map-results-container"><div class="vertical--map__sidebar__results__inner js-vertical-map-results"></div><div class="',((s=i.unless.call(e,null==(s=e&&e.model)||!1===s?s:s.isMoreAtVisible,{hash:{},inverse:d.noop,fn:d.program(9,u,t),data:t}))||0===s)&&(a+=s),a+=' module__section module__section--simple js-vertical-map-more"><a class="module__link module__places-more__link js-vertical-map-more-link" href="'+l(typeof(s=null==(s=e&&e.model)||!1===s?s:s.sourceUrl)===r?s.apply(e):s)+'" target="_blank" rel="noopener">',((s=i.favicon.call(e,null==(s=e&&e.model)||!1===s?s:s.sourceUrl,{hash:{},data:t}))||0===s)&&(a+=s),a+=" "+l(typeof(s=null==(s=e&&e.model)||!1===s?s:s.moreAtExternalServiceText)===r?s.apply(e):s)+'</a></div></div><div data-testid="maps-vertical-detail"  class="vertical--map__sidebar__detail js-vertical-map-detail"></div><div class="vertical--map__sidebar__footer js-vertical-map-footer"></div>                    </div></div><div class="vertical--map__sidebar-mask js-vertical-map-mask"></div><div class="map-control vertical--map__sidebar__toggle js-vertical-map-toggle"><button class="btn ddgsi ddgsileft vertical--map__btn js-vertical-map-toggle-button" data-testid="map-sidebar-toggle-desktop">&lt;</button></div></div>'}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.vertical_section_divider=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<div class="vertical-section-divider',((o=(i=this.merge(i,e.helpers)).if.call(t,t&&t.border,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return" has-border"}),a),data:a}))||0===o)&&(n+=o),n+=' js-vertical-section-divider"></div>'})),this.DDG.templates.vertical_section_header=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<div class="vertical-section-header',((o=i.if.call(t,t&&t.isIE,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return" is-ie"}),a),data:a}))||0===o)&&(n+=o),n+=' js-vertical-section-header"><div class="vertical-section-header__title js-vertical-section-header-title">'+r("function"==typeof(o=t&&t.outputtedTitle)?o.apply(t):o)+"</div></div>"})),this.DDG.templates.vertical_separator=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r="function",l=this.escapeExpression,d=this;function c(e,t){var i,s="";return s+='<div class="result__pagenum  result__pagenum--side">'+l(typeof(i=e&&e.pageNumber)===r?i.apply(e):i)+"</div>"}function h(e,t){var s,a="";return a+='<div class="result__pagenum">',((s=i.l.call(e,"Page %s",e&&e.pageNumber,{hash:{},data:t}))||0===s)&&(a+=s),a+="</div>"}return n+='<div class="result result--sep ',((o=i.if.call(t,t&&t.line,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"result--sep--hr"}),a),data:a}))||0===o)&&(n+=o),n+=" ",((o=i.if.call(t,t&&t.pageNumber,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"has-pagenum"}),a),data:a}))||0===o)&&(n+=o),n+=' js-result-sep">',o=i.if.call(t,t&&t.pageNumber,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var s,a="";return((s=i.if.call(e,e&&e.line,{hash:{},inverse:d.program(8,h,t),fn:d.program(6,c,t),data:t}))||0===s)&&(a+=s),a+="</div>"}),a),data:a}),(o||0===o)&&(n+=o),n+="</div>"})),this.DDG.templates.welcome_message_eu=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,n="",r=this.escapeExpression;return n+='<section class="welcome welcome--euandroid" data-testid="welcome-euandroid"><div class="welcome__inner-wrap"><h1 class="welcome__heading">',((o=i.lp.call(t,"welcome message eu search preference android","Privacy, simplified",{hash:{},data:a}))||0===o)&&(n+=o),n+='</h1><p class="welcome__snippet">',((o=i.lp.call(t,"welcome message eu search preference android","You're now searching privately in Chrome. Use our app instead of Chrome to browse privately too. It’s already installed and can:",{hash:{},data:a}))||0===o)&&(n+=o),n+="</p><ul><li>",((o=i.lp.call(t,"welcome message eu search preference android","Block unsafe trackers",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"welcome message eu search preference android","Force encryption on websites",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"welcome message eu search preference android","Clear data in one tap",{hash:{},data:a}))||0===o)&&(n+=o),n+='</li></ul><a href="intent://duckduckgo.com/?q='+r("function"==typeof(o=t&&t.queryString)?o.apply(t):o)+'#Intent;scheme=https;package=com.duckduckgo.mobile.android;S.browser_fallback_url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.duckduckgo.mobile.android;end" class="welcome__cta js-welcome-cta">',((o=i.lp.call(t,"welcome message eu search preference android","Open app",{hash:{},data:a}))||0===o)&&(n+=o),n+='</a><button type="button" aria-label="dismiss" class="welcome__dismiss welcome__dismiss ddgsi js-welcome-dismiss">X</button></div><img class="welcome__bg" src="assets/welcome-illustration.svg" role="presentation"/></section>'})),this.DDG.templates.welcome_message=Handlebars.template((function(e,t,i,s,a){this.compilerInfo=[4,">= 1.0.0"],a=a||{};var o,n="";return n+='<section class="welcome" data-testid="extension-welcome-banner"><div class="welcome__inner-wrap"><h1 class="welcome__heading">',((o=(i=this.merge(i,e.helpers)).lp.call(t,"welcome message","You now have the DuckDuckGo extension!",{hash:{},data:a}))||0===o)&&(n+=o),n+='</h1><p class="welcome__snippet">',((o=i.lp.call(t,"welcome message","Here's what it does:",{hash:{},data:a}))||0===o)&&(n+=o),n+="</p><ul><li>",((o=i.lp.call(t,"welcome message","Lets you search anonymously with DuckDuckGo",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"welcome message","Blocks trackers on websites you visit",{hash:{},data:a}))||0===o)&&(n+=o),n+="</li><li>",((o=i.lp.call(t,"welcome message","Encrypts connections when possible",{hash:{},data:a}))||0===o)&&(n+=o),n+='</li></ul><button type="button" class="welcome__dismiss welcome__dismiss ddgsi js-welcome-dismiss" aria-label="dismiss">X</button></div><img class="welcome__bg" src="assets/welcome-illustration.svg" role="presentation"/></section>'}));